<!DOCTYPE html>
<html>
<head>
  <title>Conversion between JSON and XML</title>
<!--
 <link rel="stylesheet" type="text/css" href="history/history.css" />
 <script type="text/javascript" src="history/history.js"></script>
 -->
 <script type="text/javascript" src="json2xml.js"></script>
 <script type="text/javascript" src="xml2json.js"></script>
 <script type="text/javascript" src="X2J.js"></script>
<style>

.Inscription_Text {
text-shadow: rgb(255, 255, 255) 0px 1px 1px;
text-transform: uppercase;
width: auto;
color: rgb(68, 68, 68);
cursor: auto;
display: inline;
font-family: 'Trebuchet MS', sans-serif;
font-size: 9.60000038146973px;
height: auto;
}
</style>

<script>
// function using MSXMLDOM parser.
function parseXml(xml) {
   var dom = null;
   if (window.DOMParser) {
      try { 
         dom = (new DOMParser()).parseFromString(xml, "text/xml"); 
      } 
      catch (e) { dom = null; }
   }
   else if (window.ActiveXObject) {
      try {
         dom = new ActiveXObject('Microsoft.XMLDOM');
         dom.async = false;
         if (!dom.loadXML(xml)) // parse error ..

            window.alert(dom.parseError.reason + dom.parseError.srcText);
      } 
      catch (e) { dom = null; }
   }
   else
      alert("cannot parse xml string!");
   return dom;
}
function RunTest(){
 
	//var xml = '<e name="value">text</e>',
    //dom = parseXml(xml),
    //json = xml2json(dom),
    //xml2 = json2xml(eval(json));
    
    var taXml = document.getElementById('taXML');
    var srcXml=taXml.value;
    var dom = parseXml(srcXml);
    var rslJson=xml2json(dom,"_");
    var taJson = document.getElementById('taJSON');
    taJson.value=rslJson;
    
    
}
</script>
</head>
<body>
<p>http://goessner.net/download/prj/jsonxml/</p>
<button onclick='RunTest()'>Convert XML in the Top Text Area to JSON string at the bottom Text Area </button> 
<div>  

<textarea id='taXML' rows="30" cols="200" >	
	
</textarea>

<textarea id='taJSON'  rows="30" cols="200">
	
</textarea>
</div>

</body>
</html>
