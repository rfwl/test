<!doctype html>
<html>
<head>
  <title>Test Context Menu</title>
   
  <script type="text/javascript">
	var mozilla=document.getElementById && !document.all
	var ie=document.all
	var contextisvisible=0
	
	function iebody(){
		return (document.compatMode && document.compatMode!="BackCompat")? document.documentElement : document.body
	}
	
	function displaymenu(e){
		el=document.getElementById("context_menu")
		contextisvisible=1
		if (mozilla){
			el.style.left=pageXOffset+e.clientX+"px"
			el.style.top=pageYOffset+e.clientY+"px"
			el.style.visibility="visible"
			e.preventDefault()
			return false
		}
		else if (ie){
			el.style.left=iebody().scrollLeft+event.clientX
			el.style.top=iebody().scrollTop+event.clientY
			el.style.visibility="visible"
			return false
		}
	}
	
	function hidemenu(){
		if (typeof el!="undefined" && contextisvisible){
			el.style.visibility="hidden"
			contextisvisible=0
		}			
	}
	
	if (mozilla){
		document.addEventListener("contextmenu", displaymenu, true)
		document.addEventListener("click", hidemenu, true)
	}
	else if (ie){
		document.attachEvent("oncontextmenu", displaymenu)
		document.attachEvent("onclick", hidemenu)
	}
</script>

</head>
<body onload="init()">
	<p>sample from http://www.javascriptkit.com/dhtmltutors/domevent4.shtml</p>
	
	<div id="context_menu" style="width:150px;border:1px solid black;background-color:#EEEEEE;visibility:hidden;position:absolute;line-height:30px; padding-left: 10px">
		<a href="http://www.codingforums.com">Coding Forums</a><br />
		<a href="http://www.dynamicdrive.com">Dynamic Drive</a><br />
		<a href="http://www.cssdrive.com">CSS Drive</a><br />
		<a href="http://www.javascriptkit.com/jsref/">JavaScript Reference</a><br />
		<a href="http://www.builder.com/">Builder.com</a><br />
	</div>



</body>
</html>



