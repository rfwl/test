-- phpMyAdmin SQL Dump
-- version 4.0.10deb1
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Nov 21, 2017 at 07:50 PM
-- Server version: 5.5.47-0ubuntu0.14.04.1
-- PHP Version: 5.5.9-1ubuntu4.14

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `ttn`
--

-- --------------------------------------------------------

--
-- Table structure for table `note`
--

CREATE TABLE IF NOT EXISTS `note` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `description` varchar(200) DEFAULT NULL,
  `text` mediumtext,
  `modified` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=217 ;

--
-- Dumping data for table `note`
--

INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(165, '', '', '20150419 TTN Enhancements\n-----------------------------------------------\n* Tag editor is not in a good shape.\n-----------------------------------------------\n* Regular auto saving is a must to do. Otherwise,too many times the contents would be lost.\n-----------------------------------------------\n* Add status display. \n-----------------------------------------------\n* Ask or force to save if a note text was changed.\n-----------------------------------------------\n* The note loaded into Note Item Editor was not highlighted in the note list.\n-----------------------------------------------\n* Database backup mechanism.\n-----------------------------------------------\n\n-----------------------------------------------\n\n-----------------------------------------------\n\n-----------------------------------------------\n', '2015-04-19 13:42:48'),
(166, '', '', '20150627 TTN Bugs\n----------------------------------------------------\n?  20170914:  </textarea-a> in note text will break down the note list view''s note display area. Have to add something to destroy the tag.\n----------------------------------------------------\n? Load note into editor and cursor will go to the bottom, not the top.\n----------------------------------------------------\n? Delete a tag, it should be removed from the two tag lists that it might be there.\n\n----------------------------------------------------\n? Delete a Note, the Note List view should be renewed.\n\n----------------------------------------------------\n? Added tag into the Note Editor Tag list will also go to the Search Tag List. This is true when adding new note.\nNoteTagCommander>cmdDropOnNoteTagList duplicates messages to both note tag lists.\nLooks NoteTagCommander is too complicated to handle dropping on NoteTaglist or NoteTag. \nNo easy solution yet.\n\n----------------------------------------------------\n? Put a note onto Note Item editor, note tag list in Note Item Editor should be cleared first before showing the note tags of the note item being edited.\n\n----------------------------------------------------\n? Clear text for a note item in the note editor''s text box, save and nothing happened. Note text cannot be cleared.\n\n----------------------------------------------------\n* Create or Edit a Tag in the Taq editor, click save button, Tag Editor is hidden but the tag list view is short.  \n[Fixed, wrong message name in command handler init. code.]\n \n----------------------------------------------------\n* Sometimes, Note text cannot be updated. Found the cause is SQL execution failed. \n20150714-Fixed.\n** $_POST[''field_name''] will automatically decode and return the field value.\n** //php:input should be used to get raw input string.\n** javascript encodeUriComponent() will not escape '' character and it can broke sql statements.\n** mysqli_real_escape_string($connection,$_GET[''txt'']); should be used to escape text inside SQL string.\n----------------------------------------------------', '2015-06-27 12:14:24'),
(168, '', '', '20150703 EF Tutorial  \n\nhttp://www.entityframeworktutorial.net/code-first/what-is-code-first.aspx\n\n* http://www.entityframeworktutorial.net/ contains many well organized and long tutorials about Entity Framework.\n\n* sample classes for generating DB:  \n    public class Student\n    {\n        public Student(){}\n        public int StudentID { get; set; }\n        public string StudentName { get; set; }\n        public DateTime DateOfBirth { get; set; }\n        public byte[]  Photo { get; set; }\n        public decimal Height { get; set; }\n        public float Weight { get; set; }        \n        public Standard Standard { get; set; }\n    }\n    \n    public class Standard\n    {\n        public Standard(){}\n        public int StandardId { get; set; }\n        public string StandardName { get; set; }    \n        public ICollection<Student> Students { get; set; }  \n     }\n   \n    namespace EF_Code_First_Tutorials\n    {\n        public class SchoolContext: DbContext \n        {\n            public SchoolContext(): base(){}            \n            public DbSet<Student> Students { get; set; }\n            public DbSet<Standard> Standards { get; set; }            \n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            using (var ctx = new SchoolContext())\n            {\n                Student stud = new Student() { StudentName = "New Student" };        \n                ctx.Students.Add(stud);\n                ctx.SaveChanges();                \n            }\n        }\n    }\nEF_Code_First_Tutorials database will be created and two tables: Students and Standards.\n\n* The Default Conventions: \n** Type Discovery:\nCode_first run time will create table for \n*** the types used in the DbContext class \n*** the types referenced from inside used in the DbContext class\n*** the derived types of used in the DbContext class\n\n* Primary Key Convention:\nCode-First would create a primary key for a property if the property name is Id or <class name>Id (NOT case sensitive). \nThe data type of a primary key property can be anything, \nbut if the type of the primary key property is numeric or GUID, it will be configured as an identity column.\nIf defined key property other than Id or <ClassName>Id, then ModelValidationException will be thrown   \n\n* Relationship Convention:\n** infer the relationship between the two entities using navigation property.\n** Navigation property can be simple reference type or collection type. \nICollection<Student> navigation property in Standard class will create one-to-many relationship between Standards and Students DB table by inserting Standard_StandardId foreign key column in the Students table, with <navigation property Name>_<primary key property name of navigation property type> e.g. Standard_StandardId. \n\n* Foreign key Convention:\n** It is recommended to include a foreign key property on the dependent end of a relationship. \n** If the property is nullable then the relationship is registered as null. Otherwise, the relationship is registered as NOT NULL. \n** Modify data type of StandardId property from int to Nullable<int> in the Student class above to create a nullable foreign key column in the Students table. \n\n* Complex type Convention:\n** Code First creates complex type for the class which does not include key property and also primary key is not registered using DataAnnotation or Fluent API.\n** These conventions can be overriden using DataAnnotation or Fluent API. \n** You can define custom conventions for your application using Entity Framework 6.0, onwards.\n \n* Three way to determine where to create DB tables:  \nBased on the parameters passed into the base constructor of the DbContext class: \n** No Parameter: create a new database with name: {Namespace}.{Context class name} in local SQLEXPRESS.\n** Database Name: create DB tables in the specified database in local SQLEXPRESS.\n** ConnectionString Name: create DB tables in the database specified in the connection string.\n    \n    namespace SchoolDataLayer\n    {\n        public class Context: DbContext \n        {\n            public Context(): base() {} \n            public Context(): base("MySchoolDB"){}\n            public SchoolDBContext() : base("name=SchoolDBConnectionString"){}    \n        }\n    }\n\nApp.config:\n    <?xml version="1.0" encoding="utf-8" ?>\n    <configuration>\n      <connectionStrings>\n        <add name="SchoolDBConnectionString" \n        connectionString="Data Source=.;Initial Catalog=SchoolDB-ByConnectionString;Integrated Security=true" \n        providerName="System.Data.SqlClient"/>\n      </connectionStrings>\n    </configuration>\n        \n* Inheritance Strategy in Code-First:\n** Table per Hierarchy (TPH): one table for the entire class inheritance hierarchy,includes discriminator column for each level of class.\nThis is a default inheritance mapping strategy in Entity Framework.\n** Table per Type (TPT): a separate table for each domain class.\n** Table per Concrete class (TPC): one table for one concrete class, but not for the abstract class. \n\n* EF: Convention(default behaviors) over Configuration.\n** There are two ways of configurations:\n*** Annotations using attributes\n*** Fluent API: sub class DbContext, overriding OnModelCreated().\n   \n\n', '2015-07-03 06:57:13'),
(169, '', '', '20150704 Project Birthplace Notes\n----------------------------------------------------------------------------\n\n----------------------------------------------------------------------------\n\n----------------------------------------------------------------------------\n\n----------------------------------------------------------------------------\n20150808: \n* Study the WPF DataGrid Editor ideas.\n----------------------------------------------------------------------------\n20150805:\n* Studied the WPF DataTemplate for developing editors.\n* Sample WPF DataGrid Editor Appliczation:\nhttp://www.codeproject.com/Articles/30905/WPF-DataGrid-Practical-Examples\nhttp://www.wpf-tutorial.com/datagrid-control/custom-columns/\nhttp://www.wpf-tutorial.com/datagrid-control/details-row/\n* Downlaoded project\nhttp://www.codeproject.com/Articles/30905/WPF-DataGrid-Practical-Examples\n** Used wpftoolkit.DataGrid and other controls\n** Failed to find proper wpftoolkit from MS and Xceed.\n** Give up.\n* Back to EF code-first to generate DB from the entity classes. WPF-EF-Test01 \nGot all classes ready and seed data were all written to DB abd then shown on UI.\nThe right DB is BirthplaceDB, not ---03.\n \n  \n----------------------------------------------------------------------------\n20150802:\n* Looks it is hard and too much a distraction to carry on with MVC and so decided using WPF for the editors.\n* Decided to use Fluent API and succeeded in generate DB for property and data object.\n* Played with Entity Framework to use Data Annotation to generate DB for Birthplace app.\nThe major issue is BPProperty has two Foreign Keys(valueDataObject- 1:1 relationship and parentDataObject -1:* relationship) to BPDataObject and this produce errors: cycle, or multiple pathes. The causes might be \n- Some posts said Foreign key attribute can not be used for 1:1 relationship (doubtfully) and  \n- double-foreign keys to the same Entity caused cascading delete or insert issues and both ends are not nullable.\n* EntityFramework 6.1.3 can be used at home vista PC.\n----------------------------------------------------------------------------\n20150719:\n* Download MS tutorial EF_6.1.3_Code_First_ASP.NET_MVC4 project: ContosoUniversity. It is VS2013 and failed to make it workable locally and on CS Server002. But integrated the codes into ConsotoUniversity vs2010 project and added into Birthplace project. Only for code references.\n* Copy EntityFramework 6.1.3 from cs server002 down to local RF-PC, not used any way.\n \n----------------------------------------------------------------------------\n20150718:\n* Started BirthplaceLib project for entity framework classes. \n* Hard to finally design the classes.\n\n----------------------------------------------------------------------------\n20150716:\n* Studied the codes in SocialClub sample and prepare code snippets from it.\n* SocialClub looks a good sample for professional application, used resources, settings, enum, error, validation and DataGridView.\n\n\n----------------------------------------------------------------------------\n20150714:\n* Download Entity framework tutorial from codeproject having sample project John.SocialClub into E:/Birthplace/Samples/SocialClub.\n* Built new projects SocialClubApp(class library) and SocialClubForm(winForm app) and built them to be runnable. The sample has full UI: CRUD and Search for a entity list.  \n\n----------------------------------------------------------------------------\n20150707:\n* The application will produce basically two major things: View Builder and Commanders.\nIt is impossible to generate full source files for now. So in the current version, aim to create guidelines for writing source files.\n\n----------------------------------------------------------------------------\n20150704:\n* The project will aim to produce a tool application in the following stages:\n** EF to create domain classes and DB\n** MVC to create Views\n** jsTree/jqGrid to enhance Views.\n----------------------------------------------------------------------------', '2015-07-03 14:07:01'),
(171, '', '', '20150705 EF Summary\n=============================================================================\n* Reference \nhttp://www.entityframeworktutorial.net/code-first/simple-code-first-example.aspx\n\n=============================================================================\n* Code First development means to develop data model before creating Database or the tables in the database.\n* Two ways to override conventions, Annotation and Fluent API.\n* DbContext will create new Database based on Conventions inside its constructor.\n* DbSet was used to hold a collection of entity objects.\n\n=============================================================================\nHow to use Stored Procedures in Entity Framework\n\nEntity Designer >  main pane > Model Browser > right click SearchEmployee stored procedure \n> Add Function Import > Set "Returns a collection of" value to Entities > Select Employee from drop-down.\n> OK \n\nThe statement to use this stored procedure will be :\n\nList<Employee> empList = db.SearchEmployee(txtSrchFirstName.Text, txtSrchCity.Text).ToList();\n\nThe following code snippet can be used to search employees and bind a grid:\nList<Employee> empList = db.SearchEmployee(txtSrchFirstName.Text, txtSrchCity.Text).ToList();\n\n=============================================================================\nObjectContext.Attach and ObjectSet.Attach:\n\n* ObjectContext.AddObject and ObjectSet.AddObject: \nAdding newly created objects that do not exist in the database with automatically generated temporary EntityKey and its EntityState will be set to Added. When SaveChanges is called, it will be inserted into the database. \n\n*ObjectContext.Attach and ObjectSet.Attach: \nUsed for entities that already exist in the database, their state is Unchanged EntityState.  \nModifying the objects after being attached, SaveChanges() will update (or delete) the appropriate row by finding its matching ID in the db table. \n* Sample: \nvar existingPerson = ctx.Persons.SingleOrDefault(p => p.Name = "Joe Bloggs" };\nvar myAddress = ctx.Addresses.First(a => a.PersonID != existingPerson.PersonID);\nexistingPerson.Addresses.Attach(myAddress);\n// OR:\nmyAddress.PersonReference.Attach(existingPerson)\nctx.SaveChanges();\n\n* Sample:\nprivate static void TestDeleteDestination()\n{\n    Destination canyon;\n    using (var context = new BreakAwayContext())\n    {\n        canyon = (from d in context.Destinations\n        where d.Name == "Grand Canyon"\n        select d).Single();\n    }\n    DeleteDestination(canyon);\n}\nprivate static void DeleteDestination(Destination destination)\n{\n    using (var context = new BreakAwayContext())\n    {\n        context.Destinations.Attach(destination);\n        context.Destinations.Remove(destination);\n        context.SaveChanges();\n    }\n}\n================================================================================\n', '2015-07-04 23:32:23'),
(172, '', '', '20150709 TTN Notes\n\n--------------------------------------------------------------------------------\n20150721: \n* As a backup method, export ttn database into a sql.zip file and saved into E:/Backup/TTN_Backup/.\n\n--------------------------------------------------------------------------------\n20150715: \n* Fixed the bug that sometimes note text cannot be saved without any error message. The problem is string must be escaped before inserting into SQL statement.\n \n--------------------------------------------------------------------------------\n20150713: \n* Upgrading TTN UI by moving Note Item Editor to the right side, not bottom any more.\n** Replaced horizontal re-size handler with the vertical one. \n** Added re-size handler into Note Library VB.\n** Added apply method to function creator ResizeDragBar2.  \n** Added three icon button for note item to give maximal width for each note item in note list.\n** Added outline:... to tag list, note list and note editor and others.\n** Try hard to make the bottom aligned for the three major blocks.\n--------------------------------------------------------------------------------\n20150709:\n* Simplified the appearance\n** Removed the button styles except style_button_3.\n** Added :Hover and :Focus for buttons.\n\n* Upgraded the tag editor: actually simplified the codes there. Found <ul><li> is not that useful here. \nAnd for float layout, minWidth, macWidth are useless. Width must be specified to have predictable results.    \n--------------------------------------------------------------------------------', '2015-07-08 14:20:34'),
(173, '', '', '20150714: EF Code Samples \n=====================================================================\nCodeProject_EF_SocialClub:\n\n public DataRow GetById(int id)\n {\n      using (var context = new SocialClubDbContext())\n            {\n                ClubMember membership = context.ClubMembers.Where(i => i.Id == id).SingleOrDefault();\n\n                return membership.ToDataRow<ClubMember>();\n            }            \n        }\n\n        public DataTable GetAll()\n        {\n            using (var context = new SocialClubDbContext())\n            {\n                IList<ClubMember> members = context.ClubMembers.ToList();\n\n                return members.ToDataTable<ClubMember>();\n            }\n        }\n\n        /// <summary>\n        /// Service method to search records by multiple parameters\n        /// </summary>\n        /// <param name="occupation">occupation value</param>\n        /// <param name="maritalStatus">marital status</param>\n        /// <param name="operand">AND OR operand</param>\n        /// <returns>Data table</returns>\n        public DataTable Search(int occupation, int maritalStatus, string operand)\n        {\n            using (var context = new SocialClubDbContext())\n            {\n                List<ClubMember> members = context.ClubMembers.Where(i => operand == "AND" ?\n                    (occupation == 0 || occupation == i.Occupation) && \n                    (maritalStatus == 0 || maritalStatus == i.MaritalStatus) :\n                    (occupation == 0 || occupation == i.Occupation) || \n                    (maritalStatus == 0 || maritalStatus == i.MaritalStatus))\n                    .ToList();\n\n                return members.ToDataTable<ClubMember>();\n            }\n        }        \n\n        /// <summary>\n        /// Service method to create new member\n        /// </summary>\n        /// <param name="clubMember">club member model</param>\n        /// <returns>true or false</returns>\n        public bool Create(ClubMember clubMember)\n        {\n            using (var context = new SocialClubDbContext())\n            {\n                context.ClubMembers.Add(clubMember);\n                return context.SaveChanges() > 0;\n            }\n        }\n\n        /// <summary>\n        /// Service method to update club member\n        /// </summary>\n        /// <param name="clubMember">club member</param>\n        /// <returns>true / false</returns>\n        public bool Update(ClubMember clubMember)\n        {\n            using (var context = new SocialClubDbContext())\n            {\n                context.ClubMembers.Attach(clubMember);\n                context.Entry(clubMember).State = EntityState.Modified;                \n                return context.SaveChanges() > 0;\n            }\n        }\n\n        /// <summary>\n        /// Method to delete a club member\n        /// </summary>\n        /// <param name="id">member id</param>\n        /// <returns>true / false</returns>\n        public bool Delete(int id)\n        {\n            using (var context = new SocialClubDbContext())\n            {\n                var clubMember = context.ClubMembers.Find(id);\n                context.ClubMembers.Remove(clubMember);\n                return context.SaveChanges() > 0;\n            }            \n        }\n=====================================================================\nCodeProject: Enitity Framework for Beginner \nhttp://www.codeproject.com/Tips/739164/Entity-Framework-Tutorial-for-Beginners\nCodes for CRUD:\n\n* Insert a new record\n\nLearnEFEntities db = new LearnEFEntities();\nEmployee objEmp = new Employee();\nobjEmp.HREmpId = txtHREmpId.Text;\nobjEmp.FirstName = txtFirstName.Text;\nobjEmp.LastName = txtLastName.Text;\nobjEmp.Address = txtAddress.Text;\nobjEmp.City = txtCity.Text;\ndb.Employees.AddObject(objEmp);\ndb.SaveChanges(); \n\n* Read from Employee table and populate GridView\n\nLearnEFEntities db = new LearnEFEntities();\nvar empQuery = from emp in db.Employees select emp;\nList<Employee> empList = empQuery.ToList();\n\nddlEmployee.DataSource = empList;\nddlEmployee.DataValueField = "EmpId";\nddlEmployee.DataTextField = "FirstName";\nddlEmployee.DataBind();\nddlEmployee.Items.Insert(0, new ListItem("--Add New--", "0"));\n \nGridView1.DataSource = empList;\nGridView1.DataBind();\n\n* Update an employee record\n\nLearnEFEntities db = new LearnEFEntities();\nvar empQuery = from emp in db.Employees where emp.EmpId == empId select emp;\nEmployee objEmp = empQuery.Single();\nobjEmp.HREmpId = txtHREmpId.Text;\nobjEmp.FirstName = txtFirstName.Text;\nobjEmp.LastName = txtLastName.Text;\nobjEmp.Address = txtAddress.Text;\nobjEmp.City = txtCity.Text;\ndb.SaveChanges(); \n\n\n* Delete a record: different, attach and then delete\n\nLearnEFEntities db = new LearnEFEntities();\n//create a new object using the value of EmpId\nEmployee objEmp = new Employee() { EmpId = empId };\n//attach and delete object\ndb.Employees.Attach(objEmp);\ndb.Employees.DeleteObject(objEmp);\n//save changes\ndb.SaveChanges(); \n\n* Create Database for the sample project:\n\nCREATE TABLE Employee\n(\n    EmpId        int NOT NULL IDENTITY(1,1) PRIMARY KEY,\n    HREmpId        nvarchar(10),\n    FirstName    nvarchar(30),\n    LastName    nvarchar(30),\n    Address        nvarchar(30),\n    City        nvarchar(30)\n)\nGO\n \n--SearchEmployee '''', ''''\nCREATE PROCEDURE SearchEmployee\n(\n    @FirstName        varchar(30),\n    @City            varchar(30)\n)\nAS\nBEGIN\n    DECLARE @query    nvarchar(1000)\n \n    SET @query = ''SELECT * FROM Employee e''\n    SET @query = @query + '' WHERE 1=1''\n \n    IF @FirstName != ''''\n        SET @query = @query + '' AND FirstName LIKE '''''' + @FirstName + ''%''''''\n \n    IF @City != ''''\n        SET @query = @query + '' AND City LIKE '''''' + @City + ''%''''''\n \n \n    EXEC (@query)\nEND\nGO\n=====================================================================', '2015-07-14 11:39:38'),
(174, '', '', '20150716 Project Birthplace Design\n===================================================================\n\n\n===================================================================\nBirthplace.Shared namespace:\n* Base\n* Parameter: named,dataType\n* Message: named list of parameters\n\nBirthplace.View namespace:\n\n* BuilderType\n\n* BuilderChild\n** elementName\n** dataContext\n** builderName\n** builderType\n\n* BuilderListener\n** eventName\n** functionName\n** List of outgoing messages\n* BuilderHandler\n** incomingMessage\n** functionName\n** List of outgoing messages\n\n\n\n===================================================================\nClasses: \nBuilder: template, data context,...\nBuildChild: builderType,...\nBuilderListener: event, function,...\nBuildHandler: message id, function, ... \n\nCommander\nCommand\nCommandStep: msg,function,context, parameters, ... \n\nMessage \nMessageParameter\n\nEntity\nEntityProperty\n\n\n===================================================================\n\n ', '2015-07-16 10:14:42'),
(175, '', '', '20150716 Dot.NET Codes\n=============================================================\n\n\n=============================================================\n\n\n=============================================================\n//Enum being DataSource\npublic enum EnumOccupation\n{\n        Doctor = 1,\n        Engineer,\n        Professor\n}\n// Enum used as DataSource\ncmbOccupation.DataSource = Enum.GetValues(typeof(EnumOccupation));\n// Read value from the data source\noccupationId = (int)cmbOccupation.SelectedValue,\n// Get name for a Enum value\noccupationName = Enum.GetName(typeof(EnumOccupation),occupationId).ToString();\n\n=============================================================\n// WinForm DataGridView control\n\n//------------------------------------------------------------\n// Setting the style of the \ndgv.ColumnHeadersDefaultCellStyle.Font = new Font("Tahoma", 9, FontStyle.Bold, GraphicsUnit.Point);\ndgv.ColumnHeadersDefaultCellStyle.BackColor = SystemColors.ControlDark;\ndgv.ColumnHeadersBorderStyle = DataGridViewHeaderBorderStyle.Single;\ndgv.ColumnHeadersDefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleCenter;\ndgv.DefaultCellStyle.Font = new Font("Tahoma", 8, FontStyle.Regular, GraphicsUnit.Point);\ndgv.DefaultCellStyle.BackColor = Color.Empty;\ndgv.AlternatingRowsDefaultCellStyle.BackColor = SystemColors.Info;\ndgv.CellBorderStyle = DataGridViewCellBorderStyle.Single;\ndgv.GridColor = SystemColors.ControlDarkDark;\n\n//------------------------------------------------------------\n// Rendering WinForm DataGridView cells in CellFormatting event: \nprivate void DataGridView_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)\n{ \n   if (e.ColumnIndex == 2)\n       e.Value = string.Format("{0:dd/MM/yyyy}", (DateTime)e.Value);\n   if (e.ColumnIndex == 3)\n       e.Value = Enum.GetName(typeof(Occupation), e.Value).ToString();\n   e.Value = Convert.ToDecimal(e.Value) == 0 ? string.Empty : e.Value;\n   e.Value = Convert.ToInt16(e.Value) == 0 ? string.Empty : e.Value;\n}\n//------------------------------------------------------------\n// WinForm DataGridView SelectionChanged Event:\nprivate void dataGridViewMembers_SelectionChanged(object sender, EventArgs e)\n{\n   DataGridView dgv = (DataGridView)sender;\n   if (dgv.SelectedRows.Count > 0)\n}\n\n=============================================================', '2015-07-16 10:34:02'),
(176, '', '', '20150718 ASP.NET MVC sites using Entity Framework \n\n==================================================================\nMicrosoft''s offical tutorial series:\nhttp://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-inheritance-with-the-entity-framework-in-an-asp-net-mvc-application\n\n\n\n\n==================================================================\n ', '2015-07-18 12:03:22');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(177, '', '', '20150723 jQuery and jqGrid Summary in MVC3 Admin Site for EPJB\n=====================================================================\n\n \n\n=====================================================================\n\n\n=====================================================================\njQuery:\n* Quickly find some nearby elements:\n** var objProjectsDropDown = $(this).parent(''td'').next().find(''select'');\n** var row = jQuery(e.target).closest(''tr.jqgrow'');\n\n* html() is not working in IE versions:\n** jQuery("select#" + rowId + "_referral", row[0]).html(memberReferrals);  // In IE9, html() looks not working for all times.\n** jQuery("select#" + rowId + "_referral", row[0]).empty().html(memberReferrals); // For IE9, calling empty() first. DONT WORK.\n** jQuery("select#" + rowId + "_referral", row[0]).innerHTML = memberReferrals; //Not right for IE and Chrome as well.\n** jQuery("select#" + rowId + "_referral", row[0]).empty().append(memberReferrals); // not work for Chrome and IE.\n\n\n* AJAX request with full events:\n$.ajax(\n	{\n		url: jLink.attr( "href" ),						\n		type: "get",						\n		dataType: "html",						\n		error: function(){\n			ShowStatus( "AJAX - error()" );							\n			jContent.html( "<p>Page Not Found!!</p>" );\n		},						\n		beforeSend: function(){\n			ShowStatus( "AJAX - beforeSend()" );\n		},						\n		complete: function(){\n			ShowStatus( "AJAX - complete()" );\n		},						\n		success: function( strData ){\n			ShowStatus( "AJAX - success()" );							\n			jContent.html( strData );\n		}\n	}							\n);\n				\n	// Prevent default click.\n	return( false ); \n\n\n\n* Chained <Select> control pair:\nvar currentFacilityName="";\n    jQuery.ajax({\n        url: ''@Url.Action("GetLHDs", "Referral")'',\n        dataType: ''html'',\n        type: ''get'',\n        success: function (memberLHDs) {\n            jQuery(''#selectorLHD'').html(memberLHDs);\n            //jQuery(''#selectorLHD'').prop("selectedIndex", 0);\n\n            jQuery("#selectorLHD").on("change", function (event) {\n\n                var lhdName = $(event.target).val();\n                if (lhdName) {\n                    jQuery.ajax({\n                        url: ''@Url.Action("GetFacilities", "Referral")'' + ''?lhdCode='' + lhdName,\n                        dataType: ''html'',\n                        type: ''get'',\n                        success: function (memberFacilities) {\n                            jQuery(''#selectorFacility'').html(memberFacilities);\n                            jQuery(''#selectorFacility'').prop("selectedIndex", 0);\n                            \n                            jQuery(''#selectorFacility'').on("change", function (event) {\n                                currentFacilityName = $(event.target).val();                                \n                                jQuery("#jqGridContainer").jqGrid(''setGridParam'', { url: ''@Url.Action("GetFacilityReferrals", "Referral")'' + ''?fac='' + currentFacilityName});\n                                jQuery(''#jqGridContainer'').jqGrid(''clearGridData'');\n                                jQuery(''#jqGridContainer'').setGridParam({ datatype: ''json'', page: 1 }).trigger(''reloadGrid'');\n                            }); \n                            jQuery(''#selectorFacility'').trigger(''change'');\n\n                        } //end of success\n                    }); //end of jQuery.ajax\n                } else {\n                    jQuery(''#selectorFacility'').html("");\n                }\n            });\n\n            jQuery(''#selectorLHD'').trigger(''change'');\n        } // end of success\n    });    //end of jQuery.ajax\n=====================================================================\n* json: find unique Date values into an array:\nvar uniqueRunDates = (JSON.parse(gData)).uniqueDates;\n* each function ???\nafterEditCell: function(rowid, cellname, value, iRow, iCol) {\n                var select = $(item).find(''td.edit-cell select'');\n                $(item).find(''td.edit-cell select option'').each(function() {\n                    var option = $(this);\n                    var optionId = $(this).val();\n                    $(lookupData.ListingCategory).each(function() {\n                        if (this.Id == optionId) {                          \n                            if (this.OnlineName != $(item).getCell(rowid, ''OnlineName'')) {\n                                option.remove();\n                                return false;\n                            }\n                        }\n                    });\n                });\n            },\n\n=====================================================================\njqGrid top level operationsL\n\n* Change Column Definitions\n  var states = { ''1'': ''Alabama'', ''2'': ''California'', ''3'': ''Florida'', ''4'': ''Hawaii'', ''5'': ''London'', ''6'': ''Oxford''};\n  var grid = jQuery("#list");\n  var resetStatesValues = function () {\n     grid.setColProp(''State'', { editoptions: { value: states} });\n  };\n\n* \nvar ids = grid.jqGrid(''getDataIDs''); // Get all visible row''s Ids\nvar row = jQuery(''#theGrid'').jqGrid(''getRowData'', rowID);\n* Get Row Data and cell data:\n\nvar index = 2; // zero-based index of row so it means the 3rd row\nvar rowId = jQuery(''#list tr:eq(''+index+'')'').attr(''id'');\nvar dataFromTheRow = jQuery(''#list'').jqGrid (''getRowData'', rowId);\nvar dataFromCellByColumnIndex = jQuery(''#list'').jqGrid (''getCell'', rowId, 7);\nvar dataFromCellByColumnName = jQuery(''#list'').jqGrid (''getCell'', rowId, ''Tax'');\n\n* Getr selected rowKey:\n function getSelectedRow() {\n    var grid = $("#jqGrid");\n    var rowKey = grid.getGridParam("selrow");\n    if (rowKey)\n        alert("Selected row primary key is: " + rowKey);\n    else\n        alert("No rows are selected");\n}\n\n* Select Row with id=4:\nfunction selectSecondRow() {\n     var grid = $("#jqGrid");\n     grid.setSelection(''4'');\n}\n\n* loadonce : true, all pages were loaded together. dataType will be changed into local.\n** To reload: have to change data type back to json or xml. and trigger(''reloadGrid'').\nOtherwise, no server access will be done event after trigger(''reloadGrid'') was called.\n** One can change loadonce=false before calling reloadGrid, but still only one page will be loaded.\n\n\n=====================================================================\njqGrid searchType: Select\n\n* from a fixed set of values; space is allowed but must be carefully not adding extra ones before or after ; and :.\n{ name: ''Run_Status'', index: ''JobStatus'', align: ''left'', title: false, sortable: true, width: 50,\n  stype: ''select'',\n  searchoptions: { value: '':All Status;Completed:Completed;Failed:Failed;Pending:Pending;No Data Returned:No Data Returned;:Returned'' }\n},\n\n* From url: Use existing date values from json data\n{ name: ''Run_Date'', index: ''RunDate'', align: ''center'', title: false, sortable: true, width: 40,\n  selectOptions: {\n      dataUrl: ''Application.aspx/getJqGridData'',\n      buildSelect: function (data) {\n            var gData;\n            if (data.hasOwnProperty(''dt'')) gData = data.dt;\n                 else gData = data;\n                  var uniqueRunDates = (JSON.parse(gData)).uniqueDates;\n                     var html = ''<select>'', length = gData.length, i = 0, item;\n            for (; i < length; i++) {\n                  item = d[i];\n                  html += ''<option value='' + item + ''>'' + item + ''</option>'';\n            }\n            html += ''</select>'';\n            return html\n      }\n  }\n},\n\n* search options:\n{ name: ''PASWardCode'', index: ''PASWardCode'', width: 100, searchoptions: { sopt: [''bw'', ''cn'', ''ew'']} },\n[''eq'',''ne'',''lt'',''le'',''gt'',''ge'',''bw'',''bn'',''in'',''ni'',''ew'',''en'',''cn'',''nc'']\n[''equal'',''not equal'', ''less'', ''less or equal'',''greater'',''greater or equal'', ''begins with'',''does not begin with'',''is in'',''is not in'',''ends with'',''does not end with'',''contains'',''does not contain'']\n\n* search type  select from url:\n{ name: ''SubWardType'', index: ''SubWardType'', width: 150, stype: "select",\nsearchoptions: { dataUrl: ''@Url.Action("GetSubWardTypes","DataGridTest")'' } },\n\n** The url was called only once. Event clciking refresh button didn''t call the url.\n**  grid.trigger(''reloadGrid''); looked didn''t call the url to replace <select> tag.\n** dataUrl and buildSelect pair sample:\nedittype: ''select'', editable: true,\neditoptions: {\n    dataUrl: ''/MyWebService.asmx/GetSelectData'',\n    buildSelect: buildSelectFromJson\n}\nvar buildSelectFromJson = function (data) {\n        var html = ''<select>'', d = data.d, length = d.length, i = 0, item;\n        for (; i < length; i++) {\n            item = d[i];\n            html += ''<option value='' + item + ''>'' + item + ''</option>'';\n        }\n        html += ''</select>'';\n        return html;\n    }\n* Make the <select> used in sserch has the first option without value=" " so to remove the search criteria from this <select> tag.\n\n  \n=====================================================================\njqGrid Loading Data:  Many loading ways:\n\n** local:\ndatatype: ''local'',                  \ndata : gidData,\nvar gidData = [ { "LHD":"Central Coast", "Site":"Gosford Hospital", "Active":"FALSE"},....];\n\n** url: search will load from url each time.\n url: ''@Url.Action("GetNSWHAllWards","DataGridTest")'',\nmtype: "POST",\ndatatype: "json",\n\n** loadonce: Once loaded, search will not to use url anymore.\n url: ''@Url.Action("GetNSWHAllWards","DataGridTest")'',\nmtype: "POST",\ndatatype: "json",\npage: 1,\nloadonce: true,\n* Get user Data after the Grid is loaded. \njQuery("#grid").getGridParam(''userData'')\n* When loadonce:true, after the first load, parameter userData''s data  will be deleted, Have to save it in other place in loadComplete event.\n\n*\nvar gridData = $("#list").jqGrid(''getGridParam'', ''data''); \n=====================================================================\njqGrid Editting:\n\n* jQuery(''#jqGridContainer'').jqGrid(''saveRow'', lastSelId); \neditUrl will recieve all the editable field values back to the server from that row.\n\n \n* Looks the code can give a chance to change a row before edit it: This might be able to change dropdownlist contents inside a row:\n//This function is called when a particular row of data is edited in the table\nthis.editRow = function(){\n    try{\n        var gr = jQuery("#mygrid").jqGrid(''getGridParam'',''selrow'');\n        if( gr != null ) {\n            jQuery("#mygrid").jqGrid(''editGridRow'',gr,\n                {\n                    height:''auto'',\n                    width:''450'',\n                    reloadAfterSubmit:false,\n                    url : editdata.action,\n                    closeAfterEdit: true,\n                    afterComplete:reloadGrid\n                }\n            );\n        }else {\n            alert("Please Select Row");\n        }\n    }catch(e){\n        alert(e);\n    }\n};\n\n* Other editRow sample: \ngrid.jqGrid(''editRow'',id, true );\ngrid.jqGrid(''editRow'',id, {keys: true} );\n\n* Sample: addRow and then saveRow:\nvar gridRow = { Id: rowId, Surname: rowSurname,  DateOfBirth: rowDateOfBirth, Salary: rowSalary, Postcode: rowPostcode };\njQuery("#list").addRowData(rowId, gridRow);  \nvar gridRow = { Id: rowId, Surname: rowSurname,  DateOfBirth: rowDateOfBirth, Salary: rowSalary, Postcode: rowPostcode };\n$("#list").jqGrid(''saveRow'', rowId, \n	{ succesfunc: function (response) {\n            return true;\n        },\n        url: "jqHandler.ashx",\n        mtype: "POST",\n        extraparam: gridRow // gridRow used in ''addRowData'' method above\n    }\n);\n\nPHP jqGrid Documents:\nhttp://guriddo.net/documentation/php/_2va196tc2.htm\n\neditRow \n* reads the data for the editable fields and constructs the appropriate elements defined in edittype and editoptions\n* jQuery("#grid_id").jqGrid(''editRow'',rowid, keys, oneditfunc, succesfunc, url, extraparam, aftersavefunc,errorfunc, afterrestorefunc);\n** grid_id is the already constructed grid\n** rowid: the id of the row to edit\n** keys: when set to true we can use [Enter] key to save the row and [Esc] to cancel editing.\n** oneditfunc: fires after successfully accessing the row for editing, prior to allowing user access to the input fields. The row''s id is passed as a parameter to this function.\n* Notes:\n**  The row can not be edited if it has class ''not-editable-row'' instead that in colModel some fields can have a property editable set to true.\n** When set in the editRow the parameter function oneditfunc should not be enclosed in quotes and not entered with () - show just the name of the function.\n** If keys is true, then the remaining settings – succesfunc, url, extraparam, aftersavefunc, errorfunc and afterrestorefunc - are passed as parameters to the saveRow method when the [Enter] key is pressed (saveRow does not need to be defined as jqGrid calls it automatically). For more information see saveRow method below.\n\nsaveRow\nSaves the edited row.\n\njQuery("#grid_id").jqGrid(''saveRow'',rowid, succesfunc, url, extraparam, aftersavefunc,errorfunc, afterrestorefunc);\nwhere\n\nrowid: the id of the row to save\nsuccesfunc: if defined, this function is called immediately after the request is successful. This function is passed the data returned from the server. Depending on the data from server; this function should return true or false.\nurl: if defined, this parameter replaces the editurl parameter from the options array. If set to ''clientArray'', the data is not posted to the server but rather is saved only to the grid (presumably for later manual saving).\nextraparam: an array of type name: value. When set these values are posted along with the other values to the server.\naftersavefunc: if defined, this function is called after the data is saved to the server. Parameters passed to this function are the rowid and the response from the server request.\nerrorfunc: if defined, this function is called after the data is saved to the server. Parameters passed to this function are the rowid and the the response from the server request.\nafterrestorefunc if defined, this function is called in restoreRow (in case the row is not saved with success) method after restoring the row. To this function we pass the rowid\n\nWhen set in the saveRow the parameters functions should not be enclosed in quotes and not entered with () - show just the name of the function.\nExcept when url (or editurl) is ''clientArray'', when this method is called, the data from the particular row is POSTED to the server in format name: value, where the name is a name from colModel and the value is the new value. jqGrid also adds, to the posted data, the pair id: rowid. For example,\n\njQuery("#grid_id").jqGrid(''saveRow'',"rowid", false);\n\nwill save the data to the grid and to the server, while\n\njQuery("#grid_id").jqGrid(''saveRow'',"rowid", false, ''clientArray'');\n\nwill save the data to the grid without an ajax call to the server.\n\n\n\nrestoreRow\nThis method restores the data to original values before the editing of the row.\n\nCalling convention:\n\njQuery("#grid_id").jqGrid(''restoreRow'',rowid, afterrestorefunc);\nwhere\n\nrowid is the row to restore\nafterrestorefunc if defined this function is called in after the row is restored. To this function we pas the rowid\n\n \n\n=====================================================================\n\njqEvents:\n\n* Documentation Page:\n\nhttp://www.trirand.com/jqgridwiki/doku.php?id=wiki:events\n\n \n\n*\n\n \n\n \n\n* From v3.6, inside every event you can use $(this) which refers to the grid.\n\n---------------------------------------------------------------------\n\nvar lastSel;\n\njQuery("#gridid").jqGrid({\n\n...\n\n   onSelectRow: function(id){\n\n      if(id && id!==lastSel){\n\n         jQuery(this).restoreRow(lastSel);\n\n         lastSel=id;\n\n      }\n\n      jQuery(this).editRow(id, true);\n\n   },\n\n...\n\n});\n\n \n\n=====================================================================\n\njqGrid Methods:\n\n* Old method call:\n\n<script>...jQuery("#grid_id").jqGridMethod( parameter1,...parameterN );...</script>\n\n* New API method call:\n\njQuery("#grid_id").jqGrid(''method'', parameter1,...parameterN );\n\nThe reason for creating this new API is to overcome and name-space conflicts with other plugins and make using jqGrid more natural in the code\n\n* If a method don''t return a requested value, it will return the jqGrid object and so method calls can be chained in a line.\n\njQuery("#grid_id").setGridParam({...}).hideCol("somecol").trigger("reloadGrid");\n\nor in new API\n\njQuery("#grid_id").jqGrid(''setGridParam'',{...}).jqGrid(''hideCol'',"somecol").trigger("reloadGrid");\n\n \n\n* The getRowData method returns only the visible rows from the grid.\n\n \n\n \n\n \n\n=====================================================================\n\n \n\n  gridComplete : function () {\n\n                                    var maxDate;\n\n                                    var rowIDs = jQuery("#theGrid").jqGrid(''getDataIDs'');\n\n                                    for (var i = 0; i < rowIDs.length ; i++)\n\n                                    {\n\n                                        var rowID = rowIDs[i];\n\n                                        var row = jQuery(''#theGrid'').jqGrid (''getRowData'', rowID);\n\n                                        if(i==0)\n\n                                        {\n\n                                            maxDate = new Date(row.orderdate);\n\n                                        }\n\n                                        else\n\n                                        {\n\n                                            if(maxDate < new Date(row.orderdate))\n\n                                {  \n\n                                maxDate = new Date(row.orderdate);\n\n                                }                                      \n\n                                        }      \n\n                                    }\n\n                                    \n\n                                    $("#maxDateField").val(maxDate);\n\n                                }\n\n    });\n\n \n\n=====================================================================\n\nEdit type=select, option group in the select tag, Current version jqGrid didn''t support optionGroup.\n\nhttp://stackoverflow.com/questions/6492100/jqgrid-edittype-select-using-dataurl-returns-select-with-optgroup-not-sav\n\n$(document).ready(\n\nfunction () {\n\n    var lastSelection;\n\n    var grid = jQuery("#BankTransactions");\n\n    grid.jqGrid({\n\n        url: ''/DropDown/GridData/'',\n\n        datatype: ''json'',\n\n        mtype: ''GET'',\n\n        colNames: [''TransactionLineId'', ''TransactionId'', ''BankTransactionId'', ''Number'', ''Amount'', ''Category''],\n\n        colModel: [\n\n                    { name: ''transactionLineId'', index: ''transactionLineId'', editable: true, editrules: { edithidden: true }, hidden: true, width: 40, align: ''left'' },\n\n                    { name: ''transactionId'', index: ''transactionId'', editable: true, editrules: { edithidden: true }, hidden: true, width: 40, align: ''left'' },\n\n                    { name: ''bankTransactionId'', index: ''bankTransactionId'', editable: true, editrules: { edithidden: true }, hidden: true, width: 40, align: ''left'' },\n\n                    { name: ''Number'', index: ''Number'', width: 100, align: ''left'', sortable: false },\n\n                    { name: ''Amount'', index: ''SubAmount'', editable: true, width: 100, align: ''right'', sortable: false, cellattr: function (rowId, tv, rawObject, cm, rdata) { return ''class="BankTranEdit"'' }, formatter: ''currency'', formatoptions: { decimalSeparator: ''.'', thousandsSeparator: '','', decimalPlaces: 2, defaultValue: ''&nbsp;''} },\n\n                    { name: ''CategoryIdURL'', index: ''CategoryIdURL'',\n\n                        editable: true,\n\n                        edittype: ''select'',\n\n                        //formatter: ''select'',\n\n                        editoptions: { dataUrl: "/DropDown/CategorySelectList" },\n\n                        width: 220,\n\n                        align: ''left''\n\n                    },\n\n                  ],\n\n        pager: jQuery(''#pager''),\n\n        rowNum: 100,\n\n        rowList: [25, 50, 100],\n\n        editurl: "/Dropdown/GridSave",\n\n        sortname: ''Number'',\n\n        sortorder: "desc",\n\n        viewrecords: true,\n\n        width: 1250,\n\n        height: 450,\n\n        onCellSelect: function (rowid, iCol, cellContent, e) {\n\n                        grid.restoreRow(lastSelection);\n\n                        grid.editRow(rowid, true, null, null, null, null, null);\n\n                        lastSelection = rowid; \n\n                      }\n\n \n\n    });\n\n});\n\n==============================================================================================\njqGrid sample: cell edit: cellSubmit\nvar mydata = [{\n    name: "Toronto",\n    country: "Canada",\n    continent: "North America"\n}, {\n    name: "New York City",\n    country: "USA",\n    continent: "North America"\n}, {\n    name: "Silicon Valley",\n    country: "USA",\n    continent: "North America"\n}, {\n    name: "Paris",\n    country: "France",\n    continent: "Europe"\n}]\n\n$("#grid").jqGrid({\n    data: mydata,\n    datatype: "local",\n    colNames: ["Name", "Country", "Continent"],\n    colModel: [{\n        name: ''name'',\n        index: ''name'',\n        editable: true,\n    }, {\n        name: ''country'',\n        index: ''country'',\n        editable: true,\n    }, {\n        name: ''continent'',\n        index: ''continent'',\n        editable: true,\n    }],\n    pager: ''#pager'',\n    ''cellEdit'': true,\n    ''cellsubmit'' : ''clientArray'',\n    editurl: ''clientArray''\n});\n \n==============================================================================================\nPerfect chained select box sample:\n\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n    <title>How to filter subcategory dropdown list based on another category dropdown</title>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n\n    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.7/themes/redmond/jquery-ui.css" />\n    <link rel="stylesheet" type="text/css" href="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/css/ui.jqgrid.css" />\n    <link rel="stylesheet" type="text/css" href="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/css/jquery.searchFilter.css" />\n    <!--<link rel="stylesheet" type="text/css" href="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/css/ui.jqgrid.css" />-->\n    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.js"></script>\n    <!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>-->\n    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.7/jquery-ui.js"></script>\n    <!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.7/jquery-ui.min.js"></script>-->\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/i18n/grid.locale-en.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.base.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.common.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.formedit.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.inlinedit.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.custom.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/jquery.fmatter.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/jquery.searchFilter.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/src/grid.jqueryui.js"></script>\n    <!--<script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/js/i18n/grid.locale-en.js"></script>\n    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-3.8.2/js/jquery.jqGrid.min.js"></script>-->\n    <script type="text/javascript">\n    //<![CDATA[\n        jQuery(document).ready(function () {\n            var countries = { ''1'': ''US'', ''2'': ''UK'' };\n            var allCountries = '':All;1:US;2:UK'';\n            var states = { ''1'': ''Alabama'', ''2'': ''California'', ''3'': ''Florida'', ''4'': ''Hawaii'', ''5'': ''London'', ''6'': ''Oxford'' };\n            var allStates = '':All;1:Alabama;2:California;3:Florida;4:Hawaii;5:London;6:Oxford'';\n            var statesOfCountry = {\n                1: { ''1'': ''Alabama'', ''2'': ''California'', ''3'': ''Florida'', ''4'': ''Hawaii'' },\n                2: { ''5'': ''London'', ''6'': ''Oxford'' }\n            };\n            var mydata = [\n                { id: ''0'', Country: ''1'', State: ''1'', Name: "Louise Fletcher" },\n                { id: ''1'', Country: ''1'', State: ''3'', Name: "Jim Morrison" },\n                { id: ''2'', Country: ''2'', State: ''5'', Name: "Sherlock Holmes" },\n                { id: ''3'', Country: ''2'', State: ''6'', Name: "Oscar Wilde" }\n            ];\n\n            var lastSel = -1;\n            var grid = jQuery("#list");\n            var resetStatesValues = function () {\n                grid.setColProp(''State'', { editoptions: { value: states} });\n            };\n            grid.jqGrid({\n                data: mydata,\n                datatype: ''local'',\n                colModel: [\n                    { name: ''Name'', width: 200 },\n                    { name: ''Country'', width: 100, editable: true, formatter: ''select'',\n                      stype:''select'', edittype: ''select'',\n                      searchoptions: {\n                          value: allCountries,\n                          dataEvents: [\n                              {\n                                  type: ''change'',\n                                  fn: function(e) {\n                                      // build ''State'' options based on the selected ''Country'' value\n                                      var selCountry = $(e.target).val();\n                                      var sc = states;\n                                      if (selCountry !== '''') {\n                                          // not ''All'' is selected\n                                          var sc = statesOfCountry[selCountry];\n                                      }\n                                      var newOptions = ''<option value="">All</option>'';\n                                      for (var stateId in sc) {\n                                          if (sc.hasOwnProperty(stateId)) {\n                                              newOptions += ''<option role="option" value="'' + stateId +\n                                                     ''">'' + states[stateId] + ''</option>'';\n                                          }\n                                      }\n                                      \n                                      // populate the new\n                                      var row = $(e.target).closest(''tr.ui-search-toolbar'');\n									  var stateSelect = $("select#gs_State",row[0]);\n									  var parentWidth = stateSelect.parent().width();\n                                      stateSelect.html(newOptions).css({width:parentWidth});\n                                  }\n                              }\n                          ]\n                      },\n                      editoptions: {\n                            value: countries,\n                            dataInit: function (elem) {\n                                var v = $(elem).val();\n                                // to have short list of options which corresponds to the country\n                                // from the row we have to change temporary the column property\n                                grid.setColProp(''State'', { editoptions: { value: statesOfCountry[v]} });\n                            },\n                            dataEvents: [\n                                {\n                                    type: ''change'',\n                                    fn: function(e) {\n                                        // To be able to save the results of the current selection\n                                        // the value of the column property must contain at least\n                                        // the current selected ''State''. So we have to reset\n                                        // the column property to the following\n                                        //grid.setColProp(''State'', { editoptions:{value: statesOfCountry[v]} });\n                                        //grid.setColProp(''State'', { editoptions: { value: states} });\n                                        resetStatesValues();\n\n                                        // build ''State'' options based on the selected ''Country'' value\n                                        var v = parseInt($(e.target).val(), 10);\n                                        var sc = statesOfCountry[v];\n                                        var newOptions = '''';\n                                        for (var stateId in sc) {\n                                            if (sc.hasOwnProperty(stateId)) {\n                                                newOptions += ''<option role="option" value="'' + stateId +\n                                                       ''">'' + states[stateId] + ''</option>'';\n                                            }\n                                        }\n\n                                        // populate the new\n                                        if ($(e.target).is(''.FormElement'')) {\n                                            // form editing\n                                            var form = $(e.target).closest(''form.FormGrid'');\n                                            $("select#State.FormElement", form[0]).html(newOptions);\n                                        } else {\n                                            // inline editing\n                                            var row = $(e.target).closest(''tr.jqgrow'');\n                                            var rowId = row.attr(''id'');\n                                            $("select#" + rowId + "_State", row[0]).html(newOptions);\n                                        }\n                                    }\n                                }\n                            ]\n                        }\n                    },\n                    {\n                        name: ''State'', width: 100, editable: true, formatter: ''select'',\n                        stype:''select'', edittype: ''select'', editoptions: { value: states },\n                        searchoptions: { value: allStates }\n                    }\n                ],\n                onSelectRow: function (id) {\n                    if (id && id !== lastSel) {\n                        if (lastSel != -1) {\n                            //grid.setColProp(''State'', { editoptions: { value: states} });\n                            resetStatesValues();\n                            grid.restoreRow(lastSel);\n                        }\n                        lastSel = id;\n                    }\n                },\n                ondblClickRow: function (id, ri, ci) {\n                    if (id && id !== lastSel) {\n                        grid.restoreRow(lastSel);\n                        lastSel = id;\n                    }\n                    //grid.setColProp(''State'', { editoptions: { value: states} });\n                    resetStatesValues();\n                    grid.editRow(id, true, null, null, ''clientArray'', null,\n                                 function (rowid, response) {  // aftersavefunc\n                                     grid.setColProp(''State'', { editoptions: { value: states} });\n                                 });\n                    return;\n                },\n                editurl: ''clientArray'',\n                sortname: ''Name'',\n                ignoreCase:true,\n                height: ''100%'',\n                viewrecords: true,\n                rownumbers: true,\n                sortorder: "desc",\n                pager: ''#pager'',\n                caption: "Demonstrate dependend select/dropdown lists (edit on double-click)"\n            }).navGrid(''#pager'', { edit: true, add: true, del: false, search: false, refresh: true },\n                       { // edit options\n                           recreateForm:true, viewPagerButtons:false,\n                           onClose:function() {\n                               resetStatesValues();\n                           }\n                       },\n                       { // add options\n                           recreateForm:true, viewPagerButtons:false,\n                           onClose:function() {\n                               resetStatesValues();\n                           }\n                       });\n            grid.jqGrid(''filterToolbar'', {stringResult: true, searchOnEnter: true, defaultSearch : "cn"});\n        });\n    //]]>\n    </script>\n</head>\n\n<body>\n<table id="list"></table>\n<div id="pager"></div>\n\n</body>\n</html>\n\n==============================================================================================\n\n\n\n==============================================================================================\n\n \n ', '2015-07-23 01:49:28'),
(178, '', '', '20150724 EF Summary Code First Data Annotation\n===============================================================================\n\n\n\n* As of EF 5.0, need to include the System.ComponentModel.DataAnnotations.Schema namespace.\n===============================================================================\n* From a post,ForeignKey can only be defined for 1: many relationship, not 1:1 or 1:0 relationship.\n\nYou can only map EF foreign key properties when one side of the relationship is a one, and the other is a many. Any time you have a 1:1 or 1:0..1 relationship, the dependent entity will take the same primary key as the principal. In these cases there cannot be a foreign key because the dependent''s foreign key IS its primary key.\n\n* From test, ''public BPDataObject valueDataObject { get; set; }'' will produce a column BPDataObject_valueDataObjectId to be foreign key.\nTo change the column name, [ForeignKey] attribute cannot beused as the above point said but the next two lines: \n \npublic int valueDataObjectId { get; set; }\npublic virtual BPDataObject valueDataObject { get; set; } \n\nwill produce a column of the desired name: valueDataObjectId in the table BPDataObject.\n\n===============================================================================\nForeignKey and InverseProperty Sample\npublic class Post \n{ \n        public int Id { get; set; } \n        public string Title { get; set; } \n        public DateTime DateCreated { get; set; } \n        public string Content { get; set; } \n \n        public int BlogId { get; set; } \n        [ForeignKey("BlogId")] \n        public Blog Blog { get; set; } \n \n        public ICollection<Comment> Comments { get; set; } \n	public Person CreatedBy { get; set; } \n	public Person UpdatedBy { get; set; }\n\n}\npublic class Person \n{ \n        public int Id { get; set; } \n        public string Name { get; set; } \n \n        [InverseProperty("CreatedBy")] \n	public List<Post> PostsWritten { get; set; } \n		\n	[InverseProperty("UpdatedBy")] \n	public List<Post> PostsUpdated { get; set; }\n        \n}\n\n\n----------------------------------------------------------------------------\nhttp://www.entityframeworktutorial.net/code-first/foreignkey-dataannotations-attribute-in-code-first.aspx\n\npublic class Student\n    {\n        public Student()\n        { \n        \n        }\n        public int StudentID { get; set; }\n        public string StudentName { get; set; }\n        \n        //Foreign key for Standard\n        \n        [ForeignKey("Standard")]\n        public int StandardRefId { get; set; }\n\n        public Standard Standard { get; set; }\n    }\n\n    public class Standard\n    {\n        public Standard()\n        { \n        \n        }\n        public int StandardId { get; set; }\n        public string StandardName { get; set; }\n    \n        public ICollection<Student> Students { get; set; }\n   \n     }\n        \n===============================================================================\nhttp://www.c-sharpcorner.com/UploadFile/ff2f08/entity-framework-code-first-data-annotations/\nEntity Framework: Code First Data Annotations By Jignesh Trivedi on Aug 13, 2014\n-------------------------------------------------------------------------\nNormally these data annotations into the following two categories:\n* Database Schema related Attributes\n        Table\n        Column\n        Key\n        Timestamp\n        ConcurrencyCheck\n        ForeignKey\n        InverseProperty \n        Index\n        DatabaseGenerated\n        ComplexType\n        NotMapped\n\n* Validation Attributes\n        Required\n        MinLength\n        MaxLength\n        StringLength\n-------------------------------------------------------------------------\n* Table Attribute\n    Table("Department",  Schema = "dbo")]  \n    public class DepartmentMaster  \n* Column Attribute\n**    Order: Order in which a column appears in the table\n**    TypeName: Name database type of the column\n    [Table("Employee", Schema = "dbo")]  \n    public class Employee  \n    {  \n        [Column("ID", Order = 1)]  \n        public int EmployeeId { get; set; }  \n        [Column("Name", Order = 2, TypeName = "Varchar(100)")]  \n        public string EmployeeName { get; set; }  \n    } \n\n* Key Attribute\n** applies only to scalar properties.\n    [Table("Department", Schema = "dbo")]  \n    public class DepartmentMaster  \n    {  \n            [Key]  \n            public int DepartmentId { get; set; }  \n    } \n\n    [Table(“Department”, Schema = "dbo")]  \n    public class DepartmentMaster  \n    {  \n            [Key]  \n            public int DepartmentId { get; set; }  \n            [Key]  \n            public int CompanyId { get; set; }  \n    } \n\n* Timestamp Attribute\nspecifies the byte array (byte []) property / column that has a concurrency mode of "Fixed" in the model and it should be a Timestamp column in the stored model (database).\n    [Timestamp]  \n    public Byte[] TimeStamp { get; set; } \n\n* ConcurrencyCheck Attribute\nspecify a property/column that has a concurrency mode of “fixed” in the EDM model. \nused with scalar properties only. \nA fixed concurrency mode means that this property is being a part of the concurrency check during save operations.\n    [ConcurrencyCheck]  \n    public string Name { get; set; }\n\n* ForeignKey Attribute\n    [Table("Employee", Schema = "dbo")]  \n    public class Employee  \n    {  \n        [Column("ID", Order = 1)]  \n        public int EmployeeId { get; set; }  \n        [Column("Name", Order = 2, TypeName = "Varchar(100)")]  \n        public string EmployeeName { get; set; }  \n        [ForeignKey("Department ")]  \n        public int DepartmentId { get; set; }  \n        [ForeignKey("DepartmentId")]  \n        public DepartmentMaster Department { get; set; }  \n    } \n\n* InverseProperty Attribute\nA relationship in the Entity Framework always has two ends, a navigation property on each side and an Entity Framework that maps them together automatically by convention. If there are multiple relationships between the two entities, Entity Framework cannot handle the relationships. This is because Entity Framework doesn''t know which navigation property map with which properties on other side. \n\nFor example, Employee is bound with two departments one is the primary and the other is the secondary. In this scenario, Entity Framework does not know which navigation properties on the opposite side should be returned.\n\nUsing an InverseProperty attribute, we can specify which navigation property should be returned.\n\n    [Table("Department", Schema = "dbo")]  \n    public class DepartmentMaster  \n    {  \n        [Key]  \n        public int DepartmentId { get; set; }  \n        [Required]  \n        public string Code { get; set; }  \n        [MinLength(5)]  \n        [MaxLength(100)]  \n        [Index("IX_Name_DepartmentMaster", IsClustered = false, Order = 2)]  \n        public string Name { get; set; }  \n        public ICollection<Employee> PrimaryEmployees { get; set; }  \n        public ICollection<Employee> SecondaryEmployees { get; set; }  \n    }  \n      \n    [Table("Employee", Schema = "dbo")]  \n    public class Employee  \n    {  \n        [Column("ID", Order = 1)]  \n        public int EmployeeId { get; set; }  \n        [Column("Name", Order = 2, TypeName = "Varchar(100)")]  \n        public string EmployeeName { get; set; }  \n      \n        [InverseProperty("PrimaryEmployees")]  \n        public DepartmentMaster PrimaryDepartment { get; set; }  \n      \n        [InverseProperty("SecondaryEmployees")]  \n        public DepartmentMaster SecondaryDepartment { get; set; }  \n    } \n\n* Index Attribute\n\nAn index data annotation attribute is introduced with Entity Framework 6.1. \nThe property of the model can be marked with an attribute and it should participate in a store index. \nThe Index attribute allows us to create an index on one or more columns and we can specify the name of the index.\n\n    [Index("IX_Name_DepartmentMaster", IsClustered = false)]  \n    public string Name { get; set; } \n\n* DatabaseGenerated Attribute [read-only property, calculated by DB]\n\nThe DatabaseGenerated attribute specifies that the property of the model will be used for either an identity or Computed column of the database table, so that this property will be read-only and the Entity Framework does not try to update this field into the database table. \n\nThe Entity Framework will update this field from the database after the insert or update.\n\n    [DatabaseGenerated(DatabaseGeneratedOption.Computed)]  \n    public DateTime DateCreated { get; set; } \n\n \n* ComplexType Attribute\n\nThe Complex types are the non-scalar properties of an entity that enable scalar properties to be organized within the entities. \nA Complex type may have scalar properties or other complex type properties. \nComplex types do not have a key and Identity, so that Entity Framework cannot manage these objects apart from the parent entity. \nA Complex type entity can be also used for a Stored Procedure result.\n\n    [ComplexType]  \n    public class UserInfo  \n    {  \n        public DateTime CreatedDate { get; set; }  \n        public string CreatedBy { get; set; }  \n    }  \n      \n    [Table("Department", Schema = "dbo")]  \n    public class DepartmentMaster  \n    {  \n        [Key]  \n        public int DepartmentId { get; set; }  \n        public UserInfo User {get;set;}  \n    } \n\n* NotMapped Attribute[Column or Class not needed to be mapped into a Table Row.]\nColumns to be excluded from database mapping.\n\n    public class DepartmentMaster  \n    {  \n            [NotMapped]  \n            public string DepartmentCodeName  \n    }   \n    [NotMapped]  \n    public class InternalClass  \n    {  \n        public int Id { get; set; }  \n        public string Name { get; set; }  \n    } \n-------------------------------------------------------------------------\n* Required Attribute, not nullable column\n    [Required]  \n    public string Code { get; set; } \n \n* MinLength/MaxLength Attribute\nspecify additional property validations to set the min/max length of the string. \nparticipate in database creation (by setting the length of the property).\n    [MinLength(5)]  \n    public string Name { get; set; } \n\n    [MinLength(5)]  \n    [MaxLength(100)]  \n    public string Name { get; set; } \n\n* StringLength Attribute\nspecify the maximum length of the string\napplied only to string type properties. \nalso specify a minimum length of characters that are allowed in the data field. \nparticipate in database creation (by setting the length of the property).\n    [StringLength(100, MinimumLength = 5)]  \n    public string Name { get; set; } \n\n===============================================================================\n\n===============================================================================\n ', '2015-07-24 12:25:44'),
(180, '', '', '20150802 EF Fluent API\n\n\n\n\n\n==============================================================\nhttps://msdn.microsoft.com/en-US/data/jj591620\nLong list of clearly-formatted samples.\n\n\nWhen a navigation property on only the Instructor type, you need to use the fluent API to configure this relationship.\n\n// Configure the primary Key for the OfficeAssignment \nmodelBuilder.Entity<OfficeAssignment>() \n    .HasKey(t => t.InstructorID); //OfficeAssignment has a key as t.InstructorId. \n \nmodelBuilder.Entity<Instructor>()\n    // Instuctor table has OfficeAssignment navigation property to Instuctor. \n    .HasRequired(t => t.OfficeAssignment) \n    .WithRequiredPrincipal(); \n---------------------------------------------------------------\nConfiguring a Relationship Where Both Ends Are Required (One-to-One)\n\nWhen both ends of the relationship are required or both sides are optional the Entity Framework cannot identify the dependent and principal. \n\nWhen both ends of the relationship are required, use WithRequiredPrincipal or WithRequiredDependent after the HasRequired method. \n\nWhen both ends of the relationship are optional, use WithOptionalPrincipal or WithOptionalDependent after the HasOptional method.\n\n// Configure the primary key for the OfficeAssignment \nmodelBuilder.Entity<OfficeAssignment>() \n    .HasKey(t => t.InstructorID); \n \nmodelBuilder.Entity<Instructor>() \n    .HasRequired(t => t.OfficeAssignment) \n    .WithRequiredPrincipal(t => t.Instructor);\n\n\n\n\n------------------------------------------------------------------\n// One to many relationship with custom foreign key name,  \n// Configuring a Foreign Key Name That Does Not Follow the Code First Convention\nmodelBuilder.Entity<Course>()\n  // Course has a navigation pointer c.Department back to Department \n  .HasRequired(c => c.Department)\n  // Department has a collection of Courses \n  .WithMany(d => d.Courses) \n  // Course has a foreign key parentDepartmentID for c.Department.\n  // DepartmentID is the default foreign key name.\n  .HasForeignKey(c => c.parentDepartmentID);  \n\n==============================================================\nhttps://msdn.microsoft.com/en-au/data/hh134698.aspx\n\n//Suppose Blog has a collection of Posts:\nmodelBuilder.Entity<Post>()\n    .HasRequired(p => p.Blog)  // Post has a not nullable navigation property p.Blog \n    .WithMany(b => b.Posts)    // Blog has a collection of b.Posts\n    .HasForeignKey(p => p.fkBlogId); // Post has foreign key fkBlogId to Blog.\n\n==============================================================\n\n\n==============================================================', '2015-08-02 12:12:28');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(181, '', '', '20150804 WPF Data Template\n\n\n================================================================\n\n\n\n================================================================\n\n\n\n\n================================================================\nhttp://stackoverflow.com/questions/1100269/nested-datatemplates-in-listbox\nSimple Nested Data template Code Sample:\n\n<DataTemplate x:Key="Local_NestedItem"\n			  DataType="{x:Type local:NestedItem}">\n	<Expander Header="{Binding Path=Name}">\n		<ListBox ItemsSource="{Binding Path=Items}"\n			x:Name="itemsList"\n			ItemTemplate="{DynamicResource Local_NestedItem}" />\n	</Expander>\n</DataTemplate>\n\nis better than\n\n<DataTemplate x:Key="nestedItem" DataType="{x:Type local:NestedItem}">\n    <Expander Header="{Binding Path=Name}" Expanded="OnItemExpanded">\n      <ListBox ItemsSource="{Binding Path=Items}" x:Name="itemsList"/>\n    </Expander>\n  </DataTemplate>\nWith code behind:\n\nprivate void OnItemExpanded(object sender, RoutedEventArgs e)\n  {\n    if (e.OriginalSource != sender) return;\n    var source = (Expander) sender;\n    ListBox listBox = source.FindName("itemsList") as ListBox;\n    NestedItem item = source.DataContext as NestedItem;\n    listBox.ItemsSource = item.Items;\n    listBox.ItemTemplate = (DataTemplate) FindResource("nestedItem");\n  }\n\n\n\n================================================================\nhttps://social.msdn.microsoft.com/Forums/vstudio/en-US/634fffa3-7e70-4cc3-9a1c-5405e4747e2a/how-can-i-have-nested-data-templates?forum=wpf\nHow can I have nested data templates?\n\n\n<Window\n   x:Class="ForumProjects.MainWindow"\n   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\n   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n   x:Name="Window">\n    <Window.Resources>\n        <DataTemplate x:Key="NameTemplate">\n            <TextBlock Text="{Binding}"/>\n        </DataTemplate>\n        <DataTemplate x:Key="IntroductionTemplate">\n            <TextBlock Text="{Binding}"/>\n        </DataTemplate>\n        <DataTemplate x:Key="HeaderTemplate">\n            <TextBlock Text="{Binding}"/>\n        </DataTemplate>\n        <DataTemplate x:Key="BodyTemplate">\n            <TextBlock Text="{Binding}"/>\n        </DataTemplate>\n        <DataTemplate x:Key="MessageTemplate">\n            <StackPanel>\n                <Expander HeaderTemplate="{StaticResource NameTemplate}"\n                        ContentTemplate="{StaticResource IntroductionTemplate}"\n                        Header="{Binding Sender.Name}" Content="{Binding Sender.Introduction}"/>\n                <Expander HeaderTemplate="{StaticResource HeaderTemplate}"\n                        ContentTemplate="{StaticResource BodyTemplate}"\n                        Header="{Binding Header}" Content="{Binding Body}"/>\n            </StackPanel>\n        </DataTemplate>\n    </Window.Resources>\n    <ListBox ItemsSource="{Binding Messages, ElementName=Window}"\n            ItemTemplate="{StaticResource MessageTemplate}"/>\n</Window>\nnamespace ForumProjects\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n        public List<Message> Messages\n        {\n            get\n            {\n                return new List<Message>() {\n                    new Message("Person A","Introduction A","Header 1","Content 1"),\n                    new Message("Person B","Introduction B","Header 2","Content 2")};\n            }\n        }\n    }\n    public class Message\n    {\n        public Message(string name, string introduction, string header, string body)\n        {\n            this.Sender = new Person() { Name = name, Introduction = introduction };\n            this.Header = header;\n            this.Body = body;\n        }\n        public Person Sender { get; set; }\n        public string Header { get; set; }\n        public string Body { get; set; }\n    }\n    public class Person\n    {\n        public string Name { get; set; }\n        public string Introduction { get; set; }\n    }\n}\n================================================================\nhttp://www.codemag.com/Article/0907111\n* Control Template: Default UI for the Control.\n* Date Tempalte: UI for data types.\n* Templating is a major feature of WPF. Many controls support receiving data template.\n* Prime Content Control rule; there can only be one content element within the content property.\n----------------------------------------------------------------\n* Tricky: C# Linq Statements for Listing all the controls having DataTemplate properties:\nAssembly assembly =Assembly.Load("PresentationFramework..",);\nvar q = from type in assembly.GetTypes() where type.IsPublic\nfrom prop in type.GetProperties() where prop.PropertyType == typeof(System.Windows.DataTemplate)orderby prop.Name,\nprop.ReflectedType.FullName select new { PropertyName = prop.Name ,ControlName = prop.ReflectedType.Name, };\n\n----------------------------------------------------------------\nContentTemplate\nItemTemplate\nSelectedContentTemplate\nSelectionBoxItemTemplate\nHeaderTemplate\nCellTemplate\nColumnHeaderTemplate\n----------------------------------------------------------------\n* Sample DataTemplate:\n<DataTemplate DataType=''{x:Type local:Food}''>\n  <Border BorderBrush="Tomato" BorderThickness=''2'' Margin=''5,2'' Padding=''2''>\n    <TextBlock Text="{Binding Path=FoodName}" ToolTip=''{Binding Path=Category}'' Foreground="DarkRed" MinWidth=''150''>\n    </TextBlock>\n  </Border>\n</DataTemplate>\n ----------------------------------------------------------------\n* ContentTemplate applied to ContentControl, Button and ToolTip.\n----------------------------------------------------------------\nItemsControls and DataTemplates\nItemsControl is the root for Treeview, DataGrid, ListBox, ListView, Menu, TabControl and many other classes derive from the ItemsControl. \nItemTemplate is the main template used with list data, and HeaderTemplate and SelectedContentTemplate.\n\n* One Template for All: <DataTemplate DataType=''{x:Type local:Food}''>\nAnother way to assign a template is to use a key when adding a DataTemplate to the Resources section:\n\n* Select from the Control: \n<DataTemplate x:Key=''explicitTemplate''>\nThen in the ListBox declaration, retrieve the resource via the ItemTemplate property:\n<ListBox ItemsSource="{Binding }" ItemTemplate=''{StaticResource explicitTemplate}'' Margin="10" />\n\n* Separate Template per Type, Sevral ways to do it\n** Data Templates differentiated by DataType\n<DataTemplate DataType=''{x:Type data:Food}''>\n<DataTemplate DataType=''{x:Type data:Beverage}''>\n<DataTemplate DataType=''{x:Type data:Seafood}''>\n** Customizable-the Template Selector:\n----------------------------------------------------------------\n* Template Selectors\n** WPF engine calls Template Selector for each item in an ItemsControl. \n** Steps.\nCreates a custom Template Selector class. \nTemplate Selector class defines each potential template by name.\nTemplate Selector SelectTemplate method analyzes each bound row and returns one of the potential templates. \nCreates one Data Template in XAML for each template that is defined in the Template Selector. \n----------------------------------------------------------------\n* Samples:\n** Bread Crumb: \n** Bar Chart: \n** Maps: \n\nListing 1: Data Trigger in XAML\n<Page.Resources>\n<!-- Apply style to all TextBoxes. -->\n  <Style TargetType="TextBox">\n    <Style.Triggers>\n      <!-- Monitor the Price property on the bound Book class. -->\n      <DataTrigger Binding="{Binding Path=Price}" Value="200">\n        <Setter Property="Foreground" Value="Orange" />\n        <Setter Property="FontWeight" Value="700" />\n      </DataTrigger>\n    </Style.Triggers>\n  </Style>      \n</Page.Resources>\n\n<StackPanel Margin=''20''>\n  <TextBlock>Change the price to 200 and move\n  the focus to another control. All the TextBoxes will have the\n  DataTrigger applied.</TextBlock>\n  \n  <TextBlock>Title</TextBlock>\n  <TextBox Text=''{Binding Title}''></TextBox>\n  \n  <TextBlock>Author:</TextBlock>\n  <TextBox Text=''{Binding Author}''></TextBox>\n  \n  <TextBlock>Price:</TextBlock>\n  <TextBox Text=''{Binding Price}''></TextBox>\n</StackPanel>\n\nListing 2: Custom template selector code\npublic class FoodTemplateSelector : DataTemplateSelector\n{\n// Define a set of properties that\n// represent all the templates that\n// this selector can return.\npublic DataTemplate FruitTemplate { get; set; }\npublic DataTemplate BakeryTemplate { get; set; }\npublic DataTemplate GeneralTemplate { get; set; }\npublic DataTemplate LowStockTemplate { get; set; }\n      \npublic override DataTemplate SelectTemplate(object item, DependencyObject container)\n{\n      \n// Get the individual row from the source,\n// examine the item and determine\n// which of the templates to return.\n      \nFood f = (Food)item;\n      \nif (f.StockCount < 5)\n{\nreturn LowStockTemplate;\n}\n      \nif (f.Category == Category.Bakery)\n{\nreturn BakeryTemplate;\n}\nelse if (f.Category == Category.Fruit)\n{\nreturn FruitTemplate;\n}\nelse\n{\nreturn GeneralTemplate;\n}\n}\n}\n\nListing 3: Data Templates defined in XAML\n<Page\n  x:Class="DataTemplates.Templated.FoodsDataTemplateSelector"\n  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\n  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n  xmlns:food=''clr-namespace:DataTemplates.DataSources'' \n >\n<Page.Resources>\n <!-- Designer creates one template in the XAML\n     for each template returned from the Template Selector class.\n     -- >\n    <DataTemplate\n      x:Key="fruitTemplate">\n      <Border\n        Background="LightGreen">\n        <StackPanel\n          Orientation=''Horizontal''\n          MinWidth=''150''\n          ToolTip=''Fruit Template''>\n          <Image\n            Source=''../Images/food_fruits.jpg''\n            Width=''90''\n            Height=''90''\n            Margin=''0,0,5,0'' />\n          <TextBlock\n            Text="{Binding Path=FoodName}"\n            Foreground="White"\n            VerticalAlignment=''Center'' />\n        </StackPanel>\n      </Border>\n    </DataTemplate>\n    <DataTemplate\n      x:Key="bakeTemplate">\n      <Border\n        Background="Bisque">\n        <StackPanel\n          Orientation=''Horizontal''\n          MinWidth=''150''\n          ToolTip=''Bakery Template''>\n          <Image\n            Source=''../Images/food_bread03.png''\n            Width=''90''\n            Height=''90''\n            Margin=''0,0,5,0'' />\n          <TextBlock\n            Text="{Binding Path=FoodName}"\n            Foreground="Black"\n            VerticalAlignment=''Center'' />\n        </StackPanel>\n      </Border>\n    </DataTemplate>\n      \n    <DataTemplate\n      x:Key="genTemplate">\n      <!-- Details of template omitted for article. -->\n    </DataTemplate>\n    <DataTemplate\n      x:Key="lowStockTemplate">\n      <!-- Details of template omitted for article. -->\n    </DataTemplate>\n    <!-- Create instance of the custom\n          Template Selector class in a\n          Resources section. -->\n    <food:FoodTemplateSelector\n      x:Key="foodTemplateSelectorKey"\n      FruitTemplate="{StaticResource fruitTemplate}"\n      BakeryTemplate="{StaticResource bakeTemplate}"\n      GeneralTemplate="{StaticResource genTemplate}"\n      LowStockTemplate="{StaticResource lowStockTemplate}" />\n      \n  </Page.Resources>\n      \n  <Border\n    Margin="30"\n    BorderBrush="Blue"\n    BorderThickness="2">\n    <Grid\n      HorizontalAlignment="Left">\n<!-- Assign the Template Selector declared in the\n     Resource section above. -->\n<ListBox\n  ItemsSource="{Binding }"\n  MinWidth=''400''\n  ItemTemplateSelector="{StaticResource foodTemplateSelectorKey}"\n  Margin="10"\n  HorizontalContentAlignment=''Stretch'' />\n      \n    </Grid>\n  </Border>\n----------------------------------------------------------------\nWPF Triggers: Property Trigger, Event Trigger, and Data Trigger \n\n* Property Triggers\n** Must create the Trigger within a Styles section. \n** monitors a DependencyProperty on the target class.\n** The trigger condition is a simple compare, no complex logic allowed. \n\n<Style x:Key="TextBoxStyle1" TargetType="{x:Type TextBox}">\n  <Style.Triggers>\n  <!-- Watch the Text DependencyProperty for the value "hello "-->\n    <Trigger Property="Text" Value="hello">\n      <!-- apply this property value -->\n      <Setter Property="FontWeight" Value="Bold" />\n    </Trigger>\n  </Style.Triggers>\n</Style>\n\n<Style x:Key="TextBoxStyle2" TargetType="{x:Type TextBox}">\n  <Style.Triggers>\n    <Trigger Property="IsMouseOver" Value="True">\n      <!-- Can apply more than one property setter -->\n      <Setter Property="Foreground" Value="Orange" />\n      <Setter Property="Background" Value="Black" />\n    </Trigger>\n  </Style.Triggers>\n</Style>\n\n* Event Triggers\n** used to manipulate animations and are tied to storyboards actions like start, stop, pause and reset\n** Basic syntax for an Event Triggers:\n<EventTrigger RoutedEvent="Mouse.MouseEnter">\nNote that the RoutedEvent attribute uses a dotted syntax like this pseudo code (TypeThatRaisesEvent.EventName).\nThe first part of the dotted item is the type that fires the event (Mouse) and the second part is the name of RoutedEvent (MouseEnter) that is registered to that type. \n\n* Chnage UI based on Data \nIn addition to classic way: Change Property values of the UI element, WPF has more three ways: \n1> Value Converter: \n2> Template Selector:\n3> Data Trigger: \n** Applies a change to a property when monitored data changes to the desired value.\n** Similar to Property Triggers. Both monitor a value; \n*** the Property Trigger watches a dependency property on the bound element, \n** the Data Trigger eyes a property on the bound data. \n** Once a trigger is activated it changes properties on the target. \n\n================================================================\nhttp://social.technet.microsoft.com/wiki/contents/articles/22761.different-ways-to-dynamically-select-datatemplate-for-wpf-listview.aspx\nDifferent ways to dynamically select DataTemplate for WPF ListView\nApproach 1:\npublic calsss MyDataTemplateSelector : DataTemplateSelector\n{\n	public DataTemplate DataTmp1{get;set}\n	public DataTemplate DataTmp2{get;set}\n	public override DataTemplate SelectTemplate(object item, DependencyObject container)\n	{\n		if(item==null) return null;\n		FrameworkElement ele=container as FrameworkElement;\n		if(ele==null) return null;\n		int age=((Employee)item).Age;\n		if(age>25)\n			DataTmp1 = ele.FindResource("Template1") as DataTemplate; //not needed since the property has been set from XAML resource definition.\n			return DataTmp1;\n		else\n			DataTmp2 = ele.FindResource("Template2") as DataTemplate;\n			return DataTmp2;\n	}\n}\n\n<Window.Resources>\n<DataTemplate x:Key="Template1"> .... </DataTemplate>\n<DataTemplate x:Key="Template2"> .... </DataTemplate>\n<selector:MyDataTemplateSelector x:Key="dataTemplateSelectorDictionary" DataTmp1={StaticResource Template1}" ... />\n</Window.Resources>\n\n<Grid><StackPanel><ListView ItemSource={Binding employees}" ><ListView.View><GridView>\n<GridViewColumn CallTemplateSelector="{StaticResource dataTemplateSelectorDictionary}" Header="Age" />\n...\n</GridView></ListView.View></ListView></StackPanel></Grid>\n\nApproach 2: Markup Extension:\n\n\n\n================================================================\nhttp://stackoverflow.com/questions/10190887/different-views-data-template-based-on-member-variable\n<DataTemplate>\n   <views:ProjectInfoView x:Key="ProjectInfoDetailTemplate"/>\n</DataTemplate>\n<ItemsControl ItemsSource="{Binding AllProjects}" ItemTemplate="{StaticResource ProjectInfoDetailTemplate}"  >\n</ItemsControl >\n\n\n================================================================\n<!-- http://stackoverflow.com/questions/10190887/different-views-data-template-based-on-member-variable\nWPF codes: Use DataTrigger to choose DataTemplate based a Property Value of the Target Type:\nMultiple DataTemplates were defined to the type local:ConsumerViewModel\nBased on its ConsumerType''s value to choose which ContentTemplate will be used to be the ContentTemplate for\nthe Content Template.\n-->\n<DataTemplate x:Key="PersonTemplate" TargetType="{x:Type local:ConsumerViewModel}">\n     <TextBlock Text="I''m a Person" />\n</DataTemplate> \n\n<DataTemplate x:Key="BusinessTemplate" TargetType="{x:Type local:ConsumerViewModel}">\n     <TextBlock Text="I''m a Business" />\n </DataTemplate>\n\n<DataTemplate DataType="{x:Type local:ConsumerViewModel}">\n     <ContentControl Content="{Binding }">\n         <ContentControl.Style>\n             <Style TargetType="{x:Type ContentControl}">\n                 <Setter Property="ContentTemplate" Value="{StaticResource PersonTemplate}" />\n                 <Style.Triggers>\n                     <DataTrigger Binding="{Binding ConsumerType}" Value="Business">\n                         <Setter Property="ContentTemplate" Value="{StaticResource BusinessTemplate}" />\n                     </DataTrigger>\n                 </Style.Triggers>\n             </Style>\n         </ContentControl.Style>\n     </ContentControl>\n </DataTemplate>\n\n================================================================\n* DataTemplateSelectors can choose DataTemplate but don''t respond to change notifications. ', '2015-08-04 07:11:11'),
(182, '', '', '20150808 WPF DataGrid Summary\n=======================================================================================\nReference Sites:\n* MSDN DataGrid Introduction\nhttps://msdn.microsoft.com/en-us/library/cc189058%28v=vs.95%29.aspx\n\n* MSDN DataGrid Class  \nhttps://msdn.microsoft.com/en-us/library/system.windows.controls.datagrid%28v=vs.110%29.aspx\n\n* DataGridTemplateColumn Class \nhttps://msdn.microsoft.com/en-us/library/system.windows.controls.datagridtemplatecolumn%28v=vs.110%29.aspx\n\n* Silverlight SDK Samples ( big resource of silverlight and wpf samples)\nhttp://samples.msdn.microsoft.com/Silverlight/SampleBrowser/index.htm#/?sref=System.Windows.Controls.DataGridSnippets\n\n* WPF DataGrid Sample: Locking input to the row being edited: Compact Sample\nhttp://blogs.msdn.com/b/vinsibal/archive/2008/12/18/wpf-datagrid-sample-locking-input-to-the-row-being-edited.aspx\nTHe WPFToolKit project is included in this sample.\n=======================================================================================\nSmall Points:\n* DataGridRow supports parent row and child rows. This means it can bind hierarchical data structure.\n* DataGrid method CommitEdit() will produce RowEditEnding() event. \n\n* Set CanUserAddNew to be true, a blank row is displayed at the bottom of the DataGrid. \nA user can enter a new item into the blank row. \nAdding a new row adds an item to the ItemsSource. \nDefault values for the new item by handling the InitializingNewItem event \nand setting the values programmatically.\n\n\n\n* Data binding directly to a store query (DbSet, DbQuery, DbSqlQuery, DbRawSqlQuery) is not supported. \nInstead populate a DbSet with data, for example by calling Load on the DbSet, and then bind to local data. \nFor WPF bind to DbSet.Local. \nFor WinForms bind to DbSet.Local.ToBindingList(). \nFor ASP.NET WebForms, bind to the result of calling ToList() on the query or use Model Binding.\n\n=======================================================================================\nGood Sample for DataGrid Editor with Deleting way:\n\nhttps://gsselle.wordpress.com/2013/05/26/wpf-datagrid-update-insert-and-delete-operations/\n\n\n<Window x:Class="WpfDataGridUpdateInsertDelete.MainWindow"\n        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        Title="MainWindow" Height="540.672" Width="769.216" Loaded="Window_Loaded">\n    <Grid>\n        <DataGrid x:Name="dgEmp" HorizontalAlignment="Left" Height="491" Margin="10,10,0,0" VerticalAlignment="Top" Width="741"\n                  AutoGenerateColumns="False"\n                  ItemsSource="{Binding}" RowEditEnding="dgEmp_RowEditEnding" AddingNewItem="dgEmp_AddingNewItem" PreviewKeyDown="dgEmp_PreviewKeyDown" BeginningEdit="dgEmp_BeginningEdit">\n            <DataGrid.Columns>\n                <DataGridTextColumn Binding="{Binding EmployeeID, NotifyOnTargetUpdated=True,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="100" Header="Employee ID" IsReadOnly="True" />\n                <DataGridTextColumn Binding="{Binding LastName, NotifyOnTargetUpdated=True, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="100" Header="Last Name"/>\n                <DataGridTextColumn Binding="{Binding FirstName, NotifyOnSourceUpdated=True, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="100" Header="First Name"/>\n                <DataGridTextColumn Binding="{Binding Title, NotifyOnTargetUpdated=True,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="150" Header="Title"/>\n                <DataGridTemplateColumn Header="Birth Date">\n                    <DataGridTemplateColumn.CellTemplate>\n                        <DataTemplate>\n                            <TextBlock Text="{Binding BirthDate, StringFormat=\\{0:d\\}}" />\n                        </DataTemplate>\n                    </DataGridTemplateColumn.CellTemplate>\n                    <DataGridTemplateColumn.CellEditingTemplate>\n                        <DataTemplate>\n                            <DatePicker SelectedDate ="{Binding BirthDate, NotifyOnSourceUpdated=True,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />\n                        </DataTemplate>\n                    </DataGridTemplateColumn.CellEditingTemplate>\n                </DataGridTemplateColumn>\n            </DataGrid.Columns>\n        </DataGrid>\n    </Grid>\n</Window>\n\n\n\npublic partial class MainWindow : Window\n{\n    NorthwindEntities context = new NorthwindEntities();\n    bool isInsertMode = false;\n    bool isBeingEdited = false;\n \n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n    private void Window_Loaded(object sender, RoutedEventArgs e)\n    {\n        dgEmp.ItemsSource = GetEmployeeList();\n    }\n    private ObservableCollection<Employee> GetEmployeeList()\n    {\n        var list = from e in context.Employees select e;\n        return new ObservableCollection<Employee>(list);\n    }\n \n    private void dgEmp_RowEditEnding(object sender, DataGridRowEditEndingEventArgs e)\n    {\n        Employee employee = new Employee();\n        Employee emp = e.Row.DataContext as Employee;\n        if (isInsertMode)\n        {\n            var InsertRecord = MessageBox.Show("Do you want to add " + emp.FirstName + " as a new emploee?", "Confirm", MessageBoxButton.YesNo, MessageBoxImage.Question);\n            if (InsertRecord == MessageBoxResult.Yes)\n            {\n                employee.FirstName = emp.FirstName;\n                employee.LastName = emp.LastName;\n                employee.Title = emp.Title;\n                employee.BirthDate = emp.BirthDate;\n                context.Employees.Add(employee);\n                context.SaveChanges();\n                dgEmp.ItemsSource = GetEmployeeList();\n                MessageBox.Show(employee.FirstName + " " + employee.LastName + " has being added!", "Inserting Record", MessageBoxButton.OK, MessageBoxImage.Information);\n            }\n            else\n                dgEmp.ItemsSource = GetEmployeeList();\n        }\n        context.SaveChanges();\n    }\n \n    private void dgEmp_PreviewKeyDown(object sender, KeyEventArgs e)\n    {\n        if (e.Key == Key.Delete && !isBeingEdited)\n        {\n            var grid = (DataGrid)sender;\n            if (grid.SelectedItems.Count > 0)\n            {\n                var Res = MessageBox.Show("Are you sure you want to delete " + grid.SelectedItems.Count + " Employees?", "Deleting Records", MessageBoxButton.YesNo, MessageBoxImage.Exclamation);\n                if (Res == MessageBoxResult.Yes)\n                {\n                    foreach (var row in grid.SelectedItems)\n                    {\n                        Employee employee = row as Employee;\n                        context.Employees.Remove(employee);\n                    }\n                    context.SaveChanges();\n                    MessageBox.Show(grid.SelectedItems.Count + " Employees have being deleted!");\n                }\n                else\n                    dgEmp.ItemsSource = GetEmployeeList();\n            }\n        }\n    }\n \n    private void dgEmp_AddingNewItem(object sender, AddingNewItemEventArgs e)\n    {\n        isInsertMode = true;\n    }\n \n    private void dgEmp_BeginningEdit(object sender, DataGridBeginningEditEventArgs e)\n    {\n        isBeingEdited = true;\n    }\n}\n\nA little explanation:\nUPDATE records by moving to the next/prior row:\nThe update operation is automatic as long as you have the\nBinding=”{Binding LastName, NotifyOnTargetUpdated=True, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}” in every column.\nBesides adding the above code to the xaml, you need to save the observable collection back to the context, hence, make sure that once the user has move to the next or prior row, the context is saved by adding:\ncontext.SaveChanges();\n\nINSERT records by moving to the next/prior row:\nOk, this is a little more complicated because you need to make sure the user is inserting a record. Here I created a Boolean value isInsertMode which is set to false unless the user is actually inserting a record, if the user is only updating a record the isInsertMode needs to be false. To set the Boolean isInsertMode to true I use the AddingNewItem event handler of the grid.\nThe user will see a warning message box letting him/her know that the record is about to be inserted, if the user decides not to insert the record, the grid is simply refreshed by reloading the data with dgEmp.ItemsSource = GetEmployeeList();\n\nDELETE records by pressing Delete Key:\nWhen the user selects one or various rows and presses the DELETE key, the PreviewKeyDown is fired and the rows disappear; however, the delete action does not update the database but only the collection. You need to call the context.Employees.Remove(employee); in order to delete the rows from the database.\nIt is important to mention that the program needs to know that the user is deleting a row, not only a cell content; hence, just like in the insert operation, I used a Boolean value isBeingEdited which is set to false unless the user is deleting the whole row. To set the Boolean isBeingEdited to true I use the BeginningEdit event handler of the grid.\n\n=================================================================\nCode Project: WPF Data Grid Practical Sample:\n-----------------------------------------------------------------\nMenu Sample: \nA group of buttons, each button has Tag property referenced to the nanme of a Window object in the same assembly.\n <Grid>\n    <StackPanel Margin="5" Button.Click="ButtonClick">\n        <GroupBox Header="DataSet Examples">\n            <StackPanel>\n                <Button Content="Simple CRUD Example" Tag="DataSetCRUDExample"></Button>\n                <Button Content="Master Detail Example" Tag="MasterDetailExample"></Button>\n            </StackPanel>\n        </GroupBox>\n    </StackPanel>\n</Grid>\nprivate void ButtonClick(object sender, RoutedEventArgs e)\n{\n    Button button = (Button)e.OriginalSource;\n    // Create an instance of the window named by the current button.\n    Type type = this.GetType();\n    Assembly assembly = type.Assembly;\n    Window win = (Window)assembly.CreateInstance(type.Namespace + "." + (string)button.Tag);\n    // Show the window.\n    win.Show();\n}\n-----------------------------------------------------------------\n Define Resource from a Local Object and one of its method: \n <Window.Resources>        \n       <!-- create an instance of our DataProvider class -->\n       <ObjectDataProvider x:Key="CustomerDataProvider" ObjectType="{x:Type local:CustomerDataProvider}"/>\n       <!-- define the method which is invoked to obtain our data -->\n       <ObjectDataProvider x:Key="Customers" ObjectInstance="{StaticResource CustomerDataProvider}" MethodName="GetCustomers"/>\n </Window.Resources>\n \n System.Windows.Data.ObjectDataProvider class is used to wrap and creates an object that you can use as a binding source.\n* Ways to create an object as a binding source: \n** Use ObjectDataProvider in the resources section XAML, or create object in code and set it as the DataContext of your window.\n** ObjectDataProvider enables you to create your object in XAML and make it available as a binding source. \nConstructorParameters property to pass parameters to the constructor of your object.\nMethodName property to call a method and use the MethodParameters property to pass parameters to the method. \nIsAsynchronous property to specify whether to perform object creation in a worker thread or in the active context.\n-----------------------------------------------------------------\nValidation in WPF DataGrid\n\n    public class DataRowValidation : ValidationRule\n    {      \n        public override ValidationResult Validate(object value, System.Globalization.CultureInfo cultureInfo)\n        {\n            // if this rule is being applied to a cell we will be inspecting a binding expression\n            if (value is BindingExpression)\n            {\n                // obtain the row which is being validated\n                BindingExpression expression = value as BindingExpression;\n                DataRow row = ((DataRowView)expression.DataItem).Row;\n\n                // determine the column to validate\n                string propertyName = expression.ParentBinding.Path.Path;\n\n                return ValidateColumn(propertyName, row);\n            }\n\n            // if this rule is being applied to a cell we will be inspecting a binding group\n            else if (value is BindingGroup)\n            {\n                BindingGroup group = (BindingGroup)value;\n\n                // iterate over all the bound items (this should always be one!)\n                foreach (var item in group.Items)\n                {\n                    DataRow row = ((DataRowView)item).Row;\n\n                    // validate against the metadata for each column\n                    foreach (DataColumn column in row.Table.Columns)\n                    {\n                        ValidationResult result = ValidateColumn(column.ColumnName, row);\n                        if (result != ValidationResult.ValidResult)\n                        {\n                            return result;\n                        }\n                    }                   \n                }\n            }\n\n            return ValidationResult.ValidResult;\n        }\n        private ValidationResult ValidateColumn(string columnName, DataRow row)\n        {\n            DataTable table = row.Table;\n            DataColumn column = table.Columns[columnName];\n            object cellValue;\n            try\n            {\n                cellValue = row[column.ColumnName];\n            }\n            catch (RowNotInTableException)\n            {\n                return ValidationResult.ValidResult;\n            }\n            // check for null values\n            if (cellValue == null || cellValue.Equals(string.Empty) || cellValue.Equals(System.DBNull.Value))\n            {\n                if (!column.AllowDBNull)\n                {\n                    return new ValidationResult(false, column.ColumnName + " cannot be null");\n                }\n                else\n                {\n                    return ValidationResult.ValidResult;\n                }\n            }\n            // check string length constraints\n            if (column.DataType == typeof(string))\n            {\n                string strVal = cellValue as string;\n                if (strVal != null && strVal.Length > column.MaxLength)\n                {\n                    return new ValidationResult(false, "Length of " + column.ColumnName + " should not exceed " + column.MaxLength);\n                }\n            }\n            // check for unique constraints\n            if (column.Unique)\n            {\n                // iterate over all the rows in the table comparing the value for this column\n                foreach (DataRow compareRow in row.Table.Rows)\n                {\n                    if (compareRow!=row && cellValue.Equals(compareRow[column]))\n                    {\n                        return new ValidationResult(false, column.ColumnName + " must be unique");\n                    }\n                }\n            }\n            return ValidationResult.ValidResult;\n        } //end of method\n    } // end of class\n\n\n<Window.Resources>\n        <ObjectDataProvider x:Key="Customers" ObjectType="{x:Type local:CustomerDataProvider}" MethodName="GetCustomers"/>\n\n        <!--Basic Row Validation Error Template-->\n        <ControlTemplate x:Key="BasicRowValidationErrorTemplate">\n            <DockPanel LastChildFill="True">\n                <TextBlock DockPanel.Dock="Right" Foreground="LightGreen" FontSize="14" FontWeight="Bold">*</TextBlock>\n                <Border BorderBrush="LightGreen" BorderThickness="2">\n                    <AdornedElementPlaceholder Name="adornerPlaceholder"></AdornedElementPlaceholder>\n                </Border>\n            </DockPanel>\n        </ControlTemplate>\n\n        <Style TargetType="{x:Type my:DataGridCell}">\n            <Style.Triggers>\n                <Trigger Property="Validation.HasError" Value="true">\n                    <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"/>\n                </Trigger>\n            </Style.Triggers>\n        </Style>\n\n        <!--Default Row Style-->\n        <Style TargetType="{x:Type my:DataGridRow}">\n            <Setter Property="MaxHeight" Value="150" />\n            <Style.Triggers>\n                <Trigger Property="Validation.HasError" Value="true">\n                    <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"/>\n                </Trigger>\n            </Style.Triggers>\n        </Style>\n        \n        \n    </Window.Resources>\n    \n<my:DataGrid.RowValidationRules>\n     <local:DataRowValidation ValidationStep="UpdatedValue" />\n</my:DataGrid.RowValidationRules>\n\n<my:DataGridTextColumn x:Name="IDColumn" Header="CustomerID" IsReadOnly="True">\n    <my:DataGridTextColumn.Binding>\n        <Binding Path="CustomerID">\n            <Binding.ValidationRules>\n                <local:DataRowValidation ValidationStep="UpdatedValue" />\n            </Binding.ValidationRules>\n        </Binding>\n    </my:DataGridTextColumn.Binding>\n</my:DataGridTextColumn>\n \n\n\n-----------------------------------------------------------------\n\n\n=================================================================\n\n=================================================================\n\n=================================================================\n\n=======================================================================================\n* http://blogs.msdn.com/b/vinsibal/archive/2008/10/01/overview-of-the-editing-features-in-the-wpf-datagrid.aspx\nOverview of the editing features in the WPF DataGrid\nBackground on the data source and DataGrid working together\n\n---------------------------------------------------------------------------------------\nThree Interfaces implemented in Data Grid for Editting:\n* DataGrid supports IEditableCollectionView, ListCollectionView and BindingListCollectionView\n* ListCollectionView is the view created for an ItemsControl with data source implements IList such as ObservableCollection<T>.   \n* BindingListCollectionView is the view created for an ItemsControl with data source implements IBindingList such as an ADO.net DataView.    \n* IEditableCollectionView supports transactional editing as well as adding and removing data items.  \n\n* Follow IEditableObject pattern,\nIEditableCollectionView.EditItem, IEditableCollectionView.CancelEdit, and IEditableCollectionView.CommitEdit \nwill call IEditableObject.BeginEdit, IEditableObject.CancelEdit, and IEditableObject.CommitEdit respectively.  \n\n* In the implementation of IEditableObject where you can provide the functionality to commit or rollback changes to the data source.  \n* For an ADO.net DataTable, DataRowView already implements IEditableObject.  \n* For ObservableCollection<T>, have to provide the implementation for IEditableObject for T.  \n\n\n---------------------------------------------------------------------------------------\nCanXXX methods:\nDataGrid checks for IEditableCollectionView’s CanAddNew, CanCancelEdit, and CanRemove properties \nbefore executing the EditItem, CancelEdit, or CommitEdit methods.  \n\n---------------------------------------------------------------------------------------\nDataGrid properties for editing\nCanUserAddRows, CanUserDeleteRows,  IsReadOnly, IsEnabled, IEditableCollectionView.CanAddNew, and IEditableCollectionView.CanRemove.  Their values are related with each other.\n\n---------------------------------------------------------------------------------------\nEditing commands\n* Default commands and their default input binding:\nBeginEditCommand (F2), CancelEditCommand (Esc), CommitEditCommand (Enter), DeleteCommand (Delete)\n* Command will call into its IEditableCollectionView methods:\nBeginEditCommand calls into IEditableCollectionView.EditItem \nCancelEditCommand calls into IEditableCollectionView.CancelItem.\n* Call Commands in Code:\nBeginEdit, CancelEdit, and CommitEdit methods of the DataGrid control.\n\n* Adding new input gestures to Command\nAdding new input gestures is similar to any other control in WPF.  \nThe DataGrid commands are added through the CommandManager \nOne way to add new input gesture is to register a new InputBinding with the CommandManager:               \nCommandManager.RegisterClassInputBinding(typeof(DataGrid),\n                new InputBinding(DataGrid.BeginEditCommand, new KeyGesture(Key.<new key>)));\n\n* Disabling edit commands\nAttaching to the CommandManager.CanExecuteEvent, looking for the command to disable, then setting e.CanExecute accordingly.  \n\n_handler = new CanExecuteRoutedEventHandler(OnCanExecuteRoutedEventHandler);\nEventManager.RegisterClassHandler(typeof(DataGrid), CommandManager.CanExecuteEvent, _handler);\nvoid OnCanExecuteRoutedEventHandler(object sender, CanExecuteRoutedEventArgs e)\n{\n  RoutedCommand routedCommand = (e.Command as RoutedCommand);\n  if (routedCommand != null)\n  {\n    if (routedCommand.Name == "<command name>")\n    {\n      e.CanExecute = <some condition>;\n      if(!e.CanExecute)\n        e.Handled = true;\n    }\n  }\n}\n\n* Not easy to disable an Edit Command but it is easy to cancel it from its Events.\n---------------------------------------------------------------------------------------\nEditing events on the DataGrid\n* Editing events: RowEditEnding, CellEditEnding, BeginningEdit, PreparingCellForEdit, InitializingNewItem\n* RowEditEnding, CellEditEnding, and BeginningEdit, \n** access to the DataGridRow and DataGridColumn that is being committed, cancelled, or edited  \n** called right before the actual operation will occur.  \n** cancel the operation completely by setting e.Cancel to true.  \n* RowEditEnding and CellEditEnding both have a parameter EditAction to say: it is a commit or cancel action.  \n* CellEditEnding, have access to the editing FrameworkElement, so to set or get properties on the visual itself before a cell commit or cancel.\n* PreparingCellForEdit is fired right after the cell has changed from a non-editing state to an editing state, can modify the contents of the cell.  \n* InitializingNewItem is called when a new item is added and in this event can set any properties on the newly created item, like the initial default values.\n\n=======================================================================================\nRevenue Portal List View (Data Grid Page) Set-up Tool\nAdded ColumnSetting class and  Implement IPropertyChanged for each record\nBound the records to the Data Grid. In this way, changes made from UI for one column would create more changes on other columns. There is Save and Cancel button at the end of the page. The save button will read UI to write changed properties back to Context object and then update them into DB.  \nSo this application is not really using Data Grid Cell Editor facilities.\n \n=======================================================================================\nDataGrid using DataGridTemplateColumn with CellTemplate and CellEditingTemplate:\n \n<Grid>\n    <Grid.Resources>\n        <!--DataTemplate for Published Date column defined in Grid.Resources.  PublishDate is a property on the ItemsSource of type DateTime -->\n        <DataTemplate x:Key="DateTemplate" >\n            <StackPanel Width="20" Height="30">\n                <Border Background="LightBlue" BorderBrush="Black" BorderThickness="1">\n                    <TextBlock Text="{Binding PublishDate, StringFormat={}{0:MMM}}" FontSize="8" HorizontalAlignment="Center" />\n                </Border>\n                <Border Background="White" BorderBrush="Black" BorderThickness="1">\n                    <TextBlock Text="{Binding PublishDate, StringFormat={}{0:yyyy}}" FontSize="8" FontWeight="Bold" HorizontalAlignment="Center" />\n                </Border>\n            </StackPanel>\n        </DataTemplate>\n        <!--DataTemplate for the Published Date column when in edit mode. -->\n        <DataTemplate x:Key="EditingDateTemplate">\n            <DatePicker SelectedDate="{Binding PublishDate}"  />\n        </DataTemplate>\n    </Grid.Resources>\n    <DataGrid Name="DG1" ItemsSource="{Binding}" AutoGenerateColumns="False" >\n        <DataGrid.Columns>\n            <!--Custom column that shows the published date-->\n            <DataGridTemplateColumn Header="Publish Date" CellTemplate="{StaticResource DateTemplate}" CellEditingTemplate="{StaticResource EditingDateTemplate}" />\n        </DataGrid.Columns>\n    </DataGrid>\n</Grid>\n\n=======================================================================================', '2015-08-07 22:53:19'),
(183, '', '', '20150809 WPF WPFToolKit\n====================================================================================\nVSM visual state manager:\nhttp://blogs.msdn.com/b/vinsibal/archive/2008/11/04/wpf-vsm-and-datagrid-sample.aspx\n\nHave downloaded the application and it contains WPFToolkit and the application is compilable and runnable.\nThe location is \nE:\\Birthplace\\Samples\\VSM_and_DataGrid_Sample\\VSM_and_DataGrid_Sample\n\n====================================================================================\n\n\n====================================================================================\n\n\n\n====================================================================================\n\n\n\n====================================================================================', '2015-08-09 02:32:39');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(184, '', '', '20150811 WPF Tree List View: Super good sample to use Styles and Template to do complex UI.\n\nusing System;\nusing System.Windows.Controls;\nusing System.Windows;\nusing System.Windows.Data;\nusing System.Globalization;\n\n\nnamespace _treeListView\n{\n    /// <summary>\n    /// Convert Level to left margin\n    /// Pass a prarameter if you want a unit length other than 19.0.\n    /// </summary>\n    public class LevelToIndentConverter : IValueConverter\n    {\n        private const double c_IndentSize = 19.0;\n		public object Convert(object obj, Type type, object parameter, CultureInfo culture)\n        {\n            return new Thickness((int)obj * c_IndentSize, 0, 0, 0);\n        }\n\n        public object ConvertBack(object obj, Type type, object parameter, CultureInfo culture)\n        {\n            throw new NotSupportedException();\n        }        \n    } // end of class\n} //end of namespace\n\n\n\nusing System;\nusing System.Windows.Controls;\nusing System.Windows;\n\n\nnamespace _treeListView\n{\n    public class TreeListView : TreeView\n    {\n        protected override DependencyObject GetContainerForItemOverride()\n        {\n            return new TreeListViewItem();\n        }\n\n        protected override bool IsItemItsOwnContainerOverride(object item)\n        {\n            return item is TreeListViewItem;\n        }\n\n    } // end of class\n\n    public class TreeListViewItem : TreeViewItem\n    {\n        private int _level = -1;\n		public int Level\n        {\n            get\n            {\n                if (_level == -1)\n                {\n                    TreeListViewItem parent = ItemsControl.ItemsControlFromItemContainer(this) as TreeListViewItem;\n                    _level = (parent != null) ? parent.Level + 1 : 0;\n                }\n                return _level;\n            }\n        }\n\n        protected override DependencyObject GetContainerForItemOverride()\n        {\n            return new TreeListViewItem();\n        }\n\n        protected override bool IsItemItsOwnContainerOverride(object item)\n        {\n            return item is TreeListViewItem;\n        }\n\n        \n    } //end of lass\n} // end of namespace\n\n\n﻿<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n	      xmlns:s=''clr-namespace:System;assembly=mscorlib'' \n	      xmlns:l=''clr-namespace:_treeListView'' \n		    x:Class="_treeListView.Window1"\n		    Title="TreeListView" Width="640" Height="480">\n  <Window.Resources>\n\n    <Style x:Key="ExpandCollapseToggleStyle" TargetType="{x:Type ToggleButton}">\n      <Setter Property="Focusable" Value="False"/>\n      <Setter Property="Width" Value="19"/>\n      <Setter Property="Height" Value="13"/>\n      <Setter Property="Template">\n        <Setter.Value>\n          <ControlTemplate TargetType="{x:Type ToggleButton}">\n            <Border Width="19" Height="13" Background="Transparent">\n              <Border Width="9" Height="9" BorderThickness="1" BorderBrush="#FF7898B5" CornerRadius="1" SnapsToDevicePixels="true">\n                <Border.Background>\n                  <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">\n                    <LinearGradientBrush.GradientStops>\n                      <GradientStop Color="White" Offset=".2"/>\n                      <GradientStop Color="#FFC0B7A6" Offset="1"/>\n                    </LinearGradientBrush.GradientStops>\n                  </LinearGradientBrush>\n                </Border.Background>\n                <Path x:Name="ExpandPath" Margin="1,1,1,1" Fill="Black"\n                      Data="M 0 2 L 0 3 L 2 3 L 2 5 L 3 5 L 3 3  L 5 3 L 5 2 L 3 2 L 3 0 L 2 0 L 2 2 Z"/>\n              </Border>\n            </Border>\n            \n            <ControlTemplate.Triggers>\n              <Trigger Property="IsChecked" Value="True">\n                <Setter Property="Data" TargetName="ExpandPath" Value="M 0 2 L 0 3 L 5 3 L 5 2 Z"/>\n              </Trigger>\n            </ControlTemplate.Triggers>\n          </ControlTemplate>\n        </Setter.Value>\n      </Setter>\n    </Style>\n    \n    <l:LevelToIndentConverter x:Key="LevelToIndentConverter"/>\n\n    <DataTemplate x:Key="CellTemplate_Name">\n      <DockPanel>\n        <ToggleButton x:Name="Expander" Style="{StaticResource ExpandCollapseToggleStyle}" \n                      Margin="{Binding Level, Converter={StaticResource LevelToIndentConverter},\n                      RelativeSource={RelativeSource AncestorType= {x:Type l:TreeListViewItem}}}"\n                      IsChecked="{Binding Path=IsExpanded,RelativeSource={RelativeSource AncestorType={x:Type l:TreeListViewItem}}}"\n                      ClickMode="Press"/>\n        <TextBlock Text="{Binding Name}"/>\n      </DockPanel>\n      <DataTemplate.Triggers>\n        <DataTrigger Binding="{Binding Path=HasItems,\n                               RelativeSource={RelativeSource \n                               AncestorType={x:Type l:TreeListViewItem}}}" \n                     Value="False">\n          <Setter TargetName="Expander"\n                  Property="Visibility"\n                  Value="Hidden"/>\n        </DataTrigger>\n      </DataTemplate.Triggers>\n    </DataTemplate>\n\n\n    <GridViewColumnCollection x:Key="gvcc">\n      <GridViewColumn Header="Name" CellTemplate="{StaticResource CellTemplate_Name}" />\n      <GridViewColumn Header="IsAbstract" DisplayMemberBinding="{Binding IsAbstract}" Width="60" />\n      <GridViewColumn Header="Namespace" DisplayMemberBinding="{Binding Namespace}" />\n    </GridViewColumnCollection>\n\n\n    <Style TargetType="{x:Type l:TreeListViewItem}">\n      <Setter Property="Template">\n        <Setter.Value>\n          <ControlTemplate TargetType="{x:Type l:TreeListViewItem}">\n            <StackPanel>\n              <Border Name="Bd"\n                      Background="{TemplateBinding Background}"\n                      BorderBrush="{TemplateBinding BorderBrush}"\n                      BorderThickness="{TemplateBinding BorderThickness}"\n                      Padding="{TemplateBinding Padding}">\n                <GridViewRowPresenter x:Name="PART_Header" Content="{TemplateBinding Header}"  Columns="{StaticResource gvcc}" />\n              </Border>\n              <ItemsPresenter x:Name="ItemsHost" />\n            </StackPanel>\n            <ControlTemplate.Triggers>\n              <Trigger Property="IsExpanded" Value="false">\n                <Setter TargetName="ItemsHost" Property="Visibility"  Value="Collapsed"/>\n              </Trigger>\n              <MultiTrigger>\n                <MultiTrigger.Conditions>\n                  <Condition Property="HasHeader" Value="false"/>\n                  <Condition Property="Width" Value="Auto"/>\n                </MultiTrigger.Conditions>\n                <Setter TargetName="PART_Header" Property="MinWidth" Value="75"/>\n              </MultiTrigger>\n              <MultiTrigger>\n                <MultiTrigger.Conditions>\n                  <Condition Property="HasHeader"\n                             Value="false"/>\n                  <Condition Property="Height"\n                             Value="Auto"/>\n                </MultiTrigger.Conditions>\n                <Setter TargetName="PART_Header"\n                        Property="MinHeight"\n                        Value="19"/>\n              </MultiTrigger>\n              <Trigger Property="IsSelected"\n                       Value="true">\n                <Setter TargetName="Bd"\n                        Property="Background"\n                        Value="{DynamicResource \n                          {x:Static SystemColors.HighlightBrushKey}}"/>\n                <Setter Property="Foreground"\n                        Value="{DynamicResource \n                          {x:Static SystemColors.HighlightTextBrushKey}}"/>\n              </Trigger>\n              <MultiTrigger>\n                <MultiTrigger.Conditions>\n                  <Condition Property="IsSelected"\n                             Value="true"/>\n                  <Condition Property="IsSelectionActive"\n                             Value="false"/>\n                </MultiTrigger.Conditions>\n                <Setter TargetName="Bd"\n                        Property="Background"\n                        Value="{DynamicResource \n                          {x:Static SystemColors.ControlBrushKey}}"/>\n                <Setter Property="Foreground"\n                        Value="{DynamicResource \n                          {x:Static SystemColors.ControlTextBrushKey}}"/>\n              </MultiTrigger>\n              <Trigger Property="IsEnabled"\n                       Value="false">\n                <Setter Property="Foreground"\n                        Value="{DynamicResource \n                          {x:Static SystemColors.GrayTextBrushKey}}"/>\n              </Trigger>\n            </ControlTemplate.Triggers>\n          </ControlTemplate>\n        </Setter.Value>\n      </Setter>\n    </Style>\n\n\n    <Style TargetType="{x:Type l:TreeListView}">\n      <Setter Property="Template">\n        <Setter.Value>\n          <ControlTemplate TargetType="{x:Type l:TreeListView}">\n            <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">\n              <DockPanel>\n                <GridViewHeaderRowPresenter Columns="{StaticResource gvcc}" DockPanel.Dock="Top"/>\n                <ItemsPresenter/>\n              </DockPanel>\n            </Border>\n          </ControlTemplate>\n        </Setter.Value>\n      </Setter>\n    </Style>\n\n  </Window.Resources>\n\n  <l:TreeListView>\n\n    <l:TreeListViewItem>\n      <l:TreeListViewItem.Header>\n        <x:Type TypeName="DependencyObject" />\n      </l:TreeListViewItem.Header>\n\n      <l:TreeListViewItem>\n        <l:TreeListViewItem.Header>\n          <x:Type TypeName="Visual" />\n        </l:TreeListViewItem.Header>\n\n        <l:TreeListViewItem>\n          <l:TreeListViewItem.Header>\n            <x:Type TypeName="UIElement" />\n          </l:TreeListViewItem.Header>\n\n          <l:TreeListViewItem>\n            <l:TreeListViewItem.Header>\n              <x:Type TypeName="FrameworkElement" />\n            </l:TreeListViewItem.Header>\n\n            <l:TreeListViewItem>\n              <l:TreeListViewItem.Header>\n                <x:Type TypeName="Control" />\n              </l:TreeListViewItem.Header>\n\n              <l:TreeListViewItem>\n                <l:TreeListViewItem.Header>\n                  <x:Type TypeName="ContentControl" />\n                </l:TreeListViewItem.Header>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="ButtonBase" />\n                  </l:TreeListViewItem.Header>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="GridViewColumnHeader" />\n                    </l:TreeListViewItem.Header>\n                  </l:TreeListViewItem>\n\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="Button" />\n                    </l:TreeListViewItem.Header>\n                  </l:TreeListViewItem>\n\n                </l:TreeListViewItem>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="HeaderedContentControl" />\n                  </l:TreeListViewItem.Header>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="Expander" />\n                    </l:TreeListViewItem.Header>\n                  </l:TreeListViewItem>\n\n                </l:TreeListViewItem>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="StatusBarItem" />\n                  </l:TreeListViewItem.Header>\n                </l:TreeListViewItem>\n\n              </l:TreeListViewItem>\n\n\n              <l:TreeListViewItem>\n                <l:TreeListViewItem.Header>\n                  <x:Type TypeName="ItemsControl" />\n                </l:TreeListViewItem.Header>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="Selector" />\n                  </l:TreeListViewItem.Header>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="ListBox" />\n                    </l:TreeListViewItem.Header>\n\n                    <l:TreeListViewItem>\n                      <l:TreeListViewItem.Header>\n                        <x:Type TypeName="ListView" />\n                      </l:TreeListViewItem.Header>\n                    </l:TreeListViewItem>\n\n                  </l:TreeListViewItem>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="ComboBox" />\n                    </l:TreeListViewItem.Header>\n                  </l:TreeListViewItem>\n\n                </l:TreeListViewItem>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="HeaderedItemsControl" />\n                  </l:TreeListViewItem.Header>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="TreeViewItem" />\n                    </l:TreeListViewItem.Header>\n\n                    <l:TreeListViewItem>\n                      <l:TreeListViewItem.Header>\n                        <x:Type TypeName="l:TreeListViewItem" />\n                      </l:TreeListViewItem.Header>\n                    </l:TreeListViewItem>\n\n                  </l:TreeListViewItem>\n\n                </l:TreeListViewItem>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="TreeView" />\n                  </l:TreeListViewItem.Header>\n\n                  <l:TreeListViewItem>\n                    <l:TreeListViewItem.Header>\n                      <x:Type TypeName="l:TreeListView" />\n                    </l:TreeListViewItem.Header>\n                  </l:TreeListViewItem>\n\n                </l:TreeListViewItem>\n\n                <l:TreeListViewItem>\n                  <l:TreeListViewItem.Header>\n                    <x:Type TypeName="StatusBar" />\n                  </l:TreeListViewItem.Header>\n                </l:TreeListViewItem>\n\n              </l:TreeListViewItem>\n            </l:TreeListViewItem>\n\n            <l:TreeListViewItem >\n              <l:TreeListViewItem.Header>\n                <x:Type TypeName="GridViewRowPresenterBase" />\n              </l:TreeListViewItem.Header>\n\n              <l:TreeListViewItem>\n                <l:TreeListViewItem.Header>\n                  <x:Type TypeName="GridViewHeaderRowPresenter" />\n                </l:TreeListViewItem.Header>\n              </l:TreeListViewItem>\n\n              <l:TreeListViewItem>\n                <l:TreeListViewItem.Header>\n                  <x:Type TypeName="GridViewRowPresenter" />\n                </l:TreeListViewItem.Header>\n              </l:TreeListViewItem>\n\n            </l:TreeListViewItem>\n\n          </l:TreeListViewItem>\n        </l:TreeListViewItem>\n      </l:TreeListViewItem>\n\n      <l:TreeListViewItem >\n        <l:TreeListViewItem.Header>\n          <x:Type TypeName="ViewBase" />\n        </l:TreeListViewItem.Header>\n        <l:TreeListViewItem>\n          <l:TreeListViewItem.Header>\n            <x:Type TypeName="GridView" />\n          </l:TreeListViewItem.Header>\n        </l:TreeListViewItem>\n      </l:TreeListViewItem>\n\n      <l:TreeListViewItem>\n        <l:TreeListViewItem.Header>\n          <x:Type TypeName="GridViewColumn" />\n        </l:TreeListViewItem.Header>\n      </l:TreeListViewItem>\n\n    </l:TreeListViewItem>\n\n    <l:TreeListViewItem>\n      <l:TreeListViewItem.Header>\n        <x:Type TypeName="GridViewColumnCollection" />\n      </l:TreeListViewItem.Header>\n    </l:TreeListViewItem>\n\n    <l:TreeListViewItem>\n      <l:TreeListViewItem.Header>\n        <x:Type TypeName="GridViewColumnHeaderRole" />\n      </l:TreeListViewItem.Header>\n    </l:TreeListViewItem>\n\n  </l:TreeListView>\n\n</Window>\n\n\n\n', '2015-08-11 07:12:07'),
(185, '', '', '20150814 Daily Notes Birthplace App Development\n* Made Data object list view fully worked, with Property View and secondary data object view.\n\n? How to capturing mouse over events on combo box items?\n? How to have composite Text Block to show a Data Object details? \n===========================================\n\nValue converter in binding:\n\n[ValueConversion(typeof(string), typeof(String))]\npublic class MyConverter: IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return string.Format("{0}:{1}", (string) value, (string) parameter);\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return DependencyProperty.UnsetValue;\n    }\n}\n<src:MyConverter x:Key="MyConverter"/>\n<TextBlock Text="{Binding Name, Converter={StaticResource MyConverter Parameter=ID}}" />\n\n===========================================\n\n<TextBlock>\n  <Run Text="Name = "/>\n  <Run Text="{Binding Name}"/>\n  <Run Text=", Id ="/>\n  <Run Text="{Binding Id}"/>\n</TextBlock>\n\n===========================================\n<TextBlock>\n    <TextBlock.Text>    \n        <MultiBinding StringFormat="{}{0} + {1}">\n            <Binding Path="Name" />\n            <Binding Path="ID" />\n        </MultiBinding>\n    </TextBlock.Text>\n</TextBlock>\n\n===========================================\n\nTextBlock tb = new TextBlock();\ntb.TextWrapping = TextWrapping.Wrap;\ntb.Margin = new Thickness(10);\ntb.Inlines.Add("An example on ");\ntb.Inlines.Add(new Run("the TextBlock control ") { FontWeight = FontWeights.Bold });\ntb.Inlines.Add("using ");\ntb.Inlines.Add(new Run("inline ") { FontStyle = FontStyles.Italic });\ntb.Inlines.Add(new Run("text formatting ") { Foreground = Brushes.Blue });\ntb.Inlines.Add("from ");\ntb.Inlines.Add(new Run("Code-Behind") { TextDecorations = TextDecorations.Underline });\ntb.Inlines.Add(".");\n\n===========================================\n<Span> is more flexible and poweful than <run>:\n\n <TextBlock Margin="10" TextWrapping="Wrap">\n        This <Span FontWeight="Bold">is</Span> a\n        <Span Background="Silver" Foreground="Maroon">TextBlock</Span>\n        with <Span TextDecorations="Underline">several</Span>\n        <Span FontStyle="Italic">Span</Span> elements,\n        <Span Foreground="Blue">\n                using a <Bold>variety</Bold> of <Italic>styles</Italic>\n        </Span>.\n</TextBlock>\n===========================================\n<TextBlock Margin="10" TextWrapping="Wrap">\n        This text has a <Hyperlink RequestNavigate="Hyperlink_RequestNavigate" NavigateUri="https://www.google.com">link</Hyperlink> in it.\n</TextBlock>\n\n===========================================\n\n\n===========================================\n         \n                ', '2015-08-14 04:26:40'),
(187, '', '', '20150822-31 Daily Notes Birthplace \n=====================================================\n20150822:\n* Command will be stateless as convention: incoming message will determine what action will be carried out. \n* Commander Manager and Commander will open or close the commands on receiving specific messages.\n* Handler''s description will be more important than all other fields since it will be used to choose handlers in command definition.  \n* Re-layout Builder List View tab and make the description for listener and handler to be big sine they will be important than any other fields in defining Commands.\n\n* Added scroll view and label above each data grid view control.\n* Removed the Scroll View and create more grid rows to hold the labels. DataGrid directly inside a cell would have its own scroll bars.\n20150824\n* Added labels for each part.\n* Commander List tab developed and worked well with Repository parts.\n20150825\n* Merged Data Object, message and commander list onto a single tab.\n* The tool is almost usable now to work for TTN.\n\n20150826-27-28-29-30:\n* Found the Command Steps cannot be loaded onto UI. \n* Fighting with WPF to have interconnected Combo Box columns. This is a surprise. \n* Finally, the command steps are OK on UI with:\n** OnPropertyChanged used \n** Column_Clicked event\n\n\n\n---------------------------------------------------------------------------------\n# The next line cannot show scroll bar automatically. Have to have a <ScrollView> around the <DataGrid>.\n<DataGrid Name="dataGridBuilder" ItemsSource="{Binding }"  ScrollViewer.CanContentScroll="True" ...>\n\n# For a DataGridComboBox column in DataGrid like: <DataGridComboBoxColumn x:Name="ColumnBuilder" Header="builder" Width="130" />,\nWith the line: this.ColumnBuilder.ItemsSource = repo.getViewBuilderListForMessage(msg);\nAll the ComboBox in the column will have the same ItemsSource.  \n\n\n\n\n---------------------------------------------------------------------------------\nWPF Sizing:\n# <Border> inside a <Grid> cell takes the whole area of the cell by default.\n# <StackPanel> inside a <Border> also takes the whole are of the parent, no need to be stretch for alignments.\n\n# DataGrid in a Grid, DockPanel, ContentControl or directly in the Window will have scroll bar shown as needed.\n# Vertically-oriented StackPanel will give its children whatever vertical space they ask for - \neven if that means it is rendered out of view.\n# HeaderedContentControl will behave like <StackPanel>, not like <ContentControl> since it is implemented internally with a StackPanel.\n\n\n---------------------------------------------------------------------------------\nHow Draw Border around Grid Cell:\n\n? Grid cell will lose border lines if containing <StackPane>. \n\n# If cell contains only DataGrid, there are border lines around the cells from our tests. But when adding Stack Panel or Scroll Viewer to be cell content, cell border lines disappeared.\n\n# The next line could not draw the border lines, Strange.\n<ScrollViewer Grid.Row="1" Grid.RowSpan="3" Grid.Column="0" BorderThickness="1" BorderBrush="Bisque">\n\n# <Stack> has no border defined internally, no properties like: BorderThickness="1" BorderBrush="Bisque".\n \n# Grid''s property ShowGridLines=true will show dashed grid lines, that is not like those shown by default. It is said that it is impossible to change the grid lines showing out in this way from MSDN since the feature is designed for Designer use only. MSDN docs say "Only dotted lines are available because this property is intended as a design tool to debug layout problems and is not intended for use in production quality code.\n\n# To give <Grid> cell with border line, Add <Border> around the contents.\n\n\n---------------------------------------------------------------------------------\n# DotNET Reflection Code Sample: \nInteresting Sample to build a Object using reflection from an assembly:\nThe class chosen is an internal type, no real need for doing so.\n\nvar T = Type.GetType("System.Windows.Controls.Grid+GridLinesRenderer," +\n    " PresentationFramework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35");\nvar GLR = Activator.CreateInstance(T);\nGLR.GetType().GetField("s_oddDashPen", BindingFlags.Static | BindingFlags.NonPublic).SetValue(GLR, new Pen(Brushes.Black, 1.0));\nGLR.GetType().GetField("s_evenDashPen", BindingFlags.Static | BindingFlags.NonPublic).SetValue(GLR, new Pen(Brushes.Black, 1.0));\nmyGrid.ShowGridLines = true;\n\n\n\n=================================================================================\n20150815-16 Daily Notes Birthplace App development\n* Message List View is added by coping Data Object List.\n* Found error when adding 1st property to an data object. Cause is Data Object''s properties member is null if it is empty, i.e. having no children. Secured in the Repository class for data objects and message.\n* Found data Grid Property/Parameter''s Cell Editing event handlers are not necessary at all. The XAML''s binding has put right values into property and parameter well.   \n* Message List and Data Object List worked fine.\n* Start building list view for View Builders and builder and child view builders can be added in now.  \n* View builder list view is OK with workable UI for choosing messages from Combo Box.\n\n==================================================================================\n# CAUTION: Entity''s collection member like: public virtual ICollection<BPProperty> properties { get; set; } could be null if it has no child in it.\n# WPF DataGrid Edit: cell editing event is not needed in the whole editing process. Only row editing event should be handled. \n==================================================================================\n\n\n==================================================================================\n\n\n==================================================================================', '2015-08-15 00:21:08'),
(188, '', '', '201509 Daily Notes Birthplace\n=============================\n20150901-06: New Project Ideas for Start using Birthplace Architecture\n\n1. Tried to use the Birthplace WPF02 app to intercept TTN application and found ttn codes are not ready for that. Command steps are causally codes with particular logic switches and messages were raised anywhere even inside data item objects like note item object.  To use Birthplace pattern for TTN, it should be re-written and how about a new application was created for this very purpose.\n\n2. Considering developing Double-Tree jQuery plug-in. It has two trees: source and target and supports dragging from source to the target and vice versa. It will be very involved to have totally newly developed tree controls. And it could be pointless to use jsTree, license issues. \n\n3. How about jqGrid-like new DataGrid control with tree open capability, the same issues as above.\n\n4. How about number plate generator on Canvas? This requires Image effects on Canvas. Simple search on web and found heaps of image effects available for html5 canvas, many samples and tutorials on web but no much were actually utilized on web yet. Probably it is a good start point. This project will be easier.\n\n5. How Color Evolver on Canvas? Sherwin William''s color tools are still rough on Flex as it was. A proper web site can be developed for this new version using ASP MVC and html 5 in Birthplace architecture.\n\n6. How about a Tag Tree over a collection of records, which will be grouped into a tree view automatically based on field values. To change the order of the fields, data visualization on the tree structure can be different. That is, user can drag the field into different order and tree will regenerated. Field values will be segmented in different ways to have even-layout tree view result.      \n\n\n\n=============================\n20150906 Birthplace Idea Summary\n* New Idea: message handlers or even event listeners should not only defined in view builders, but also in other objects. \n** Such objects can have a new name called Model Objects and then view builder will another kind of objects specializing in building views.  \n** So birthplace objects will be categorized into: Messages Packet, Data Objects, Model Objects, View Builders and Command Objects. \n* Command Objects will, by convention, stateless, that is, every incoming message packet will choose its own unique message handler.  \n* Commander object will be manager for commands and mapped to use case in software specifications.\n\n=============================\n20150915\n* No big progress in deciding which way to go to do the next product.\n* Even thinking to go back to Android project ZiDian Chinese Input method. \n** English input issue, should integrate generic English IME.\n** Make a useful Hanzi dictionary.\n============================\n20150916 \n* Found a post that 李开复 said some failures are caused by having too many ideas. Good point.\n* Double tree as jQuery plugin might be a good idea to proceed since they could be interesting for me know.  \n* jsTree actually is free to extend, only ask for donate.\n* Download jstree from https://www.jstree.com/ and start to study its source codes and API.\n* Can we determined to study a full source codes of a big package like jsTree? Take the jsTree as the 1st attempt.\n \n=============================\n20150921\n* In last week, spend some time to study the source codes of jsTree and jQuery structure. \n* Still not sure which product should be the next project.\nProbably a jQuery plugin: Tree, Double Tree, Note/Tag/IndexTree/Property Grid...\njQuery is different what we have with View Builder Structure.\nView Builder Framework integrated Data context, html element and view builder together. \n \n* Mongo DB document-based DB, containing json blobs.\n\n* [IMPORTANT]This morning, Extended Property Grid: Left column and right column, Left column is a tree to containing property name in levels and the right is simple editors: integer,text,drop-down-list,  calendar, numeric stepper, ...\n\n* Easy UI is a pretty new js controls library. There are several dozens of controls.\n\n* http://www.cssedit.co.uk/exemples/scripts/PropertyGrid.js has a property grid sample jsFile.\nhttp://www.cssedit.co.uk/ has a UI like a desktop application. The right side is a property grid and worked well for categories of properties.\n   \n=============================\n20150922 \n* 10:50am, The new project could be defined as:\n** Define an object model \n** Use View Builder Framework to generate an web site of many view pages to display/create/edit/delete all the object types in the model, \nthe view can use property grid, data grid, tree, single-value controls, specific object type editors, ...\n** The web site codes can employ any js framework as needed.\n** More and more features can be added in like: sort, filter, export, reporting, ...\n** The project is from object model to web site: model to site(m2s), object model to web site(om2ws), automatically.  \n=============================\n20150923:\n* Name for the new project:\nObject Model to Web Application(om2wa, om2web,om2a, m2w, m2a,m2web,..)\nM2A web search results: money2anywhere.com, ASUS M2A motherboard, Take this as project name.\n		\n* Idea:\n** The big idea is to take a Object Model definition and generate a web application to maintain the object model and allow a flexible extension mechanism. But this comes to an old idea. \n** We just concentrate  on json object model and html5/js web application using View Builder Architecture and Birthplace. \n** The application will start from a Property Grid like page. Child object property editor will be arranged into a tree or a pop-up or another total page. \n\n** Array property will raise data grid page. \n\n** Extension will be Editors(View Builder) chosen by property type(as in WPF data template). \n\n** And View Model''s message mechanism will be there as well. From this sense, M2A will be an extension(or an implementation of View-Builder-Framework.\n\n* Downloaded YUI Library 3.0 source codes from Git and found it is a wealth of javascript code resoures, esp with unit test pages.\n** YUI has a compressor for js files and should be used at a stage.\n** YUI library is not depreciated, it is YUI Gallery, community site was.\n** Smugmug tree view is a yui extension to deliver Tree View UI.\n** Inside src folder, test/unit/ sub folder has test html pages normally OK to run.\n \n* Preparation for M2A:\n** Tree view\n** Editors\n** Data Grid with cell editors.  \n=============================\n20150925:\n* Have studied the way how to build tree view in various packages.\n\n* There are two ways to present a tree node using HTML elements:\n** Flat list of <div>: child node''s <div> indented further.\n** Each node has its own part using <li> and a <ul> to include its children.\n\n* Looks we need a Tree gadget first, as the first step of M2A:\n** Tree Node Operations: Open/Collapse(Node or All), Move/Copy/, Add/Delete/Edit, Sort/Filter,...\n** Node Object Properties: Data type, Editor, Children, Value fields...\n** View Builders: default view builders for data type, specific view builders,...\n** The row height is variable and node''s view builder will give it out in measure pass before rendering pass.\n** Need a calculation of visibility in the container for all the nodes for performance and pagination. \n\n* M2A Stages: \n** Tree View\n** Basic Editors\n** Data Grid with cell Editor, Filter/Sort(multiple column)\n** Property Grid and pages generation.\n** Configuration Tool in WPF/C# first.\n=============================\n20150927: \n* Stated to develop tree view ( Object Model to Tree View ) in a test folder(e:/brithplace/tests/html01.\nJavascript Tree View for Object Model Definition.(M2ATree).\n* First a fixed tree view.\n\n* Found the SmartBear Software web sites has a tree and decided to use it as base.\n\n* Download image assets into e:/Birthplace/tests/html01/image. Decides to use jeasyui''s integrated image.\n272x32.png.  \n\n* Copied jeasyui.com''s demo to be sample code for tree view with tree lines, copied the css rules and run the test page and showing static tree view OK.\n\n* It is not good to use <ul><li>, this required  list-style-type: none; and jeasyui also used nest structure.\n* Important to use css rule: background: #ffffff url("img_tree.png") no-repeat right top;\nbackground: #ffffff url("img_tree.png") no-repeat 10px 20px; //image starts at (10,20) to left and down.\n\n* M2ATree will support variable height of tree nodes, will not use nest structure, that is, a list of <div> elements.\n* Since ICONs are small so Fixed icon will be arrange inside the containers <div>''s for each tree node.   \n===============================\n20150930\n* Carried on with e:/Birthplace/tests/html01 to build simple tree view control.\n\n===============================\nfunction M2ATreeDataObject(nm,lbl,desc,dataType,vwBuilder, childArray){\n	this.name = nm;\n	this.label = lbl;\n	this.description = desc;\n	this.dataTypeName = dataType;		\n	this.viewBuilderName = vwBuilderName;\n	this.children=childArray;\n};\n\nM2ATreeDataObject.prototype.hasChildren = function(key) {\n	if(typeof(this.children) == ''undefined'') \n		return false;\n	else if(typeof(this.children) != ''array'')\n		return false;\n	else if(this.children.length<1)\n		return false;\n	else \n		return true;\n};\n\n\n\nfunction M2ATreeBuilder(){\n	this.contextDataObject = null;\n	this.hostHTMLElement = null;	\n}\n\n// Templates for Indent columns\n// Templates for parent column\n// Templates for Data Types\n// Named Special Templates\n\nM2ATreeBuilder.proptotype.buildHTMLForTreeItem = function(itm,depth) {\n	// Calaulcate the width of the tree item client area from host element.\n	// Find the templates for the tree item  \n	// Determine the height of the tree node from its builder.\n	// Find the templates for indent area and apply the height.\n	// Find the template for the parent area and apply the height.\n	// \n	\n}\n\n=============================', '2015-09-06 10:16:05'),
(189, '', '', '201509 Research Notes\n============================\nFindings:\n# money2anywhere.com has a good tab, accordion and a soft keyboard on its web pages, pretty cool web site showing some techniques.\n# smartbear software company is business for selling software for software quality control and tests.\nThe business and its web site is a good example. \n# http://www.jqueryrain.com/demo/jquery-treeview/ 20 tree view sample links.\n\n============================\n20150923: Tree View Sample Projects:\n\n--------------------------------\n* Easy UI: famous big framework with good documentation.\nhttp://www.jeasyui.com/tutorial/tree/tree2_demo.html\nNested structure: <li> for each node. Inside are <div><span/> ...<span/></div><ul/> \n\n<li>\n<div id="_easyui_tree_5" class="tree-node">\n<span class="tree-indent"></span>\n<span class="tree-hit tree-expanded"></span>\n<span class="tree-icon tree-folder  tree-folder-open"></span>\n<span class="tree-title">Node 1.1</span>\n</div>\n<ul style="display: block;">\n<li> ...............\n</ul>\n</li>\n\n\n\n--------------------------------\n* YUI Tree \nhttp://alloyui.com/examples/tree/real-world/, Quite the same structure as Easy UI.\n\n<li class="tree-node" id="yui_patched_v3_18_1_1_1443100293898_79">\n<div class="tree-node-content tree-expanded yui3-dd-drop tree-node-over" id="yui_patched_v3_18_1_1_1443100293898_499">\n<span tabindex="0" class="tree-hitarea glyphicon-minus"></span>\n<span class="glyphicon glyphicon-folder-open"></span>\n<span class="tree-label" id="yui_patched_v3_18_1_1_1443100293898_1325" style="-webkit-user-select: none;">Radio</span>\n</div>\n<ul class="tree-container"><li class="tree-node" id="yui_patched_v3_18_1_1_1443100293898_509">\n\n</li>\n</ul>\n</li>\n\n--------------------------------\n* Smugmug Tree View should use YUI Library. Smugmug is a big player and the tree view was said running at super speed.\n\n<li class="undraggable ui-draggable opened" id="node-702144">\n<div class="click-zone"></div>\n<a href="/wiki/display/SmugMug/Home" class="home-node">\n<span>Home</span>\n<i class="decorator"></i>\n</a>\n<div class="button-panel">\n<a class="abc" title="Sort Alphabetically" style="display: none;"></a>\n<a class="rollback" title="Undo Sorting" style="display: none;"></a>\n</div>\n<ul style="display: block;">\n<li class="undraggable ui-draggable" id="node-712207">...\n</li></ul></li>\n--------------------------------\n* jsTree\nUsed nested strucure: <li> for each node, <i> for lines, <a> for node item display, inside <a>, there is a <i> and then <ul> for children. jsTree has a big image to contain all the icons for the tree. \n\n<ul role="group" class="jstree-children">\n	<li role="treeitem" aria-selected="false" aria-level="2" aria-labelledby="New node_anchor" aria-expanded="true" id="New node" class="jstree-node  jstree-open" aria-busy="false">\n	<i class="jstree-icon jstree-ocl" role="presentation"></i>\n	<a class="jstree-anchor" href="#" tabindex="-1" id="New node_anchor">\n	<i class="jstree-icon jstree-themeicon folder jstree-themeicon-custom" role="presentation"></i>\n	New node\n	</a>	\n	<ul role="group" class="jstree-children">\n-------------------------------\n* SmartBear.com has a tree view, in left panel. The web page is written in ASP.NET codes:\n** The whole tree view is a <table>\n** Tree node is <tr>. <td>''s were there to give line and indents. \n** Children is included in a <table> again.\n** Inside <td> backgroundimage uses url like src="/DXR.axd?L_xxxxx" to return .gif file \n** In the pages, the next line was used to include the js scripts, also using src="/DXR.axd?r=1_59-L8Meb". \n<script id="dxis_1941198067" src="/DXR.axd?r=1_59-L8Meb" type="text/javascript"></script>\n\n<table class="dxtlControl" cellpadding="0" cellspacing="0" style="width:100%;">\n<tbody><tr><td valign="top">\n   <table cellspacing="0" style="width:100%;">\n     <tbody>\n                 <tr class="dxtlNode treeNode">\n                    <td class="dxtlIndentWithButton dxtlLineLast dxtl__IM">\n                        <img class="dxTreeList_ExpandedButton dxtl__Collapse" src="http://support.smartbear.com/DXR.axd?r=1_5-L8Meb" alt="[Collapse]">\n                    </td>\n                    <td class="dxtl dxtl__B0" colspan="3">\n                        <span title="CodeCollaborator 5">CodeCollaborator 5</span>\n                    </td>\n			    </tr>\n                 <tr class="dxtlNode treeNode">\n				    <td class="dxtlIndent dxtl__IM">&nbsp;\n                    </td>\n                    <td class="dxtlIndentWithButton dxtlLineMiddle dxtl__IM">\n                        <img class="dxTreeList_CollapsedButton dxtl__Expand" src="/DXR.axd?r=1_5-L8Meb" alt="[Expand]">\n                    </td>\n                    <td class="dxtl dxtl__B0" colspan="2">\n                        <span title="Big Picture">Big Picture</span><span style="display:none">/viewarticle/20018/</span>\n                    </td>\n			     </tr>\n-------------------------------\n* http://wwwendt.de/tech/dynatree/doc/samples.html\nBig and rich web site for the tree: Nested Structure:\n<span><span/><span/><a/></span> for the node item and <ul><li> for each child. \n\n<li class="">\n<span class="dynatree-node dynatree-folder dynatree-has-children dynatree-exp-c dynatree-ico-cf dynatree-active">\n<span class="dynatree-expander"></span>\n<span class="dynatree-icon"></span>\n<a href="#" class="dynatree-title">Drag''n''drop</a>\n</span>\n<ul style="display: none;">\n<li class="">\n <span class="dynatree-node dynatree-exp-c dynatree-ico-c">\n  <span class="dynatree-connector"></span>\n  <span class="dynatree-icon"></span>\n    <a href="sample-dnd.html" class="dynatree-title">Drag''n''drop 1</a>\n </span>\n</li>\n\n<li class="">\n <span class="dynatree-node dynatree-exp-c dynatree-ico-c">\n <span class="dynatree-connector"></span>\n <span class="dynatree-icon"></span>\n  <a href="sample-dnd2.html" class="dynatree-title">Drag''n''drop 2</a>\n </span>\n</li>\n</ul>\n</li>\n------------------------------\n* http://demos.telerik.com/kendo-ui/treeview/index\nBig and quite famous library. <ul><li><ul>  nesed structure.\n\n<ul class="k-group">\n	<li class="k-item" role="treeitem" data-uid="6b1f2a87-a046-4e25-9779-f1b7523fb91e" aria-selected="true" aria-expanded="true" data-expanded="true" id="treeview_tv_active">\n		<div class="k-top">\n			<span class="k-icon k-minus"></span>\n			<span class="k-state-selected k-in"><span class="k-sprite folder"></span>images</span>\n		</div>\n		<ul class="k-group" style="overflow: visible; display: block;">\n			<li class="k-item" role="treeitem" data-uid="fdb1790e-6d6c-4337-9c96-e6c344ac798e">\n				<div class="k-top">\n					<span class="k-in">\n						<span class="k-sprite image"></span>\n							logo.png\n					</span>\n				</div>\n			</li>\n			<li class="k-item" role="treeitem" data-uid="a2ff00e9-5c37-41d0-8f22-a8e2b96feb97">\n				<div class="k-mid">\n					<span class="k-in">\n						<span class="k-sprite image"></span>\n						body-back.png\n					</span>\n				</div>\n			</li>\n			<li class="k-item k-last" role="treeitem" data-uid="81440415-d9a9-467f-98d1-5b89ac89c897">\n				<div class="k-bot">\n					<span class="k-in">\n						<span class="k-sprite image"></span>\n						my-photo.jpg\n					</span>\n				</div>\n			</li>\n		</ul>\n	</li>\n------------------------------\n* http://www.treeview.net/tv/instructions.asp\nSimple and old tree view with good documentation page. Each item is a independent <div>.\n\n<div id="folder6" style="display:block;">\n<table border="0" cellspacing="0" cellpadding="0" width="100%">\n<tbody>\n<tr>\n<td valign="top" background="demo/ftv2vertline.gif"><img src="demo/ftv2vertline.gif" width="16" height="22"></td>\n<td valign="top" background="demo/ftv2vertline.gif"><a href=''javascript:clickOnNode("6")''><img name="nodeIcon6" id="nodeIcon6" src="demo/ftv2mnode.gif" width="16" height="22" border="0"></a></td>\n<td valign="top"><img src="demo/ftv2blank.gif" height="2" width="2"></td>\n<td valign="middle" nowrap="" width="100%"><a href="#MANUAL" target="_top" id="itemTextLink6" onclick="javascript:clickOnFolder(&quot;6&quot;)">Manually Building Tree</a></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n\n-------------------------------\n* http://www.juniorfootball.org/index2.htm\nSimple,Flat list of <div>s,  Javascript Tree View Menu, pretty clear structure. \nFor each tree node: <div><table><tbody><tr><td/><td/>...<td/>. \nThe depth of tree node is the number of <td> in front of the content <td>.\n \n<div id="folder456" style="display: block;">\n<table border="0" cellspacing="0" cellpadding="0" width="100%">\n<tbody>\n<tr>\n<td valign="top" background="ftv2vertline.gif">\n  <img src="ftv2vertline.gif" width="16" height="22">\n</td>\n<td valign="top" background="ftv2vertline.gif">\n<a href=''javascript:clickOnNode("456")''>\n  <img name="nodeIcon456" id="nodeIcon456" src="ftv2mnode.gif" width="16" height="22" border="0">\n</a>\n</td>\n<td valign="top">\n  <a href="new_home.html" target="basefrm" onclick="javascript:clickOnFolder(&quot;456&quot;)">\n     <img id="folderIcon456" name="folderIcon456" src="ftv2folderopen.gif" border="0">\n  </a>\n</td>\n<td valign="middle" nowrap="" width="100%">\n<a href="new_home.html" target="basefrm" id="itemTextLink456" onclick="javascript:clickOnFolder(&quot;456&quot;)">Outside Cup</a>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n\n------------------------------\n* http://bl.ocks.org/mbostock/4339083 \nSVG Tree View,very good.  Treed : Powerful JavaScript Tree Editor: Normal tree viwe and SVG tree view were synchronized.\nPut SVG inside DOM, eventrs can be added to the elements just like HTML elements.\n\n-----------------------------\n* http://www.thecssninja.com/css/css-tree-menu\npure css tree menu\n\n-------------------------------\n* http://wiki.aiwsolutions.net/2014/03/12/tree-list-filter-plugin/\nA tree filter sample: key-in a text to show the nodes whose text is containing the text only.\n\n============================\n20150920: jQuery get scripts \n* To get all of the script elements: var scripts = $("script");\n* The script elements having a src attribute: var scripts = $("script[src]");\n* Those having src attribute beginning with "/modules/": var scripts = $("script[src^=''/modules/'']");\n* Get the src attribute: var path = $("script[src^=''/modules/'']").attr(''src'');\n* Get the path part after modules: \nvar pathPart = $("script[src^=''/modules/'']").attr(''src'').split(''/'')[2];\n\n============================\n20150917: \n\n* Explain jQuery''s structure:\nhttp://stackoverflow.com/questions/4083351/what-does-jquery-fn-mean\n\n(function() {\n  var foo = function(arg) { // core constructor, ensure to use the `new` operator\n    if (!(this instanceof foo))\n      return new foo(arg);\n    // store an argument for this example\n    this.myArg = arg;\n    //..\n  };\n\n  // create `fn` alias to `prototype` property\n  foo.fn = foo.prototype = {\n    init: function () {/*...*/}\n    //...\n  };\n\n  // expose the library\n  window.foo = foo;\n})();\n\n// Extension:\n\nfoo.fn.myPlugin = function () {\n  alert(this.myArg);\n  return this; // return `this` for chainability\n};\n\nfoo("bar").myPlugin(); // alerts "bar"\n\n* jQuery.fn = jQuery.prototype = {\n //list of functions available to the jQuery api\n}\nRemember that jquery will be the parent scope to your function, so this will refer to the jquery object.\n\n$.fn.myExtension = function(){\n var currentjQueryObject = this;\n //work with currentObject\n return this;//you can include this if you would like to support chaining\n};\n\n* css() function:\nIf the jQuery object holds a collection then the css function will automatically iterate over them internally with each.\n\n============================\n20150916:\n* jsTree web site: https://www.jstree.com/\n============================\n20150906 Image effects on Canvas\nThe html5 canvas effects are over supplied for application like Number Place Generators and Color evolver.\n\n* http://www.storminthecastle.com/2013/04/06/how-you-can-do-cool-image-effects-using-html5-canvas/\n\n* http://www.html5rocks.com/en/tutorials/canvas/imagefilters/\n\n* http://www.jqueryrain.com/example/image-effects/\n\n* http://www.html5rocks.com/en/tutorials/canvas/texteffects/\n\n============================\n\n\n============================', '2015-09-06 12:14:30');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(190, '', '', '201510 Daily Notes M2A Tree\n=============================\n20151001\n* To allow variable height of tree node row, integrated image from easy UI cannot be used. Separate icons are required and so found and download ASP Tree View icons from showing tree view controls from the next page: http://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/navigation/treeview.aspx \nThe icons are put int he folder e;/Birthplace/tests/html01/img/asp/\n\n\n=============================\n\n\n=============================\n\nM2ATree Development Stages\n//=============================================================\nStage 1: Build and render the whole tree using a list of tree rows \nNo drag/drop and no pagination(rendering the whole tree into html elements)\n//-------------------------------------------------------------\nStep 1: Being able to render a tree node into a tree row.\n//-------------------------------------------------------------\nStep 2: Make a single tree node\n//-------------------------------------------------------------\nStep 3: Make a tree of multiple nodes and levels.\n* 20151012:The first child has got plus/minus/line-right-down icons.\n* 20151013:\n** Indent area is not right when drawing lines. The area is not always drawn with lines in every levels. A tree note item''s ancestors at each level could be a last child. So have to remember the ancestors at each level.\n** Added two methods to draw indent area: with lines and No lines.\n** Maintain ancestorDataObjects array and worked OK with the whole tree come out with right indent area for every tree row.\n* 20151014:\n** Added id to tree row and tree item parent column''s top cell: tree_cell.\n** Added treeItemId and lastChildTreeItemId to tree data object.\n** Added currentTreeItemId to M2ATreeBuilder.\n** Checked each tree row and tree cell has got right unique id and show the tree item id out in tree node label.\n** Checked from javascript Chrome Dev tool and found lastChildTreeItemId was set properly. \n  \n\n//-------------------------------------------------------------\nStep 4: Open/Close Tree Nodes\n20151015-16-17-18:\n* How to use them to open/close tree items efficiently?\n** Removing child one by one will be slow since this will be done many times.\n** Better way to put children into parent''s children wrapper element and show or hide it. \nUsed empty <span/> and <div/> to hold the children under each tree item and the whole view is still perfect. But I believe <section/> might be the right tag to be used for this very purpose.\n** Introducing children container under each tree item. And The whole tree is not a flat list of <div/> anymore. It turns to be a hierarchy.\n\n* Added findSubTreeItem method to M2ATreeDataObject.\n* Added root item, expanAll option, and drawRoot option.\n* Refined function signatures in M2ATreeBuilder: renderHtml will call buildTreeRoot first and buildTreeItem will be called recursively.\n* Added click handler to open/close the tree item: show/hide the children container and also changing the parent cell''s class.\n\n* Studied how to pop-up a dialog around a button and don''t change the underlying view. The only way could be use fixed positioning. Calculating the icon button''s position and then pop-up the editor around the fixed location on the screen. How to make modal pop-up for this purpose?\n\n//-------------------------------------------------------------\nStep 5: Add child and change the child order\nSo we can test all the sample tree nodes for all the scenarios.\n\n20151017-18-19:\n* Built the editor and directly put the editor above the tree and carry on with Add/Remove by adding the event handlers.\n* Start to add a new tree item and found that the new item can not find its ancestors by using current ancestor Tree Item dynamic array, which is a single array under M2ATreeBuilder. \n\n* So Added prentTreeItem to each M2ATreeDataObject and add findAncestorTreeItem(depth) to recursivle find the ancestor tree item at all the upper levels. Further add buildAncestorArray to each tree item and the tree is drawn well with the new parent tree mechanism.\n\n* New item was added after setting its treeDepth and parentTreeItem properly.\n* HAVE TO set children not null for all the items so as to be able to add children to it.    \n* Have to draw empty children container for each leaf item. Other wise, addition is hard.\n* Expanded the tree row to include the item row and its children container. The tree structure in html DOM is not a flat list any more, but in a hierarchy now.\n\n* Restructured the rendering process:  \nBuild HTML for Tree Cycle: buildTreeRoot > buildTreeRow > buildTreeRowInner > buildChildContainer > buildTreeRow > ... \n** Depth was passed into child in buildTreeRow. \n** Tree Data Object will remember the tree depth.\n\n* tree item Id will be kept to be the same after tree item''s some children was changed and the tree was refreshed in view.  \n\n* buildTreeRowInner could redraw the item row and its children container properly.\n\n* So child addtion is working now.  \n\n20151021: \n* Implemented remove button and removed the item properly.\nRoot items cannot be removed.\n* Added move up and down button to non-root, non first, or non last items\n* Implemented move up(non first items) and move down (non last item) properly. \n\n20151022:\n* Started the new folder m2a and test more html to bring up dialog relative to existing element.\n* Defined the :hover on the data area.\n\n20151023-24:\n* How to restructure the project codes into development mode as version 1:\nM2ATree Components:\n\n--M2ATreeItemDataObject\nID, Pointer to actual source data object, Tree Item Attributes, including theme specification at item level,Data Type will determine the row height in cells and which view builder to be used and even themes\n\n--M2ATreeDataModel: \nLoad source data hierarchy and build M2ATreeItemDataObject hierarchy and manage them\n(mapping between them)\n \n--M2ATreeViewBuilder\n\n--M2ATreeItemDAtaObjectBuilder(Extension Receiver)\nWrapper different source data object into M2ATree Data Objects with different treee item attributes. \n\n--M2ATreeItemViewBuilder(Extension Receiver)\nRendering the tree and Operations will be added into this module to \nreceive new tree item at any location \nchange the location of existing tree items \ndelete the tree items.  \n\n\n--M2ATreeEventHandlers(Extension Receiver)\n\n--M2ATreeThemes and image resources(Extension Receiver)\n\n\n20151027: \n\n	* Load Source Data Object Model from data source \n	* Build Tree Item Data Object Model: \n	Tree Item ID: ID created from Source Data Object or sequence and powerful enough to retrieve the treee item and related source object.\n	Tree Item Row Indent Area + Parenting Column + Data Area\n	Tree Item Data Area Renderer: Methods for Rendering in different scenarios(Default, Hover, Edited/Selected/Active/Target/Disabled...)\n	(a rich set of predefined ones plus possible custom ones)\n	Tree Item Row Data Area can have many custom states to present it in different ways and in different height(rowHeightInCells will be calculated)   \n	* Init Rendering Tree. Tree Item Data Area Renderers were invoked depending the Tree Item Data Object''s selection.\n	* Receive interactions into event handlers from Tree Item Row Data Area and its context menu or its internal controls.\n	* Call tree operations( a rich set of predefined ones plus possible custom ones.) to update the tree view.\n	* Call source data operations from inside the tree opeartions.\n	 	\n20151028:\n	M2ATreeItem\n	{\n		view-flags\n		viewStates\n		currentViewStates\n	}\n	\n	M2ATreeSourceDataModel\n	{	\n		getID(srcObj)\n		getName(srcObj)\n		getDescription(srcObj)		\n		getChildren(srcObj)	\n		getItemRenderMethod	\n		buildTreeItem(srcObj)		\n	}	\n	\n	M2ATree\n	{\n		rootTreeItem		\n		loadData(rootSourceDataObject)\n		renderHtml()\n		saveViewState: save current tree item state locally or remotely\n		restoreViewSate: from tree item Id, locally or remotely.\n			\n	\n	}\n	\n	M2ATreeItemRender\n	{\n		\n	}\n	\n	*/\n\n//-------------------------------------------------------------\nStep 6: View Builder Selection for Different Data Objects\n\n//-------------------------------------------------------------\nStep 7: Import big json file to load onto a tree\nUse simple rules to automatically build tree data object over generic data objects.\n\n//-------------------------------------------------------------\nStep 8: Selection of Themes \n\n\n//-------------------------------------------------------------\nStep x: \n\n//-------------------------------------------------------------\nStep x: \n\n//-------------------------------------------------------------\nStep x: \n\n//=============================================================\nStage 2: Drag/Drop Operations\n//=============================================================\nStage 3: Interaction between Tree Nodes \nBookmark tree positions.\n//=============================================================\nStage 4: Pagination and Performance\nOnly rendering the visible part and performance tuning for large data sets.\n//=============================================================\nStage 5: Canvas Version with Zoom \n//=============================================================\n\n=============================', '2015-10-01 13:08:09'),
(192, '', '', '201601-02-03 Research Notes Javascript/css/html\n=============================================================\n* Javascript widget web site: A full categories of links to various widgets:\nCalenda, Menu, Navigation, Text Animation,document effects, tooltip, scrollers, etc.\nThis is a good place to get help to develop widgets. Self-boasted as #1.\nhttp://www.dynamicdrive.com/\n\n* Javascript widget web site: Actually very old, about 10 years. javscript supported menus.\nhttp://getelementbyid.com/news/index.aspx\n\n\n* javascript widget web site, many components are actually applications like DB Admin or File Explorer. \nhttp://dhtmlx.com/docs/products/docsExplorer/samples.shtml\n\n* Found a stunning collection of 22 css animation samples. Some of them is in 3D. \nEsp, there is a group of the animated buttons could be very useful. \nhttp://www.creativebloq.com/css3/animation-with-css3-712437\n\n* Code Project article about how to generate Bitmap using javascript. Bitmap File Format is detailed inside. \nhttp://www.codeproject.com/Articles/221941/HTMLImage-Generating-Dynamic-Image-using-Plain-Jav\n\n* web site for members to sell digital products, admin tools and \nwww.regnow.com and then redirect to \nhttps://www.mycommerce.com/sign-up.html\nhttps://admin.mycommerce.com/app/cp/login/affiliate\n\n* DynaTree or Fancy Tree: web site has only this tree control, which is quite big. \nhttp://wwwendt.de/tech/fancytree/demo/#sample-ext-childcounter.html\n=============================================================\nNon JQuery Javascript Tree View: (founf the next two sites from Google search).\n\n* http://www.treeview.net/ \nThe web site is very well-structured and should be a good sample for ours. A small company is selling a few software tools.\n\n* http://www.destroydrop.com/javascripts/tree/\nThis is a small java script tree view with a compact web page and download links.\n \n============================================================\nSVG: \n\n* Super good tutorial for SVG: well structured, lots of samples with image, and comprehensive:\nhttp://tutorials.jenkov.com/svg/mask.html\n\n* Tutorial about CSS and SVG Filters:\nhttp://www.creativebloq.com/netmag/how-go-beyond-basics-svg-filters-71412280\n\n** The above author has a tool in codepen, which is photoshop like UI (like Flex Style Explorer) to test the filters around texts:  \nhttp://codepen.io/mullany/pen/qOqxpG\n\n**  Similar tool for test shadow effects around Texts:\nhttp://codepen.io/mullany/pen/sJopz\n\n============================================================	\nCSS Layout Flexbox model\n* Complete and compact introduction: very good with illustrations\nhttps://css-tricks.com/snippets/css/a-guide-to-flexbox/\n*\n\n\n============================================================		\njavascript codes to create html elements. \n\n	document = window.document, // local variable is always faster to access then a global\n	_node = document.createElement(''LI''), _temp1, _temp2;\n	_node.setAttribute(''role'', ''treeitem'');\n	\n	_temp1 = document.createElement(''I'');\n	_temp1.className = ''jstree-icon jstree-ocl'';\n	_temp1.setAttribute(''role'', ''presentation'');\n	_node.appendChild(_temp1);\n	\n	_temp1 = document.createElement(''A'');\n	_temp1.className = ''jstree-anchor'';\n	_temp1.setAttribute(''href'',''#'');\n	_temp1.setAttribute(''tabindex'',''-1'');\n	\n	_temp2 = document.createElement(''I'');\n	_temp2.className = ''jstree-icon jstree-themeicon'';\n	_temp2.setAttribute(''role'', ''presentation'');\n	_temp1.appendChild(_temp2);\n	\n	_node.appendChild(_temp1);\n	_temp1 = _temp2 = null;\n\n\n    container = document.createElement(''div'');\n    container.style.left = "10px";\n    container.style.top = "10px";\n    container.style.width = "600px";\n    container.style.height = "300px";\n    container.id = "container";\n    document.body.appendChild(container);\n\n=============================================================\nTest em and createElement:\n\n<!DOCTYPE html>\n<html>\n<head>\n<style>\n#myDIV {\n    border: 1px solid black;\n    margin-bottom: 10px;\n}\n</style>\n</head>\n<body>\n\n<p>Click the button to create a P element with some text, and append it to DIV.</p>\n\n<div id="myDIV">\nYou cannot set inter-paragraph spacing in CSS using line-height, the spacing between blocks. That instead sets the intra-paragraph line spacing, the space between lines within a block. That is, line-height is the typographer''s inter-lin\n</div>\n\n<button onclick="myFunction()">Try it</button>\n\n<script>\nfunction myFunction() {\nvar dv = document.getElementById("myDIV");\n\n//Fixed height will not adjusted for the increasing member element heights\n//dv.style.height="100em"; \n\n// no setting width will mean to take full width of the parent for block element.\ndv.style.width="30em";\n\n//not needed for a block element like div.\n//dv.style.display="block";\n\n//not allowed n tests in Sea monkey\n//dv.style.line-height=2; \n\n    var para = document.createElement("P");\n    var t1 = document.createTextNode("M"); var b1=document.createElement("br");\n    var t2 = document.createTextNode("M"); var b2=document.createElement("br");\n    var t3 = document.createTextNode("M"); var b3=document.createElement("br");\n    var t4 = document.createTextNode("M"); var b4=document.createElement("br");\n    var t5 = document.createTextNode("M"); var b5=document.createElement("br");\n\n//Fixed height will not adjusted for the increasing member element heights\n//para.style.height="5em";\n\n\n\npara.style.border="red 1px solid";\n\n//not allowed n tests in Sea monkey\n//para.style.line-height=2;\n\npara.appendChild(t1);para.appendChild(b1);\npara.appendChild(t2);para.appendChild(b2);\npara.appendChild(t3);para.appendChild(b3);\npara.appendChild(t4);para.appendChild(b4);\npara.appendChild(t5);para.appendChild(b5);\ndocument.getElementById("myDIV").appendChild(para);\n\n// float elements will not expand the height of the parent element.\npara.style.float="left";\npara.style.width="3em";\n\n}\n</script>\n\n</body>\n</html>\n=============================================================\n\n<html>\n<body>\n\n<p id="demo"></p>\n\n<script>\nvar xhttp = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n  if (xhttp.readyState == 4 && xhttp.status == 200) {\n    myFunction(xhttp);\n  }\n};\n//xhttp.open("GET", "flexpage.xml", true);\nxhttp.open("GET", "ssrs_report.xml", true);\nxhttp.send();\n\nfunction myFunction(xml) {\n  var parser, xmlDoc;\n  parser = new DOMParser();\n  xmlDoc = parser.parseFromString(xml.responseText,"text/xml");\n  document.getElementById("demo").innerHTML =\n  myLoop(xmlDoc.documentElement);\n}\n\nfunction myLoop1(x) {\n  var i, y, xLen, txt;\n  txt = "";\n  x = x.childNodes;\n  xLen = x.length;\n  for (i = 0; i < xLen ;i++) {\n    y = x[i];\n    if (y.nodeType != 3) {\n      if (y.childNodes[0] != undefined) {\n        txt += myLoop(y);\n      }\n    } else {\n    txt += y.nodeValue + "<br>";\n    }\n  }\n  return txt; \n}\nvar lvl=0;\nfunction myLoop(xmlNode) {\n		if(!xmlNode) return "";\n		var children = xmlNode.childNodes;\n		if(!children ) return "";\n		\n		lvl++;\n		\n		var prefix="";\n		for(var i=0; i<lvl; i++)\n		{\n			prefix += "---";\n		}\n		var ret = prefix + xmlNode.nodeName + ": ";\n		\n		\n		//for(var i=0; i<children.length; i++){\n		//	var childNode = children[i];\n		//	if(childNode.nodeType!=2) continue;\n		//	if(attrs.length>0) attrs += " ";\n		//	attrs += childNode.nodeName + ": " + childNode.nodeValue;\n		//}\n		\n		if(xmlNode.attributes && xmlNode.attributes.length){\n			var attrs = "";\n			for(var i=0; i<xmlNode.attributes.length; i++){\n				var attr = xmlNode.attributes[i];	\n				if(attrs.length>0) attrs += " ";\n				attrs += attr.nodeName + "=" + attr.nodeValue;\n			}\n			if(attrs.length>0)\n				ret += "{" + attrs + "}&nbsp;&nbsp;&nbsp;";\n		}\n		\n		//var txt = xmlNode.nodeValue; //Element node cannot use nodeValue to return its text node.\n		\n		var txt="";		\n		for(i=0; i<children.length; i++){\n			var childNode = children[i];\n			if(childNode.nodeType!=3) continue;\n			if(txt.length>0) txt += ",";\n			txt += childNode.nodeValue;\n		}\n		if(txt && txt.length>0)\n			ret += "[" + txt + "]<br\\>";\n		\n		for(i=0; i<children.length; i++){\n			childNode = children[i];\n			if(childNode.nodeType==1 || childNode.nodeType==3) continue;			\n			ret += "[*(type,name,value)=" + childNode.nodeType + ", " + childNode.nodeName + ", " + childNode.nodeValue + "*]<br\\>";\n		}\n		\n		for(i=0; i<children.length; i++){\n			childNode = children[i];\n			if(childNode.nodeType!=1) continue;\n			ret += myLoop(childNode);\n		}\n		\n		lvl--;\n		return ret;\n		\n	} //end of function\n\n\n\n\nprivate function addMonthsToMonthEndDate(monthEnd:Date,m:int):Date\n			{\n				var yr:int=monthEnd.fullYear;\n				var mth:int=monthEnd.month;					\n				var mCnt:int = m % 12;\n				yr += Math.floor(m / 12);\n				if(m<0) yr++;\n				var nuMonthEnd:Date;\n				var nuMonth:int=mth + mCnt;\n				\n				if( nuMonth >11)\n					nuMonthEnd = getMonthEndDate(yr+1,nuMonth - 12);\n				else if( nuMonth>=0 && nuMonth <=11 )\n					nuMonthEnd = getMonthEndDate(yr,nuMonth);\n				else if( nuMonth<0 )\n					nuMonthEnd = getMonthEndDate(yr-1,nuMonth+12);\n				\n				return nuMonthEnd;\n			}	\n			\n			private function getMonthEndDate(year:int,month:int):Date\n			{	//0 for January, 1 for February, and so on\n				if(month>=11) \n					return new Date(year,11,31);\n				else\n					return new Date(year,month+1,0);				\n			}		\n			\n			private function getLastSundayDate(dt:Date):Date\n			{	//0 for January, 1 for February, and so on\n				return DateUtils.addDays(dt,-dt.day);				\n			}			\n\n\n\n\n\n</script>\n\n</body>\n</html>', '2015-10-31 22:00:50'),
(193, '', '', '201511-12 Daily Notes M2A Development\nM2A Development Stage Plan\nStage 1: Rendering a Tree view with default theme. Worked in e:/m2a/m2atree/dev01. FINISHED in last month.\nStage 2: Build initial version of the product with all the components: \nM2AData/View/Model/Event/Render/Item. Started in e:/m2a/m2atree/dev01/.\n======================================\n20151101:  \n\n* M2ATreeModel:\n\n** M2ATreeItem\n** M2ATreeItemIDGenerator  \n** Extractors: Extract attributes from source object \n** Build tree item from source object\n** Operations to change the tree item model\n\n* M2ATreeView:\n\n** M2AViewOptions\n** ID generator for html elements: Mapping TreeItem with html elements.\n** Renderer Tree\n** ItemContainer[ItemRow[IndenArea + ParentingColumn + DataArea ] + ChildrenContainer: children''s item container.]\n** Tree Item Operations\n** Tree Item Renderers\n\n* M2ATreeEvent\n\n\n\n======================================\n20151109\n* dev01 = e:/m2a/m2atree/dev01: \n** Achieved tree is rendered with different row height and support Add/Remove/Move-up/Move-down\n** Modal dialog test page.\n** Methods to get rectangle of any element and size of the view rectangle\n** Pop-up a dialog by any element on the page \n\n* dev02 = e:/m2a/m2atree/dev02:\n** Restructured to build a tree from an object model.\n** Expand all and collapse all methods.     \n\n20151109-13:\n* Busy with making SSRS reports for two weeks for Revenue Portal Reporting Module\n* No thinking or progress in this project.  \n\n20151114:\n* dev02 = e:/m2a/m2atree/dev02:\n** Got a good idea to bring out item editor directly under the Data Area of the tree item and \nthis is more predictable then pop-ups.\n** Implemented the Item Editor this way and worked fine now.\n======================================\n20151127: Summary of Thinking for Structure\n		\n		M2ATreeModel_TreeItemIdGenerator: generate tree item id from source data object and map between tree item and source data object.   		\n		M2ATreeModel_PropertyExtractor: extract basic properties[name, description, dataType, children] from source data object. \n		M2ATreeModel_TreeItemOperator: Object holding all the methods for tree item operation\n		\n		M2ATreeModel: \n		treeItemIdGenerator, propertyExtractor, treeItemOperator,\n		rootTreeItem,  \n		dataTypeList -dataTypeDefinition\n		viewStateList - viewStateDefinition\n	\n		M2ATreeView_ThemeSetting\n		M2ATreeView_ViewSetting\n		M2ATreeView_EnumElementType {TreeItemContainer,TreeItemRow,ChilderContainer,IndentArea, ParentingColumn, DataArea, DataAreaPart}\n		M2ATreeView_ElementIdGenerator: instance name will prefix all the ids.\n	\n		M2ATreeView_ViewRendererManager: renderer is a function to build inner html for data area or data area part.\n		M2ATreeView_ViewEventManager: find event handlers from data area or data area part.		 \n		M2ATreeView_ViewOperator: collection of function to change the view		\n		\n		M2ATreeView\n		instanceName: \n		treeModel\n		viewSetting\n		elementIdGenerator\n		eventManager\n		rendererManager\n		viewOperator\n		\n		Init Rendering Process:\n		\n		- Build M2ATreeView instance: constructor will onfigure it with the default components.\n		- Custom Configure it with custom components.\n		- Registering renderer for data type and their view state.\n		- Fetch the root source data object.\n		- M2AModel build the tree item model under the root tree item.\n		- From view setting, draw root item or not, \n		- From viewSetting, expand the level 1 children or not.		\n		- render from the root item.\n		\n		Adding Operation Process in Developement Stage:\n		- Add new view state for data type, if needed.\n		- Code renderer functions based on html template {TREE_INSTANCE_NAME} will be prefix to eventManager.eventHandlerName(event).  \n		- Call event handlers inside the renderers: treeInstnaceName.eventManager.eventHandlerName = function(event){ from event, tree item id can be found.}\n		- In event handler functions, call view opertion functions or create new view operations\n		- In view operations, call tree item operations in M2ATreeModel.\n		- Register new or enhanced renderer to the tree view.\n\n======================================\n20151115-28:\n* dev03A/B/C: Implemented the new structure and recovered the rendering process to draw the tree properly for scenarios:\nexpand all/collapse all, draw root/not draw root, draw lines/ nor draw lines. Initial rendering process is OK now.\n  \n* Introduced data type from source object to tree items and registered the methods and size for the item renders. Different renderings and sizes have come out basically OK.   \n\n======================================\n20151202-04\n* Make the item render functions to take this = the tree view.\n* Make custom event handlers to be functions taking this = the tree view as well. \n* Introduced braced Id and listener to be converted when the tree view calling them.\nThat is, the itemRender functions can return html containing braced Id and listeners like:\n="{abc}" and ="{obj.listener(event)"}. They will be converted after item render function is called in buildDataArea method.\n* ItemEditor was shown and worked to add new child properly as the above design. in dev03I.\n======================================\n20151212:\n* Preventing multiple item editors by checking the selected item''s view state, if it is not default, reset it to be default.\n* set focus to the item editor''s text input directly using element.focus().\n\n======================================\n\n\n\n\n  \n\n', '2015-10-31 22:01:27'),
(194, '', '', 'html5 Drag/drop: TTN Implementation and Tutorial \n======================================================\nTTN Tag Item Operation Buttons: Drag/Drop implementation:\n\n\nthis.btnTagEdit_dragover_handler = function(ev) {\n        if (ev.preventDefault) {\n          ev.preventDefault(); // Necessary. Allows us to drop.\n        }\n        ev.dataTransfer.dropEffect = ''move'';  // See the section on the DataTransfer object.  \n        return false; //Not necessary but help sometimes.\n    };\n	\n    this.btnTagDelete_dragover_handler = function(ev) {\n        if (ev.preventDefault) {\n          ev.preventDefault(); // Necessary. Allows us to drop.\n        }\n        ev.dataTransfer.dropEffect = ''move'';  // See the section on the DataTransfer object.  \n        return false; //Not necessary but help sometimes.\n    };	\n    \n    this.btnTagEdit_drop_handler = function(ev) {\n        ev.preventDefault(); //default behaviour could be open a link to another location.\n        ev.stopImmediatePropagation(); //This will stop the ev object to pass to the parent container. \n        var draggedTagID = ev.dataTransfer.getData("tag_id");\n        \n        //var draggedTagItem=TagItemLibrary.getTagItemById(draggedTagID);        \n		//this.tagItemEditorViewBuilder.renderData(draggedTagItem);		\n		//this.tagItemEditorViewBuilder.show();\n        //Commander.exec(MSG.V_EditTag_TagId,draggedTagID);\n		Commander.exec(MSG.V_EditTag_TagId,draggedTagID);\n		\n    };\n	\n    this.btnTagDelete_drop_handler = function(ev) {\n		ev.preventDefault(); //default behaviour could be open a link to another location.\n        ev.stopImmediatePropagation(); //This will stop the ev object to pass to the parent container. \n		var draggedTagId = ev.dataTransfer.getData("tag_id");\n		\n		/*\n        var draggedTagItem=TagItemLibrary.getTagItemById(draggedTagId);						\n		var answer = confirm("Are you sure to delete tag " + draggedTagItem.text + "?" ) \n		//? Found no way to specify Title for the confirm dialog.\n		if (answer){\n			TagItemLibrary.deleteTagItem(draggedTagItem);\n			this.render();\n		}\n		else{\n            this.tagItemEditorViewBuilder.hide();			\n		}\n		*/\n		\n		//Commander.exec(MSG.V_DeleteTag_TagId,draggedTagId);\n		Commander.exec(MSG.V_DeleteTag_TagId,draggedTagId);\n    };\n\n\n\n\n======================================================\nTTN Tag Item List Drag/Drop implementation:\n\nondragover=''{INSTANCE_NAME}.tagListView_dragover_handler(event)'' \nondrop=''{INSTANCE_NAME}.tagListView_drop_handler(event)'' \n	this.tagListView_dragover_handler = function (ev) {\n        if (ev.preventDefault) {\n            ev.preventDefault(); // Necessary. Allows us to drop.\n        }\n        ev.dataTransfer.dropEffect = ''move'';  // See the section on the DataTransfer object.  \n        return false; //Not necessary but help sometimes.\n    };\n	\n	this.tagListView_drop_handler = function(ev) {\n        ev.preventDefault(); //default behaviour could be open a link to another location.\n        ev.stopImmediatePropagation(); //This will stop the ev object to pass to the parent container. \n        var draggedTagID = ev.dataTransfer.getData("tag_id");        \n        //var draggedTagItem=TagItemLibrary.getTagItemById(draggedTagID);        \n		//this.tagItemEditorViewBuilder.renderData(draggedTagItem);		\n		//this.tagItemEditorViewBuilder.show();\n        //Commander.exec(MSG.V_MoveTag_TagId_BeforeTagId,draggedTagID,-1);\n		Commander.exec(MSG.V_MoveTag_TagId_BeforeTagId,draggedTagID,-1);\n		\n    };\n======================================================\nTTN Tag Item Drag/Drop implementation: \n\n     "ondragstart=''{INSTANCE_NAME}.dragstart_handler(event)'' " +\n     "ondrop=''{INSTANCE_NAME}.drop_handler_TagItem(event)''  " +\n     "ondragover=''{INSTANCE_NAME}.dragover_handler(event)''>{TAG_TEXT}" +\n		\n	<div id="tagItem354" tagid="354" draggable="true" class="class_note_tag_item" \n	style="float:left;border: grey solid 1px;border-radius:5px;padding:5px; background:#FFFFCC;" title="Infopath package" \n	ondragstart="tagLibraryViewBuilder.tagListViewBuilder.tagItemViewBuilder.dragstart_handler(event)" \n	ondrop="tagLibraryViewBuilder.tagListViewBuilder.tagItemViewBuilder.drop_handler_TagItem(event)" \n	ondragover="tagLibraryViewBuilder.tagListViewBuilder.tagItemViewBuilder.dragover_handler(event)">infopath</div>\n		\n    // Event Listeners.\n    this.dragover_handler = function (ev) {\n        if (ev.preventDefault) {\n            ev.preventDefault(); // Necessary. Allows us to drop.\n        }\n        ev.dataTransfer.dropEffect = ''move'';  // See the section on the DataTransfer object.  \n        return false; //Not necessary but help sometimes.\n    };\n\n    this.dragstart_handler = function (ev) {\n        var draggedElement = ev.target;\n        if (!draggedElement) return;\n        var draggedTagId = this.getDataId(draggedElement.id);\n        if (draggedTagId < 1) return;\n        ev.dataTransfer.setData("tag_id", draggedTagId);\n    };\n\n    this.drop_handler_TagItem = function (ev) {\n        ev.preventDefault(); //default behaviour could be open a link to another location.\n        ev.stopImmediatePropagation(); //This will stop the ev object to pass to the parent container. \n        var draggedTagId = parseInt(ev.dataTransfer.getData("tag_id"));\n        var dropAtElement = ev.target;\n        var dropAtTagId = this.getDataId(dropAtElement.id);   //dropAtElement.getAttribute(''tagid'');\n        \n        //TagItemLibrary.inserTagIdBeforeTagId(draggedTagId, dropAtTagId);\n        Commander.exec(MSG.V_MoveTag_TagId_BeforeTagId,draggedTagId,dropAtTagId);      \n    };\n\n======================================================\n1> Determine if a browser implements DnD, always use feature detection rather than sniffing the browser''s User-Agent. \nBetter libraries for feature detection is Modernizr. Modernizr sets a boolean property for each feature it tests. Thus, checking for DnD is a one-liner:\nif (Modernizr.draganddrop) {\n  // Browser supports HTML5 DnD.\n} else {\n  // Fallback to a library solution.\n}\n\n2> Creating draggable content\nSet the draggable=true; Just about anything can be drag-enabled, including images, links, files, or other DOM nodes.\nNote: in most browsers, text selections, img elements, and anchor elements with an href attribute are draggable by default. \nMost browsers support dragging an image by default, which can be dropped in the address bar, a <input type="file" /> element, or even the desktop. \n\n3> CSS Sample for visual indicator of movable elements:  \n\n<style>\n/* Prevent the text contents of draggable elements from being selectable. */\n[draggable] {\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n  /* Required to make elements draggable in old WebKit */\n  -khtml-user-drag: element;\n  -webkit-user-drag: element;\n}\n.column {\n  height: 150px;\n  width: 150px;\n  float: left;\n  border: 2px solid #666666;\n  background-color: #ccc;\n  margin-right: 5px;\n  -webkit-border-radius: 10px;\n  -ms-border-radius: 10px;\n  -moz-border-radius: 10px;\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 3px #000;\n  -ms-box-shadow: inset 0 0 3px #000;\n  box-shadow: inset 0 0 3px #000;\n  text-align: center;\n  cursor: move;\n}\n.column header {\n  color: #fff;\n  text-shadow: #000 0 1px;\n  box-shadow: 5px;\n  padding: 5px;\n  background: -moz-linear-gradient(left center, rgb(0,0,0), rgb(79,79,79), rgb(21,21,21));\n  background: -webkit-gradient(linear, left top, right top,\n                               color-stop(0, rgb(0,0,0)),\n                               color-stop(0.50, rgb(79,79,79)),\n                               color-stop(1, rgb(21,21,21)));\n  background: -webkit-linear-gradient(left center, rgb(0,0,0), rgb(79,79,79), rgb(21,21,21));\n  background: -ms-linear-gradient(left center, rgb(0,0,0), rgb(79,79,79), rgb(21,21,21));\n  border-bottom: 1px solid #ddd;\n  -webkit-border-top-left-radius: 10px;\n  -moz-border-radius-topleft: 10px;\n  -ms-border-radius-topleft: 10px;\n  border-top-left-radius: 10px;\n  -webkit-border-top-right-radius: 10px;\n  -ms-border-top-right-radius: 10px;\n  -moz-border-radius-topright: 10px;\n  border-top-right-radius: 10px;\n}\n</style>\n\n4> Listening for Dragging Events\ndragstart\ndrag\ndragenter\ndragleave\ndragover\ndrop\ndragend\n\nTo handle the DnD flow, we need the notion of \n- a source element (where the drag originates), can be an image, list, link, file object, block of HTML\n- the data payload (what we''re trying to drop), and \n- a target (an area to catch the drop). The drop zone (or set of drop zones) that accepts the data the user is trying to drop. Keep in mind that not all elements can be targets (e.g. images).\n\n4.1>. Starting a Drag\nfunction handleDragStart(e) {\n  this.style.opacity = ''0.4'';  // this / e.target is the source node.\n}\nvar cols = document.querySelectorAll(''#columns .column'');\n[].forEach.call(cols, function(col) {\n  col.addEventListener(''dragstart'', handleDragStart, false);\n});\n\n4.2. dragenter, dragover, and dragleave\ndragenter, dragover, and dragleave event handlers can be used to provide additional visual cues during the drag process. \nFor example, when a column is hovered over during a drag, its border could become dashed. This will let users know the columns are also drop targets.\n\n<style>\n.column.over {\n  border: 2px dashed #000;\n}\n</style>\n\nfunction handleDragStart(e) {\n  this.style.opacity = ''0.4'';  // this / e.target is the source node.\n}\n\nfunction handleDragOver(e) {\n  if (e.preventDefault) {\n    e.preventDefault(); // Necessary. Allows us to drop.\n  }\n\n  e.dataTransfer.dropEffect = ''move'';  // See the section on the DataTransfer object.\n\n  return false;\n}\n\nfunction handleDragEnter(e) {\n  // this / e.target is the current hover target.\n  this.classList.add(''over'');\n}\n\nfunction handleDragLeave(e) {\n  this.classList.remove(''over'');  // this / e.target is previous target element.\n}\n\nvar cols = document.querySelectorAll(''#columns .column'');\n[].forEach.call(cols, function(col) {\n  col.addEventListener(''dragstart'', handleDragStart, false);\n  col.addEventListener(''dragenter'', handleDragEnter, false);\n  col.addEventListener(''dragover'', handleDragOver, false);\n  col.addEventListener(''dragleave'', handleDragLeave, false);\n});\n\nThere are a couple of points worth covering in this code:\n- The this/e.target changes for each type of event, depending on where we are in the DnD event model.\n- In the case of dragging something like a link, we need to prevent the browser''s default behavior, which is to navigate to that link. \nTo do this, call e.preventDefault() in the dragover event. \n- Another good practice is to return false in that same handler. Browsers are somewhat inconsistent about needing these, but they don''t hurt to add.\n- dragenter/drarleave is used to add/remove ''over'' class instead of the dragover, which will happen many times. \n\n4.3 > Completing a Drag\n- Add an event listener for the drop and dragend events. \n- Need to prevent the browser''s default behavior for drops, which is typically some sort of annoying redirect. \n- Can prevent the event from bubbling up the DOM by calling e.stopPropagation().\n- Immediate improvement is to use dragend to remove the ''over'' class. \n\nfunction handleDrop(e) {\n  // this / e.target is current target element.\n\n  if (e.stopPropagation) {\n    e.stopPropagation(); // stops the browser from redirecting.\n  }\n\n  // See the section on the DataTransfer object.\n\n  return false;\n}\n\nfunction handleDragEnd(e) {\n  // this/e.target is the source node.\n\n  [].forEach.call(cols, function (col) {\n    col.classList.remove(''over'');\n  });\n}\n\nvar cols = document.querySelectorAll(''#columns .column'');\n[].forEach.call(cols, function(col) {\n  col.addEventListener(''dragstart'', handleDragStart, false);\n  col.addEventListener(''dragenter'', handleDragEnter, false)\n  col.addEventListener(''dragover'', handleDragOver, false);\n  col.addEventListener(''dragleave'', handleDragLeave, false);\n  col.addEventListener(''drop'', handleDrop, false);\n  col.addEventListener(''dragend'', handleDragEnd, false);\n});\n\n5> The DataTransfer object\ndataTransfer is set in the dragstart event and read/handled in the drop event. \nCalling e.dataTransfer.setData(format, data) will set the object''s content to the mimetype and data payload passed as arguments.\n\nvar dragSrcEl = null;\n\nfunction handleDragStart(e) {\n  // Target (this) element is the source node.\n  this.style.opacity = ''0.4'';\n\n  dragSrcEl = this;\n\n  e.dataTransfer.effectAllowed = ''move'';\n  e.dataTransfer.setData(''text/html'', this.innerHTML);\n}\n\nConveniently, dataTransfer also has a getData(format) for fetching the drag data by mimetype. \n\nfunction handleDrop(e) {\n  // this/e.target is current target element.\n\n  if (e.stopPropagation) {\n    e.stopPropagation(); // Stops some browsers from redirecting.\n  }\n\n  // Don''t do anything if dropping the same column we''re dragging.\n  if (dragSrcEl != this) { //Global variable to denote teh soruce element starting the drag/drop.\n    // Set the source column''s HTML to the HTML of the column we dropped on.\n    dragSrcEl.innerHTML = this.innerHTML;\n    this.innerHTML = e.dataTransfer.getData(''text/html'');\n  }\n  return false;\n}\n\n6> Dragging properties\n\nThe dataTransfer object exposes properties to provide visual feedback to the user during the drag process. \nThese properties can also be used to control how each drop target responds to a particular data type.\n\n6.1> dataTransfer.effectAllowed\nRestricts what ''type of drag'' the user can perform on the element. \nIt is used in the drag-and-drop processing model to initialize the dropEffect during the dragenter and dragover events. \nThe property can be set to the following values: none, copy, copyLink, copyMove, link, linkMove, move, all, and uninitialized.\n6.2> dataTransfer.dropEffect\nControls the feedback that the user is given during the dragenter and dragover events. \nWhen the user hovers over a target element, the browser''s cursor will indicate what type of operation is going to take place (e.g. a copy, a move, etc.). \nThe effect can take on one of the following values: none, copy, link, move.\n\n6.3> e.dataTransfer.setDragImage(imgElement, x, y)\nInstead of using the browser''s default ''ghost image'' feedback, you can optionally set a drag icon\nvar dragIcon = document.createElement(''img'');\ndragIcon.src = ''logo.png'';\ndragIcon.width = 100;\ne.dataTransfer.setDragImage(dragIcon, -10, -10);\n\n7> Dragging Files\nPossible to drag files from the desktop to your web app in the browser window. \nAs an extension to this idea, Google Chrome supports the ability to drag file objects out from the browser to the desktop.\n\n7.1> Drag-in: dragging from the desktop to the browser\nDragging a file from the desktop is achieved by using the DnD events as other types of content. \nThe main difference is in your drop handler. Instead of using dataTransfer.getData() to access the files, their data will be contained in the dataTransfer.files property:\n\nfunction handleDrop(e) {\n  e.stopPropagation(); // Stops some browsers from redirecting.\n  e.preventDefault();\n\n  var files = e.dataTransfer.files;\n  for (var i = 0, f; f = files[i]; i++) {\n    // Read the File objects in this FileList.\n  }\n}\nFor a complete guide to dragging files from desktop to the browser, see Using drag and drop for selecting in Reading local files in JavaScript.\n\n7.2> Drag-out: dragging from the browser to the desktop\nFor a complete guide to dragging files from the browser to the desktop, see Drag out files like Gmail from the CSS Ninja.\n', '2015-12-07 03:40:27'),
(195, '', '', 'Node.js and other javascript libraries\n\n* https://stormpath.com/blog/build-nodejs-express-stormpath-app/ for user management, using node/js and express.\n* http://amirrajan.net/nodejs-by-example/ a series of full useful application samples.\n\n\n\n\n', '2016-01-21 22:02:43');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(196, '', '', '201601-02-03  Daily Notes - M2ATree Development \n================================================================\n* 20160127-28: Drag/drop tree item to move an item as a child item of the drop-at item. dev03K.zip.\nParent and ancestor items cannot be dragged into sub items. It moves the dragged item, not copying it.\n\n* 20160203:\nFor test the html skills and build-up of stationaries, Registered in http://codepen.io/rfwl: refeng@ymail.com/Raaabbbyy.\n\n* 20160203:\n** On Dreamweaver: build working site and remote server site for m2atree project.\ne:/m2a/m2atree > \n** Connection to FTP server OK in dreamweaver, but not in FileZilla. \nserver=ftp.caringsoftware.com/user=dev.ftp.caringsoftware.com|admin/pswd=Taaayy%Mayy.\n\n* 20160212:\n* Levels of the M2A Trees generated from proposed web tool:\n** Static Display: totally open. \n** Closable Tree Items based on Data type\n** Only one open child at any time\n** Clickable/double clickable\n** Context menu items based on data type.\n** self-growing tree.\n** In-Place Item editors\n** Drag/Drop to outside: Copy or move away.\n** Drag/Drop to move/copy tree items.\nDrop to add child item to first or last position.\nDrop to insert before or after.\n\n** Tree plus List\n** Tree from List\n** Tree to Tree\n \n* 20160226\n** Developed a method to scan xml document in details to write the result into formatted html text stream.\n* \n\n* 20160229\n** Build the tree item model over the xml document scan process.\n** Check if a element is simple, no attributes, no child element and only one text child node.\n** Change simple xml element into an attribute (name and value pair).\n\n* 20160303\n* github.com account: rfwl/rfeng@ymail.com/Raaawwwyy: repo: test. \nStudied git commands  and used them a lot to transfer files between local PC to github repo.\n* wordpress.com account: m2atree/rfeng@ymail.com/Raaawwwyy.\n\n* 20160304-09\nHave built a new server using godaddy''s cloud tiny ubuntu server\nName: csserver003, IP: 192.169.171.133\nGoDaddy account: 42165989/mayytaaayy.\nUsers: admin001/Mayy&Taaayy, admin002/Mayy&Taaayy2, root/iiiyymd(created by admin001, and cannot be used in ftp.\ncsserver002:192.169.244.137: admin/Mayy%Taaayy. to be destroyed soon.\n\n** installed putty SSH to communicate with the server and it is easy to set up. \n\n** installed ftp server: vsftpd and configuring it from read only to allow filezilla to write into user''s home directory. Heaps of changing in ftp config file vsftpd.conf.\n\n** installed LinuxApacheMySqlPhp plus phpmyadmin stack very quickly\nphpmyadmin and mysql root user: root/tttyymmdd.\n\n** installed webmin for managing the server using GUI. \nStarted from url: https://192.169.171.133:10000. \nFile manager is in Others menu section.\n\n** Use linux command mount --bind olddir newdir to allow to write into /var/www/html/. \nThis step is very imporatant to allow ftp client to work with the server.\n\n\n* 20160310\n\n** Succeeded in installing ttn project on to the new server csserver003: /var/www/html/ttn/dev10.     \nCopied the all the files over\nChanged the name caringsoftware into relative address( relative to index.html page containing the js file.\nFixed a bug using note, not Note for the table name.\nExport ttn database from old phpmyadmin: caringsoftware.com/pma into a sql file\nCreate the new database ttn on the new server using new phpmyadmin.\nData was loaded from the file into the new DB ttn.\nSet file/directories permissions to 777 and then web site can run in the browsers.\n\n** Installed m2atree/dev10/ and set permissions to 777. The tree view worked now. \n\n* 20160311\n** Studied the web for right permission for a web site under apache. The owner should be \nwww-data:www-data and so minimal permission is 7xx. The www-data:www-data is the user that apache is taking. \n\n* 20160312\n192.169.171.133/ce/home/index.php.  Made color evolver workable on csserver003.\nUploaded color evolver project to the cssrver003 and created DB dbpp02 using creating table sql.\nRecover the Guest gallery and also created ceuser001 with one image file in its gallery.\n192.169.171.133/ce/admin url to admin interface with admin1/2/3(yhqaz/ehwsx/shedc)\nDeleted unwanted galleries from 2-100.\nPlayed with newly uploaded image and worked OK totally.\n\n* 20160313\n** Turned the caringsoftware domain to the 192.169.171.133.\n** Found the domain having been pointed to the new server csserver003.\n** Added wnb and wnb2007 to the new server in /var/www/html/wnb ... wnb2007.\n\n							\n================================================================\n* 20160314\nInstalled WordPress on csserver003. Still use the root/iiiyymmdd password for the mysql database.\nCreated first wordpress user: wpuser001/iiiyymmdd.\n\n# https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-on-ubuntu-14-04\nStep One - Prepare MySQL Database\n# log into the mysql monitor using root (administrative) account:\nmysql -u root -p\n# Create database: \nCREATE DATABASE wordpress;\nCREATE USER root@localhost IDENTIFIED BY ''fjx010516'';\nGRANT ALL PRIVILEGES ON wordpress.* TO root@localhost;\n# Flush the privileges so MySQL knows about the recent privilege changes:\nFLUSH PRIVILEGES;\nexit\n\nStep Two â€” Download WordPress\n# download a compressed file that contains the archived directory contents of the WordPress files to our home directory.\ncd ~\nwget http://wordpress.org/latest.tar.gz\n# Extract the files to create a directory called wordpress in home directory\ntar xzvf latest.tar.gz\n#  While downloading, a few more packages has been got and will be put in default repositories after we update our local package index:\nsudo apt-get update\n\n# For installing plugins and updating portions of the site using the SSH login credentials:\nsudo apt-get install php5-gd libssh2-php\n\n\nStep Three â€” Configure WordPress - initial ones from command line:\ncd ~/wordpress\n# Copy default configuration file location to get WordPress to recognize the file \ncp wp-config-sample.php wp-config.php\nnano wp-config.php\n# Only need to change DB_NAME, DB_USER, and DB_PASSWORD \n// ** MySQL settings - You can get this info from your web host ** //\n/** The name of the database for WordPress */\ndefine(''DB_NAME'', ''wordpress'');\n\n/** MySQL database username */\ndefine(''DB_USER'', ''wordpressuser'');\n\n/** MySQL database password */\ndefine(''DB_PASSWORD'', ''password'');\n		\nStep Four â€” Copy Files to the Document Root\n# Copy wordpress files into Apache document root with the rsync command. This preserves permissions and has good data integrity features.\n# This will safely copy all of the contents from the directory you unpacked to the document root.\nsudo rsync -avP ~/wordpress/ /var/www/html/wp \n\ncd /var/www/html/wp\nsudo chown -R demo:www-data *\n\n# Assign correct ownership on our uploads directory. \nmkdir /var/www/html/wp/wp-content/uploads\n# Allow the web server to write to this directory by assigning group ownership of this directory to our web server:\nsudo chown -R :www-data /var/www/html/wp/wp-content/uploads\n		\nStep Five â€” Complete Installation through the Web Interface\nuser/pswd: wpuser001/iiiyymmdd.		\n---------------------------------------------------------------\nStep Six (Optional) â€” Configure Pretty Permalinks for WordPress (For future use)\n\nModifying Apache to Allow URL Rewrites\n1> Allow for .htaccess overrides \n1.1> Editing the Apache virtual host file, by default, 000-default.conf.\nsudo nano /etc/apache2/sites-available/000-default.conf\nSet the ServerName and create a directory section where we allow overrides. \n		<VirtualHost *:80>\n			ServerAdmin webmaster@localhost\n			DocumentRoot /var/www/html\n			ServerName server_domain_name_or_IP\n			<Directory /var/www/html/>\n				AllowOverride All\n			</Directory>\n1.2> Enable the rewrite module, to allow to modify URLs. \nsudo a2enmod rewrite\nsudo service apache2 restart #	Now that Apache is configured to allow rewrites through .htaccess files\n1.3> Create an .htaccess File\ntouch /var/www/html/.htaccess							\n\n2> Owner or permission:\n# If choosing group owner:\nsudo chown :www-data /var/www/html/.htaccess\n											\n# If you want WordPress to automatically update this file with rewrite rules, 					\nchmod 664 /var/www/html/.htaccess\n\n# If you want to update this file manually for the sake of a small security gain, 							\nchmod 644 /var/www/html/.htaccess\n							\n3> Adjust the permalink settings through the WordPress administration interface:									\nYou can choose any of the pre-configured settings to organize URLs, or you can create your own.\n						\n					\n================================================================\n* 20160315-18\n** Installed git on csserver003 and tested to push from the local PC.\nhttps://help.ubuntu.com/lts/serverguide/git.html\n\n# On server\n$ sudo apt-get install git\n$ git config --global user.email "you@example.com"\n$ git config --global user.name "Your Name"\ngit init --bare /path/to/repository\n\n# On local PCs\ngit clone username@hostname:/path/to/repository\ncd /path/to/repository\n#edit some files\ngit commit -a # Commit all changes to the local version of the repository\ngit push origin master # Push changes to the server''s version of the repository\n\n# Installing a gitolite server, ignore this step now since we have no multiple users.\n\n** Built git repo on the server and local repo on job and home PCs and tested commands: \ngit init, clone, pull, remote -v, remote add -a, push etc.\n\n** If remote repo is not clean, pull from local will be rejected. Otherwise, pull command will be executed without errors.  \nBut there is no real changes made on the remote repo. \nOn the server side, found the changes from local PCs were automatically deleted on the server side.  \nThe issue could not be solved in three days. I''ve decided to get around the issue.  \n\n================================================================\n* 20160320: \n----------------------------------------------------------------\n** Search "git on server deleted changes pushed from local" and found:\nGIT: after push, remote repo shows files as deleted \nhttp://stackoverflow.com/questions/3761684/git-after-push-remote-repo-shows-files-as-deleted\n\nCAUSE: The issue is pushing from local repo was rejected into the current branch in the remote repo, which has a working directory.\n\nThe warnings were:\nwarning: updating the current branch\nwarning: Updating the currently checked out branch may cause confusion,\nwarning: as the index and work tree do not reflect changes that are in HEAD.\nwarning: As a result, you may see the changes you just pushed into it\nwarning: reverted when you run ''git diff'' over there, and you may want\nwarning: to run ''git reset --hard'' before starting to work to recover.\nwarning: \nwarning: You can set ''receive.denyCurrentBranch'' configuration variable to\nwarning: ''refuse'' in the remote repository to forbid pushing into its\nwarning: current branch.\nwarning: To allow pushing into the current branch, you can set it to ''ignore'';\nwarning: but this is not recommended unless you arranged to update its work\nwarning: tree to match what you pushed in some other way.\nwarning: \nwarning: To squelch this message, you can set it to ''warn''.\n\n** Solution: Create a bare git repo on the server using git init --bare. \n----------------------------------------------------------------\n** Reorganize directory by renaming /home/admin001/dev into /home/admin001/html.\n$mv <Old_directory_Name> <New_Directory_Name>\nThe request was rejected since resource is busy, guess it has been bound to /var/www/html folder.\n----------------------------------------------------------------\n** How to undo ''mount --bind olddir newdir''?\n$mount -help\n$mount # show info abount mount everywhere.\nFound duplicates:\n/var/www/html on /home/admin001/dev type none (rw,bind)\n/var/www/html on /home/admin001/dev type none (rw,bind)\n\n$ sudo umount /home/admin001/dev failed with \numount: it seems /home/admin001/dev is mounted multiple times\n\n# Use force to do it:\n$ sudo umount /home/admin001/dev -f\n# Do it again:\n$ sudo umount /home/admin001/dev -f\n\n$ mount show no mount --bind on that folder.\n----------------------------------------------------------------\n** Create local html folder:\nmv /home/admin001/dev /home/admin001/html # worked and html directory was created now.\n\n# bind the two html folders together\nsudo mount --bind /var/www/html /home/admin001/html \n$mount # Found the binding /var/www/html on /home/admin001/html type none (rw,bind)\n# From ftp client found all the files in /var/www/html are  inthe /home/admin001/html \nbut on ssh client putty window: ls -al shows only a few old files. \nClose and restart putty window and ls -al command shows all the files from /var/www/html.\n================================================================\n20160321:\n* Create bare repo on the server at /var/www/html/dev/m2atree\ngit init --bare # Turn this folder to be a git repository and made to be like a .git folder, no .git folder as a sub folder.\ngit clone admin001@caringsoftware.com:/home/admin001/html/dev/m2atree # clone the remote repo into this folder and this folder is parent folder, not need to a .git repo by itself.\n\n** After git clone, a remote repository called ''origin'' is automatically created  and \ngit remote -v will not show it out immediately but in the next run of gitbash, it will come out.  		\n**  After pushing into a bare remote repo, you cannot see commited files on remote server. They are inside sub directories used by git.\n**  Bare git repository cannot support many git commnads as a work tree inside a git repository could do: git status, git commit, ....\n\n* tested with git branch commands.\n================================================================\n20160322: Build local repository to work with git bare repository on csserver003.\n* Created local working site: E://dev and then clone m2atree repo here.\n$ git clone admin001@caringsoftware.com:/home/admin001/html/dev/m2atree\n* Cleared the folder and copied dev1/2/3/5 version over and commited in.\n$ git add -A\n$ git commit -a -m "clear up"\n$ git push origin master \n* Open the folder in brackets. Dreamweaver is not needed since git is committing changes over to the server.   \n20160324: Organized the previous html test folders onto github rfwl account. There are totally nine sub folders created.  \n20160325: Context menu sub folder to test the samples.\n\n\n\n================================================================', '2016-01-28 11:50:50'),
(197, '', '', 'M2ATreeView Project Notes\n================================================================\nProject Stages\n* When inserting an existing item under a new parent item: \nparentTreeItem must be updated.\ntreeDepth must be updated and pass down to all the sub items. \nisFirst and isLast properties must be updated, along with all the new siblings.\n\n* Stages ahead for Feb 2016.\n1> Restructure the codes and adding context menus, drag icons area.\nTree will be in different customization levels: \nData areas can be any custom one or predefined ones.\nContext menus can be provided in a few styles.\nDrag/Drop icons or blocks can be adopted from a few choices.\n\n2> Load the tree from a fixed data model\nRepresent a fixed data model onto the tree \nRecord the steps so to enable others to use the tree.\nContinue to refine the tree UI.\n\n3> Connect to a data source(Loading tree and change the source data model)\nData sources could be json data model, mySQL DB, MS Sql Server,...\nSave and Cancel button would enabled to save the tree to the data source.\n\n4> GIT repository and web development. \nMarket the single Tree for donation.\n\n5> Consider the have a tool to generate codes for web pages to use.\nThe tool will be on the author''s web site and user can log in and build tree source and then use the source on their web site. \n6> Double trees: Tree to Tree/List views\n\n\n================================================================\n\nTheme - default theme\nObjectLoader - default empty loader			\nTreeItemIdGenerator - Incremental Id Generator\nTreeItemRenderer - default Simplest Renderer: Draw a label from source object only\n	\nLabel + ICON + Tooltip + ChekBox + RadioButton + \nContext Menu + Pop-up Menu + pop-up Dialog  \nSingle selection or multiple selection notification\nDrag/Drop\nIn-place Form\nDataType/View State/\n================================================================\nIntroduction version 2\n\nThe more important benefit from this struture is the you can customize very deep inside the package. \n	For example, you can draw each tree node totally based on your own html building functions.				\n	You can have your own logics to choose icons, font, color or border to the tree nodes.\n	add radio button, check box, or even in-line editor forms can be added inside tree nodes, whatever html elements you would like to be there. \n			Put in simple, tree node is a html section by themself. In this sense, \n	M2ATreeView is much more than a normal tree view, where tree node is just a label. From this perspective, M2ATreeView is a container able to organize its child html sections\n	into tree layout. 		On the other hand, M2ATree has provided many ways to present tree nodes already. 			\n	As any html elements can go inside M2ATreeView''s tree node, you can expect any operations to be done over M2ATreeView tree node.		\n	In the M2ATreeView structure tree''s different levels, there are many operations have been supported like: \n	single selection, multiple selection, highlight, copy, paste, delete, move pop-ups, context menu and a large set of drag/drop operations.\n\nM2ATreeView is a javascript package to build tree view on web page. M2A here means from Model to Application. \n			Together with its siblings, M2ATree is aimed to make the journey from Model to Application easier for software developers.\n			\n			As other tree views would do, M2ATreeView represent your hierarchical data model in tree-like view. \n			By adding a few attributes to your data items, they will be wrapped into a heirarchical M2ATreeViewItem model, \n			which M2ATreeView can load and render on web page and support a large set of operations over the M2ATreeViewItems. \n			You don''t event need to wrap your data items using your own codes, M2ATreeView has a set of tools to help with it.\n			In simplest case to integrate M2ATreeView on to your web page, your only need to tell M2ATreeView where is your data model ( root data item in your data model) \n			and where to render( an html element Id on your page) the tree view. \n			\n			Different from many peers, M2ATreeView is not a JQuery plugin and has no dependence on any other third party libraries. \n			M2ATreeView is an open source project. But more than just being open source, M2ATreeView has its internal structure open for you to use. \n			You do not have to use it as a black box, you can choose minimal codes only sufficient for your needs. Even better, M2ATreeView has a simple structure: a tree! \n*/			\n		\n			\n	/*		\n			With M2ATreeView''s core javascript object being the root, to extend its functionalities and allow customizations, \n			the core wraps some of its parameters or functions into stand-alone javascript objects called as interfaces that are simply a specification of properties and functions required \n			to perform the tasks. These interfaces can be taken as child nodes of the root node. \n			The interface has provided default values or codes specified by the interface and can be called default implementation of the interface. \n			In addition to this default implemention, M2ATreeView might provided one or more other implementations, javascript objects having full codes and vaues for \n			the properties and functions specified by the interface). You can provide your own implementation as well. All the implementations can then be ragarded as child nodes \n			of the interface node. Further, these implemention node can expose their own interfaces as next level node, and thier own interfaces receive more implementations as child nodes in even deeper level.\n			At every existing or new level, each time a new implementation is given to an interface, new feaetures were added into M2ATreeView package. \n			All the features of M2ATreeView pacakge is created and organized in this way. 									\n			\n			From this M2ATreeViewItem Structure Tree, you can search and select what you need and add your own extensions, javascript objects or functions. \n			Only the codes relevant to your selection will be packaged into a compact javascript file to be included into your web page. \n			You do not have to include all the built-in features, instead, you choose from them that is useful to you.\n			\n			M2ATree library has provided many ways to present nodes and you can easily customize the presentations with your own html builder functions.\n			M2ATree has built-in support for json and xml hierarchy data structure.\n			\n			In-place editors 	\n			Operations on the tree nodes:\n			Click, double click, drag/drop, context menus\n			\n			\n			You can perform various operations with application data including Copy, Cut, Paste, Delete and Rename with the help of context menu triggered by clicking the right mouse button.\n			\n			\n			\n			M2ATreeView is still activley growing.\n			\n			but more than      	\n			\n			Receive source Data model	\n			\n			Draw tree structure based on your own html building functions.\n			\n			M2ATree do have a large set of  operations 	\n			\n			Compact: Small file size and easy to integrate into web page, \n			Pure: No dependence on any third party libraries.It is not a jquer plug in and it is self-contained  \n			\n			\n			Flexible and versatile: Node can even have different height and can be drawn in \n			Highly extensible: \n			DataBound and data type sensible.\n			Context sensible\n			\n			\n			a large set of tree node html builders.\n			\n			\n			More than an open source package, it has open its internal structure and logics flow,\n			You don''t have to use it as a whole,  you tailor it into parts for integration into your own project.\n			This means only sufficient and least set of codes will be inclued in the web page.\n			While providing a big set of functions, the functions was arranged into layers for easy pick-ups.\n			\n			\n			\n			\n			JavaScript Webix Tree allows you to present hierarchically organized data in a nice and logical manner. \n			With the help of this Webix widget you can clearly see all levels of dependency within the data in your web app.\n			\n			Due to the fact that Webix File Manager is based on HTML5 and JavaScript technologies, \n			it can be effortlessly embedded into you web app to edit and manage the stored files and folders.\n			\n			You can perform various operations with application data including Copy, Cut, Paste, Delete and Rename with the help of context menu triggered by clicking the right mouse button.\n			\n			Flexible Layout\n			Webix File Manager is easy to configure. You can extend the functionality of this component by adding the features that are necessary to meet your project requirements. \n			It is possible due to rich Webix API.\n			\n			Drag and Drop\n			One more useful function of this web file manager is the support of drag-and-drop functionality that allows moving files and folders inside of the Tree as well as between the Tree \n			and Files views.\n			\n			\n			With Webix File manager, you can easily upload files from your PC by choosing the "Upload" action in the popup menu. \n			There is also a possibility to download files from the widget by double clicking or by pressing the Enter key.\n			\n			By the way, it is possible to create any number of new folders by means of the corresponding action in context menu. To add a file to your file manager you should upload it.\n			\n			Documentation\n			\n			\n			Educational articles and demos that will help you learn all the functionality of the File Manager widget.\n			\n			API Reference\n			\n			Detailed description of widgetâ€™s events, methods and properties that will facilitate the process of web apps development.\n			*/\n			\n\n================================================================\nIntroduction version 1\n\nM2ATreeView is a javascript library to build tree view on web page. M2A here means from Model to Application. \nTogether with its siblings, M2ATree is aimed to make the journey from Model to Application easier for software developers.\n\nAs other tree views would do, M2ATreeView presents hierarchically data model   	\n	\nReceive source Data model	\n\nDraw tree structure based on your own html building functions.\n\nM2ATree do have a large set of  operations 	\n	\nCompact: Small file size and easy to integrate into web page, \nPure: No dependence on any third party libraries.It is not a jquer plug in and it is self-contained  \nYou do not have to include all the built-in features, instead, you choose from them that is useful to you.\n\n	\nFlexible and versatile: Node can even have different height and can be drawn in \nHighly extensible: \nDataBound and data type sensible.\nContext sensible\nM2ATree library has provided many ways to present nodes and you can easily customize the presentations with your own html builder functions.\nM2ATree has built-in support for json and xml hierarchy data structure.\n\nIn-place editors 	\nOperations on the tree nodes:\nClick, double click, drag/drop, context menus\n\na large set of tree node html builders.\n\n\nMore than an open source package, it has open its internal structure and logics flow,\nYou don''t have to use it as a whole,  you tailor it into parts for integration into your own project.\nThis means only sufficient and least set of codes will be inclued in the web page.\nWhile providing a big set of functions, the functions was arranged into layers for easy pick-ups.\n\n\n/*\n\nJavaScript Webix Tree allows you to present hierarchically organized data in a nice and logical manner. \nWith the help of this Webix widget you can clearly see all levels of dependency within the data in your web app.\n	\nDue to the fact that Webix File Manager is based on HTML5 and JavaScript technologies, \nit can be effortlessly embedded into you web app to edit and manage the stored files and folders.\n		\nYou can perform various operations with application data including Copy, Cut, Paste, Delete and Rename with the help of context menu triggered by clicking the right mouse button.\n\nFlexible Layout\nWebix File Manager is easy to configure. You can extend the functionality of this component by adding the features that are necessary to meet your project requirements. \nIt is possible due to rich Webix API.\n	\nDrag and Drop\nOne more useful function of this web file manager is the support of drag-and-drop functionality that allows moving files and folders inside of the Tree as well as between the Tree \nand Files views.\n\n\nWith Webix File manager, you can easily upload files from your PC by choosing the "Upload" action in the popup menu. \n	There is also a possibility to download files from the widget by double clicking or by pressing the Enter key.\n	\n	By the way, it is possible to create any number of new folders by means of the corresponding action in context menu. To add a file to your file manager you should upload it.\n		\n		Documentation\n\n\nEducational articles and demos that will help you learn all the functionality of the File Manager widget.\n\nAPI Reference\n\nDetailed description of widgetâ€™s events, methods and properties that will facilitate the process of web apps development.\n*/', '2016-03-15 00:29:35'),
(199, '', '', '201604 Daily Notes: M2ATree and TreeNote\n=====================================================================\n20160430:\n* Populate DB for tree notes with initial records.\n* Compiled routes and db methods OK.\n* Retrieve json object of root notes from url into client side OK. \n* /list url worked Ok and PopulateDB has been worked as well. This means createTreeNote method is OK.\n* Try to use tech''s html_test_page json from url to test the tree_note_db methods and got Cross_domain request issue:\nXMLHttpRequest cannot load http://external.service/. No ''Access-Control-Allow-Origin'' header is present on the requested resource. \nOrigin null is therefore not allowed access.\n** The next post has given a few ways: leave to read later.\nhttps://jvaneyck.wordpress.com/2014/01/07/cross-domain-requests-in-javascript/\n** Run the html test page from on the server in url: http://caringsoftware.com/git1/tech/html_test_pages/html_xml_json/json_from_url.html\nGot the same issue. Different port means different domain, even on the same server. \nDomain means protocol + domain name (like a.com) plus port address. \n** Decided not to use the html test page anymore. \n\n=====================================================================\n20160429:\n* ttn/dev06/tv003/index.html has been translated into .jade(pug) and comes out in tn/dev02 running on csserver003.\n* Writed mongoose_db as DAO and tree_note as router. The codes are based on samples in tech folder.\n\n=====================================================================\n20160428:\n* Studied mongoose quick start and guide. Choose to use mongoose since it has schema being similar to lcass definition.\n* Install mongoose so easily on csserver003.\nadmin001@csserver003:~$ npm install -g mongoose\n/home/admin001/.nvm/v5.10.1/lib ...\n* Build dev02 app.\nexpress --git dev02: Rough Full Note Tree. \ncd dev02\nnpm install mongodb --save\nnpm install mongoose --save\nnpm install pug --save\n* Copy ttn/dev06/tv003 folder over and tested to write jade file for ttn/dev06 index.html page.\n\n\n\n# --save will add the package into package file.\n=====================================================================\n20160427:\n* Studied pug(jade) source codes.\n* Try to make a list of tree note app functions. \n=====================================================================\n20160426:\n* Failed to find nodejs samples in the repo and cannot recover them from the server.\n* Tested to build css only vertical menu bar in tech/html_test_pages/test_menu_button/test_PopUp_MenuBar.html.\n\n=====================================================================\n20160423-24-25\n* Start to build CRUD for tree_notes in dev/tn/dev01.\n* Built a few script for Linux. Line Return in Windows <cr><lf> caused problems in script file. Linux''s new line is <cr>.\n* Restructured the directory for git1. html/git1 is also pulled from /home/dmin001/git1, which is a bare repo.\n* CRUD full process worked now.\n---------------------------------------------------------------------\n# Connect to ftp server on csserver003 from dreamwerver.\nHost Directory must be /html/tn/, cannot be /home/admin001/html/tn/.\nFTP server points to user''s home directory at the begining.\n\n# res.render("test/create",), no / in front of the url.\n# app.use("/test/create_note/:id"..), / must be in front of the url.\n# new BSON.ObjectID(..), ID not Id.\n# Cannot change _id with {"_id": "57333...5cfd,..}, must be new BSON.ObjectID("57000... dfc") for _id''s value.\n# app.post/get/put must be matched with the requests.\n# In browser window, /a/b?_method=POST can be used to choose http method.\n# req.params.id is only return /a/b/:id ''s id value. Form data fields are in req.body.\n# res.redirect("/") is the right to redirect to root.\n# To use data item passed into .jade, use attr="#{returnedObject.attr}" or attr="!{returnedObject.attr}".\n# Line Return in Windows <cr><lf> caused problems in script file. Linux''s new line is <cr>.\n# in Ubuntu, dash,sh, and bash are all OK to run the script file, with the script file as ist argument. \n# But failed to make a script file to be command even with the first line #!/bin/bash, #!/bin/sh,#!/bin/dash.\n   \n=====================================================================\n20160422\n* Studdied mongodb sql mapping chart.\n* Studied jade quick code samples.\n* Create html/tn/dev01 express project for tree_note project.\n* Build tree_notes.js to do DB access.\n* Build create/update/list/detail.jade files.\n\n=====================================================================\n20160421\n* Restructure the folders esp. for notes.\n* Reading angularjs mini quick start. Angularjs will use jqLite package, compact JQuery, just go ahead without angularjs.\n* mongod -v and mongo -v returned version 3.0.11. \n* Created directory tn/dev01, generated application skeleton. \n* Added mongodb as "mongodb": "~3.0.11" into package.json and Failed npm install npm-check-update tool, crashed and stopped. npm uninstall it.\n* Added mongodb as "mongodb": "^1.4.4" into package.json file and mongodb@1.4.40 actually installed with npm install.\n\n=====================================================================\n20160420 \n\n* List all routes defined in an application: Many ways can be found in\nhttp://stackoverflow.com/questions/14934452/how-to-get-all-registered-routes-in-express\n\n* Failed to run the sample restful app listing users, renamed as restApp_userList. \nIts codes assumed the db is a monk service at 12707 running. Error messages: BSON MODULE NOT FOUND.	\n\n* Confused by the middleware, router stack, etc. Clear now after reading Express-js documents. \n \n* Run mongo tool on ssh terminal to csserver003 and tried a few commands.\n* Found a code project sample 5.5 MB  and downloaded into E:tech/nodejs. \nIt is a visual studio sloution containg all source package for nodejs, express, npm, etc.\nIt has many jade files and js files to be examples.\n=====================================================================\n20160419 \n* To let nodejs app running permanently: Use forever since it is a npm tool.\n$ sudo npm install -g forever\n$ forever server.js\n# Or as a service:\n$ forever start server.js\n# Forever restarts your app when it crashes or stops for some reason. \n# To restrict restarts to 5:\n$ forever -m5 server.js\n# To list all running processes:\n$ forever list\n# Note the integer in the brackets and use it as following to stop a process:\n$ forever stop 0\nRestarting a running process goes:\n$ forever restart 0 [Failed in tests on csserver003]\n# -w parameter to restart the application automatically whenever your server.js file changes:\n$ forever -w server.js\n# Without nohup, node will exit when you exit the ssh session if you run it this way (unless you are using something like screen to tmux).\n\n=====================================================================\n20160418 \n* Install MongoDB on csserver003\n\n# Step 1 â€” Importing the Public Key\n# Ubuntu ensures the authenticity of software packages by verifying that they are signed with GPG keys, so we first have to import they key for the official MongoDB repository.\n$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10\n# Output\ngpg: requesting key 7F0CEB10 from hkp server keyserver.ubuntu.com\ngpg: key 7F0CEB10: public key "Richard Kreuter <richard@10gen.com>" imported\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\n\n\n# Step 2 â€” Creating a List File\n# Add the MongoDB repository details so APT know where to download the packages from by creating a list file for MongoDB.\n$ echo "deb http://repo.mongodb.org/apt/ubuntu "$(lsb_release -sc)"/mongodb-org/3.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.0.list\n# Update the packages list\n$ sudo apt-get update\n\n# Step 3 â€” Installing and Verifying MongoDB\n# install the MongoDB package itself.\n$ sudo apt-get install -y mongodb-org\n\n# MongoDB will be automatically started. Check:\n$ service mongod status\n\n#Output\nmongod start/running, process 1611\n# Stop, start, and restart MongoDB using the service command (e.g. service mongod stop, service mongod start).\n\n* Restructure the notes directory:\n* Clear /home/admin001/html/tech/nodejs/:\n$ rm -r dir_to_be_cleared/ worked but slow.\n# cmd $ rsync src_dir/ targt_dir/ #synchronize local or remote directories.\n# Delete big non empty directory: Use an empty dir as source to rsync the target dir.\n$ mkdir empty_dir\n$ rsync -a --delete empty_dir/ target_dir/\n\n* Build express app test01:\n$ express test01\n$ cd test01\n$ npm install\n$ npm start index.js\n# Test at the port:3000 and received welcome message.\n\n* Work out how tocommit into non bare git repo on the server:\n** git config receive.denyCurrentBranch ignore\nDidn''t work as the error still comes out.\n** Check out ohter branch on the server and then\n$ git checkout -b EmptyNewBranch1\n\n=====================================================================\n20160416-17\n* Added tree view width in pixel to settings object. Zero or too small value for this will remove the width setting for the data area width.\n* Added Extra_Classes and Extra_Styles into item renderers to allow item to give styles to the data area.\n* Found the issue that data area border will be drawn outside the setting value for data area height in pixels.\nThe indent area and parenting column should consider the new height as well. Otherwise, there will be gap between item rows. \nSolution: Introducing two height for data area, height and client height. \n** The height will cover the margin and border and the client height. \n** The client height will be used in data area building process.\n** The height will be used in height calculation of the indent area and parenting column.\n=====================================================================\n20160415\n* Build some more css samples in tech folder.\n* Produced the idea to put expasions inside data area into categores and then use options to implement them.\n\n=====================================================================\n20160412-13 Revisited the nodejs\n* Moved the git from home/admin001/html/git to home/admin001/git and created /home/admin001/html/tech + dev folder.\n* Tested nodejs in home/admin001/html/tech/nodejs folder.\n* Install Nodejs Express and started the first created application: \n$ mkdir myapp\n$ cd myapp\n$ npm init\n$ npm install express --save (save express as an dependency for the package) or $ npm install express\n\n# Express application generator\n$ npm install express-generator -g\n$ express myapp1\n$ cd myapp1\n$ npm install\n$ DEBUG=myapp:* npm start\n# Then load http://localhost:3000/ in your browser to access the app.\n\n> myapp@0.0.0 start /home/admin001/html/tech/nodejs/myapp/myapp\n> node ./bin/www\n\nmyapp:server Listening on port 3000 +0ms\nGET / 200 380.089 ms - 170\nGET /stylesheets/style.css 200 5.598 ms - 111\nGET /favicon.ico 404 55.450 ms - 1245\n\n# Ctrl C will stop the application.		\n=====================================================================\n20160411 Node.js + Express + Express-Generator\n* Moved the bare csserver003 git repo into /home/admin001/git, outside the html folder.\n* Installed express and express-generator and run the first generated app.js OK at http://caringsoftware.com:3000.\n* Added open/close operations onto the parenting column''s top cell for both tv002 and tv003.  \n=====================================================================\n20160410 M2ATreeView003\n* Mark the lines for tv002 for its additions.  \n* tv003 comes out now with right indent lines and parenting column.\n=====================================================================\n\n20160406 M2ATreeView: Install node.js on csserver003\n\n* Web Posts:\n** Felix''s Node.js Beginners Guide at http://nodeguide.com/beginner.html\n** How To Install Node.js on an Ubuntu 14.04 server\nhttps://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-an-ubuntu-14-04-server\n\n\n* Way 1: Compile and install from source.\n$ wget https://nodejs.org/dist/v4.4.2/node-v4.4.2.tar.gz\n$ tar -xzf node-v4.4.2.tar.gz\n$ cd node-v4.4.2\n$ ./configure # failed.\n\n#CC compiler was not installed. To install cc compilers:\n$ sudo aptitude install build-essential\n#33 NEW packages installed:\nbinutils{a} build-essential cpp{a} cpp-4.8{a} dpkg-dev{a} fakeroot{a} g++{a} g++-4.8{a} gcc{a} gcc-4.8{a} \nlibalgorithm-diff-perl{a} libalgorithm-diff-xs-perl{a} libalgorithm-merge-perl{a} libasan0{a} libatomic1{a} \nlibc-dev-bin{a} libc6-dev{a} libcloog-isl4{a} libdpkg-perl{a} libfakeroot{a} libfile-fcntllock-perl{a} \nlibgcc-4.8-dev{a} libgmp10{a} libgomp1{a} libisl10{a} libitm1{a} libmpc3{a} libmpfr4{a} libquadmath0{a} \nlibstdc++-4.8-dev{a} libtsan0{a} linux-libc-dev{a} manpages-dev{a}\n\n$ ./configure \n$sudo make install\nhydrigen.cc ccplus compiler error 4. \n\nFailed. \n\n* Way 2: Use apt-get from Ubuntu''s local repository\nsudo apt-get update\nsudo apt-get install nodejs\nsudo apt-get install npm\n$ nodejs -v  #0.10.25.\nThe partially installed package is named as nodejs, not node.\n\n* Way 3: Use PPA:\n$ curl -sL https://deb.nodesource.com/setup | sudo bash -\n$ sudo apt-get install nodejs\n\n\n* Way 4: Using NVM (Node.js version manager)\n\nsudo apt-get update\nsudo apt-get install build-essential libssl-dev # not needed anymore\ncurl https://raw.githubusercontent.com/creationix/nvm/v0.16.1/install.sh | sh\n# This downloads the script and run it, install the software into a subdirectory of your home directory at ~/.nvm. \n# Also add the necessary lines to your ~/.profile file to use the file.\n# Need to log out and log back in again, or you can source the ~/.profile file so that current session knows about the changes:\nsource ~/.profile\n# To find out the versions of Node.js that are available for installation, you can type:\nnvm ls-remote # all version in the remote repository is listed one in a line.\nnvm install 5.10.1\nnvm use 5.10.1\nnode -v # return v.5.10.1\nnvm ls # list all node.js versions.\n\nnvm alias default 5.10.1 # set defult version \nnvm use default\n\nnpm install express # to install module\nnpm install -g express # globally installed, available for other projects using the same version. \n# This will install the package in: ~/.nvm/node_version/lib/node_modules/package_name\nnpm link express\nnvm help\nThe installed package is called node, not nodejs.\n\n* Remove unwanted versions\n$nvm remove 0.10.25\n$ sudo apt-get purge nodejs # Removed the nodejs package.\n\n* Test node.js \n** $ node <enter> will open the interactive shell (also called REPL) to test simple one liners, \nand can also be directly embedded into your node.js applications.\n\n=====================================================================\n20160405 M2ATreeView001\nFixed bugs (depth calculations and Id increment) and get tree coming out properly.\nMinimized the css rules in m2atree_row and m2atree_area.\n\n--------------------------------------------------------------------\nCurrent Major Issue: Width for DataArea inside the Tree Item Row.\nThe current version didn''t specify width for data area. This is OK for the cases where host element''s width is not fixed.\nIt looks not easy to know if a html element is given a width or not.\n\nPossible extensions:\nHost element has fixed width. Then data areas will have a width extending the right of the host element.\n(Tree Item Row,  Data Area) x (hover, open/close,single selection, multiple selection, drag/drop)\n=====================================================================\n20160404 M2ATreeView001\nBorrowed M2ATreeViewModel to build a sample Tree Item Model.\nRendered a tree view out with the sample model. Depth is not right. They are all zero. \n20160407-08 M2ATreeView002\n* Added a few lines for tv002. tv002 comes out ready. \n=====================================================================\n ', '2016-05-06 10:03:18');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(200, '', '', '201605-06 node.js and daily notes \nCopy of the daily note in git1/note/daily_note\n=====================================================================\n201600619:\n* Attempted to build tn/dev03/index page to use TTN''s resize drag bar.\n* Visit the envato.net for source code sales and found the some sales can be in great number like 30,000. and decided to try ResizeDragBar.\n* Register into Envato.net for code author, exclusive author and rfwl(Wanlou Feng)/N...W..1y. email: rfeng@ymail.com/default withdraw account: paypal: ontpm.hotmail.com/3.btd.y.zap.\n* Studied the uploading process.  \n\n=====================================================================\n201600617-18:\n* Studied the drywall sample codes for angular coding practice.\n* Restore the previous sample for auto.pop-up with image background like a normal picture frame.\n* Integrate TTN codes into the git1 and examined the codes for the resize drag bar.  \n=====================================================================\n201600616:\n* Play tech/drywall_samples: drywall actually based on Passport from my findings.\n\n** angular_drywall_master cannot be installed in npm install commandes, event after installed npm-check-updates and used it having updated the dependency versions.\n$ npm install npm-check-updates;   $ npm-check-updates -u; $ npm install; \nThis is a test project for drywall, not an application by itself.\n\n** drywall-angular-master is working now by only changing config into config.example. It used mongoose as well. Good to learn angular here and set of forms.\nThis sample is very big having admin pages for user accounts.\n\n** drywall-master is not working in the previous trials and is big having even more user admin pages and eveen schema like LoginAttempts.\n\n\n=====================================================================\n201600612-15:\n* Configure passport into tn/dev03 and use both routers for passport and tree_notes. It looked worked now.\n \n# How to safeguard each possible uri with authentication? for all the http methods.\nUse (req.user != null) to check if the user has been logged in. This is not totally secure but worked.\nThis check is added to each tree_note uri.\n# res.redirect() will not returned off the callback and will terminate the session but carry on the codes behind in the function. \nIf the codes there try to send something to response, Error message like "header can not be set after they have been sent " will come out. \n\n? How to use session fort he above purpose?\n=====================================================================\n201600610:\n* Integrated passport to tn/dev03 and debug to have login and sign up page coming out. Looks good.\n* Downloaded the samples from github drywall and found drywall is actually using passport and mongoose and containing full set of forms:\nlogin, register, forget, email notification, user managements, etc. It might be necessary for a production index tree note web site.\n=====================================================================\n201600609:\n* Personal Index tree data model thinking. {index item- user id/parent order/tree item fields,  data item }.\n* Downloaded three passport samples from Github into tech/nodejs_app/passport_samples folder. Included passport-mongo-master already installed on the server csserver003.\n** The passport-local-master is a test projects. \n** passport-mongo-master is a good choice for use for now with enough UI.\n\n\n# nodejs pacakges for User Managements:\nhttps://stormpath.com/blog/choosing-nodejs-authentication-strategy\nhttp://jedireza.github.io/drywall/\nhttp://stackoverflow.com/questions/11534412/any-good-user-management-framework-for-node-js\n\n=====================================================================\n201600607:\n*  Use Passport to add authentication:\n** Install: \nnpm install passport --save\n\npassport@0.3.2\npassport-strategy@1.0.0\npause@0.0.1\n\nnpm install passport-local --save\npassport-local@1.0.0\n\n# Free MongoDB cloud database services: Modulus or MongoLab.\n\n# git knowledge is not enough and stopped me from integrating codes from passport-local sample passport-mongo-master on github.\n# Managed to installed passport-local sample application and run it.\n    \n=====================================================================\n20160530-31-0601-0602-0603-0604-0605:\n* Worked out the way to delete descendants receursively using Mongoose methods. \n* Not using while loop with stack to get all the descendants, use recursive function calls and results are complete.\n* Delete worked well after quite a few times of tests.\n* After inseting Before or After, the orignal tree item must be redrawn \nsince its children flags could be changed(was last and is not anymore...).\n* In InserAftrer/Before, redraw the original tree item and solved the issues in indent area.\n\n\n# Found the reason for the previous days of failures: Async ops in while loop can not be implemented. \nThe post handlers can not go back inside the loop anymore.\nRecursive function calls are inevitable.\n# The only working way is chaining async method calls like find({...},function(err,items){ ... } together sine items is an array of model object.\nBut this way looks doesn''t in sync inside a while loop that is necessary for recursive operations absolutely needed in this case.\n# In the Mongose module, db.collections.tree_notes looks like to be an MongoDB collection object.\nIt has the method find() defined and it return a object looks being a Cursor, which has methods: \nhasNext,next, count methods defined but all the methods returned undefined for mysterious reason.\nThis is the reason we are stopped for two DREADFUL days.\n# Mongoose exec(callback) return a Promise. I have no knowledge how to use the Promise.\n# Mongoose find({...},function(err,items){ // Items is an array of Mongoose models. \nThey supports the fields defined in the schema that generated the model.\n\n=====================================================================\n20160529:\n* Found delete is not working: Delete parent but its children are still in the DB.\nThere are two solutions: Disallow to delete the element with children or recursively delete all sub notes.\n* \n* The next post is good explaining different ways to model a tree structure in mongodb.\nhttps://www.codementor.io/mongodb/tutorial/storing-tree-structures-in-mongodb-example-code\n=====================================================================\n20160527:\n* Move up/down/first/last actually worked only in UI not in DB at all. \nThe order in DB was messed up. Mongoose codes for moving from to is not working at all. Fixed the code issue and find every moving is OK now. \n* Investigate the location offset in the top cell of the parenting column and fixed by giving padding:0px; and border: 0px;\n# Showing background color is a good way to show areas in debug process. \n# Showing border will increase the actuall space-taken for the elements. \n\n=====================================================================\n20160526:\n* Found the reason that the tree item container''s id is still old. temporary value for the creator form. \nSo fixed the issue by giving new element Id based on the new note id from DB.\n* Basically all create functions well.\n? Move Up produced duplicates in UI.\n=====================================================================\n20160525:\n* Fixed Delete Note bug that order is not changed.\n* Create/After/Before/First/Last are all workable at root and child level after refreshing the tree.\n? Create is not workable on newly created note before refreshing the whole tree.\n\n=====================================================================\n20160521-22-23: \n* Tested with many issues coming from the fact that not the whole tree item mode is loaded fully inside the TreeView. \nfindSubTreeItem is not working because of that. So decided to load the full tree item model from data base first.\nText of the tree items can be left for loaded one by one. \n* Changed to load the whole tree notes to the tree view and children notes look OK with plus sige. \n\n=====================================================================\n20160520:\n* Back to debug openRoots process to show grandchildren. \n* Installed node-inspector and run it to debug the server side js codes. \nIt is good to have a way to debug server side js codes. \nThe client side codes is also visible inside node-inspector Chrome window and break points can be set inside them but obviously, \nthese break points cannot be reached, from my observation.\n* initRender has got the grand children showing out. But still long way to go.\n* Still errors from the fact that grand children is not tree view items, but only note from DB, and returned from DB as source object.\n\n=====================================================================\n20160519:\n* Written methods at all the places to do more first/last/up/down.\nServer-side: DBAccessor and Routes, Clinet-side: DAO, Item Model, TreeView.\n* All the methods are working after limited number of tests for roots and children of a root. \n=====================================================================\n20160518:\n* Got the idea: Arrange the load children function call into previous one''s callback position.\n* LoopFillChildren() implemented.\n* \n=====================================================================\n20160517:\n* To cancel the newly created empty note: Call delete method of the tree view. Did the job.\n* To open and close the notes with children added.  \n* Decided to also bring grandchildren when seeking childen. So children can be opened if they have children. \n\nCreate Process in codes:le t\n> State_Default \n> Menu Item Click Event Listeners: Create empty note with order and parentId set properly for reflecting creation type: Before/After, First/Last Child.\n> Tree View''s operation methods are called to update Tree Item Model \n> Tree View''s redraw methods will redraw the new notes in state_create to put the new empty notes in the proper location in Editor \n> User input values and click Save:\n\nState_Create Save Event Listener: \n> Client-side DAO methods: Receiving the values from editor form, build url reflecting creation types and send ajax calls\n> Sever-side router: call the router methods based on the url format.\n> Server-side DB access module: mongoose methods to updating DB and returned the results and send back to router''s response function.\n> DB returned new notes returned to the client side at ajax''s call''s onLoad function. \n\n  \n=====================================================================\n20160516:\n* Found Error 400 Bad Request is client error, wrong request format, etc.\nFound the reason behind is not using JSON.stringify(...) and send( raw json object).  \n* Then Problem error 400 solved and new root note was created into DB. Refresh after creation is still an issue.\n* Refresh after Creation-Save: In state_create, the empty note was created and given a temporary id for showing it in the tree view.\nAfter saving to DB, the new _id was returned from DB through ajax call. Can not use the new it straight away since relevant elements still carry the old temporary id. \nHave to use the old id to find the element like RowContainer and then changing it, also change elemnt''s id attribute so as to find them from new note id. Worked now.\n* Location for createRoot Before/After is right now.\n* All create methods are there now. CreateFirstChild worked in saving into DB. After that, failed to do anything.\n* Added table cs styles to show all notes and roots in http table.\n* \n\n# $gte is mongoose >=, $ge is not right for >=.\n# How to solve Port 3000 already used issue:\n#1- Find what application/process is using the pro, type:\nsudo netstat -lpn |grep :8080\ntcp6       0      0 :::8080                 :::*                    LISTEN      6782/java\n#2- I have got the process Id, which is 6782, now this is the process that is using port 8080.\n#3- Kill the process, type:\nkill 6782\n\n=====================================================================\n20160515:\n* Push tree item into location indicated by their order value could be error-prone, and so change to sort them upon the order value, instead.\n* Connected to test CreteBefore for root notes first and got errors Bad Request.\n\n=====================================================================\n20160514:\n* Debug to go through Detail State.\n* Read field values for update and build new ajax methods for update. \n* Found Mongoose model findByIdAndUpdate option:{new:true} returned new values back to the client and use it.\n* Update is working now.\n* DeleteRootAt is added and worked now.\n\n=====================================================================\n20160513:\n* Finished TreeNote_State_Default/Create/Delete/Detail/Update.\n* Added Ajax methodsin the client side and routers and DB in server side.\n* Basic full shape for TreeNote version 1: CreateBefore/After/FirstChild/LastChild/Update/Detail/Delete.\n=====================================================================\n20160512:\n* Added TreeNote_State_Default/Create/Delete/Detail/Update to handle \nhtml builder and event listeners for a specific state.\n=====================================================================\n20160511:\n* much changes are required and so upgrade to dev 03 with:\nhtml/git1/dev/tn: $ express --git dev03\non server, commit, push from the deploy repo html/git1\nOn client, pull the bare repo  git1.\nCopy the files from dev02 to dev03, esp. packge.json an deploy script file.\nChange the project name in package.json.\nrun npm install in dev03 \ndev03 is workign just like dev02.\n* Updated mongoose.db.js(db accessor) and tree_notes.js(routers) to have a refined methods and a API document block at the beginning.   \n* Decided to get rid of the forms-submit from codes to use state switches.\n=====================================================================\n20160510:\n* Mongoose model can do multiple documents modificatons.\n* Try to implement mongoose db methods for createFirst/Last/Before/After and delete method with consideration of order changes in siblings.\nThe server side DB method will receive from req.body and url params. So their signatures should not use note or parent not object, use their _id instead.\n=====================================================================\n20160509:\n? Create before/after process, order was not be set properly. \nTo put the newly created note into the right location, we have to change order for other sibbling notes, \nnot only the right order for the new one. Quite involved to change using forms. So decide to use json+url to access tree notes first.\n=====================================================================\n20160508:\n* First child opened the create form and created in DB.\n* Saved order back to DB \n* Added getAll in mongoose_db and show all notes on UI. \n* Use order in get roots and children\n* Build children in loading notes to UI.\n* Children can be added now and into the proper location.\n* Only using form - action parameter to call url.\n* Dynamic loading under each tree node hasn''t be achieved. The all notes were loaded once and the tree hierarchy was built initially.\n? Create before/after process, order was not be set properly.\n\n# mongo commnad line to remove collection: db.treenotes.drop().\n# The way adding callback(err,result) as the last argument is almost impossible to do a recursive functions.\n=====================================================================\n20160507:\n* added order to the tree items to remember the position.\n* implemented the methods and create forms for adding child. \n* Adding methods to ensure first/Last child flag and order to be the index in the children array or rootItems array.\n\n=====================================================================\n20160506:\n* Implemented tree view''s create/Before/After and create First/Last child methods.\n* insertAdjacentHTML methods are working to insert new html into DOM.\n* CreateBefore and After have made new items in DB, But not in the right position.\n=====================================================================\n20160505:\n* Added M2ATreeView level methods for insertBefore/After and create first/Last child.\n* Added ui event handlers into M2ATreeEventHandkers to perform these operations.\n* Managed to update and delete from forms embed inside data area.\n* Built commit script file on the server and copied down to the client.\n* Failed to pass paswd from a file into the script file.\n* CreateBefore/AfterForm was developed and shown out in UI.\n* Update/Delete full process got through, that is, DB updated and UI changed after refresh. \n=====================================================================\n20160504:\n* In M2AItemRenderer, added Update/Delete/detail forms and Db methods in Mongoose.\n* Connected Operation menu with forms inside data area renderers.\n=====================================================================\n20160503:\n* In M2AItemRenderer, added item renderers in multiple levels for routes mappings.\n* getRoots and list.jade worked.\n* Start doing client side integration and got m2ATree showing list of tree notes.\n=====================================================================\n20160502:\n* codepen.com/rfeng@ymail.com/Nnnnwwwyy was used to create data area and good findings about absolute positioning.\nAbsolute positioning elements are forming a separate hierarchy from other elements.\n* DataArea''s header row started working and operations menu coming out in good positions. \n# Elements with relative positioning allow its children to be absolutely positioned inside of it. This is important in locating elements.\n=====================================================================\n20160501:\n* Added tree_note_dao.js to retrieve db for notes. \n* Got the root notes and passed onto client UI and shown OK.\n*  Connected rootnotes list to the m2atree and show out them OK in the default item renderer.\n* Compiling to build new itemRenderer for testing note tree api calls. Problems to have a proper operation menu pop-out properly.\n\n? Add buttons onto index.jade to perform operations in both DB and UI sides.\n? float is used to align data area to indent area in tree item row, this would cause problems if the over wll width is not enough.\nConsider using <li> to define tree item row insdei the tree view.\n\n=====================================================================\n', '2016-06-20 23:36:00');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(201, '', '', '201610-201703 ZiDian IOS Project\n\n===========================================================\n20170330-31-Fri:\nFolderFile package fully worked to operate on Folder and Files. MILESTONE. \n\n20170328-29\n* Revisit DEV02 for deploly FolderFile package onto the CSServer003.\n\nIn the process to using rsync to copy files from /home/admin001/html/wnbjs/dev03 to /var/www/html/wnbjs/dev03, the dev02/php/wnbdata - git repo was deleted accidently.\nCAUTION should applied and remember wnbjs/dev02/php/wnbdata is an important git repo.\n\nhttps://www.bitvise.com/ssh-client-download\nDownload bitvise ssh client Tunnelier. It is good to examine the server files. Also include putty client console. \n\nGit: How to show file list in a bare repo\ngit ls-tree --full-tree -r --name-only HEAD \n\n# Find a folder from root with name\nsudo find / -name ''wnbdata''\n\nadmin001@csserver003:/$ sudo mount --bind /home/admin001/html/wnbjs /var/www/html/wnbjs\nadmin001@csserver003:/$ chmod -R a+rx /home/admin001/html/wnbjs\n\n\nCopy file from dev folder to production folder:\nrsync -a -r --delete  /home/admin001/html/wnbjs/dev03 /var/www/html/wnbjs\nTo enable folder an dpage available to web Browsers:\nadmin001@csserver003:/var/www/html/wnbjs$ chmod -R a+x dev03 \n\n\n20170325-27\n* Rewrite the FolderFile Package in DryDock pattern.\n* Long time spent for re-write FolderFileCommander.js\n* Back to git1/wnbjs/dev03 for Dreamweaver is setup for the remote server.\n\n===========================================================\n\n===========================================================\n20170317-18-19-20-25 : \n* Make the Partition package with restructuring the DryDock concepts for Command and message.\n* Partition package worked with two split commands. Command Delete needs PopUpDialog package.\n* Re-worked PopUpDialog package.\n* Integrated PopUpDialog package into Partition Package.\n** Basically done with changes on the DryDock pattern: Commanders and Commands are all kept isRunning. Command''s startMessageName was not used anymore.\n* Defined an array of configures objects inside Partition Model to list supported client configure views.\n* Partition started to accept client models using client configure views and client views. Client views are not needed right now.\n* Rewrite the PopUpDialog package.\n* Removed hostElementId from PartitionModel, and change its splitH/V methods. \n* ACHIEVED: Partitioned with Different Client Views.\n\n# DryDock: \n\n## Package will only receive or output messages.\n## Message will start commands and their steps.\n## Commander will have viewContext to point to its ViewBuilder instance.\n## Context for Message and CommandStep:\n// Mesasge''s context will be more flexible to tell where the message is raised.\n// When message is handled in command steps, message''s context will be this instance inside the handler functions.\n// When handler is running, message step''s context is the this instance. \n// Runing hanlder functin this way, giveing the flexible assignement of its context according to the message.\n\n## Message should not have a pointer to the sender commander, is it right?\n## But sender should be carried with message?\n## For View Builder: it htmlElementId should stay in the view builder object, not in the client model. PartitionModel actually have hostElementId, should be removed. \n## Commanders and Commands are all kept isRunning. Command''s startMessageName was not used anymore. \nWe believe Commander should not be duplicated, only their viewContext will be changed from time to time.\n\n## Decided to remove context from the message step. \nWhen sending message out, no idea where, who, and how it will be handled ( no idea about the handler function to handle the message). So it is not wise to specify the context to the message handlers. \n## Decided to remove context from the command step. \nIt is hard to explain how to choose context for the command step. Decided to use the commander as step''s handler''s context since it has largest view scope.\n## Decided to not include HTML element Ids inside view''s context data models.\n\n  \n===========================================================\n20170313-16: \n* Moved the git2/prod/hanzi_dictionary_builder to git1/prod/wndjs/dev03 for simplifying deployment on the server.\n* Introduced lib to hold DryDock packages. \n* Rerun Dictionary Builder in the new structure.\n* Rerun wnbjs in the new location but not deployed onto the server.\n* Put PopupDialog into a separate package in DryDock style. Added index.html test page and dialogs come out OK.\n# DryDock Package will received message and output message. \n===========================================================\n20170311 Saturday\n* All validation on ShengMUFavors and MUHanzis have been implemented and tested basically.\n* Valiadtion on Pinyin and Hanzi and Phrase worked OK.\n* Tested dictionary tree builder. \n===========================================================\n20170310 Friday\n* Scanned the WNBJS partition codes and decided to add choices of client models into the partitions based on DryDock Model. \n** Found currently the Partiton label and its hover over menu items are implemented inside grand child view: FFView. \n** Parition view should have its own row at the top of the client area. The top row might be folded up into a thick line, that is, open when touched. \n** The top row will show \n*** a DDL of the client model types and commands: \n*** delete this partition:  \n*** load client model: Client model could be empty, and so load one from the choices. \n*** divide this partition horizontally with a new client model. \n*** divide this partition vertically with a new client model. \n** The supported child client models are defined in json configuration file and a folder containing the js file for the client model. \n** The communication across partitions are not considered right now.  \n** The session will not be saved yet now.\n\n* Found the popup dialogs are from FFCView. They should be even more generalized. \n\n===========================================================\n20170227-0309:\n* Decided to use M2ATree to edit the dictionary and recovered the codes from git1/dev/m2atree/dev05/js02 and dev06/js03. \n* All the way up to have a web dictionary editor working.\n* 0307: New set of operation button background image.\n* 0308: Changed to put operation buttons to the right. Coded to validating adding child with right hanzis.\n* 0309: Validation start working. \n? Save/Read from server, a git repo.\n? Convert dictionary to ios swift source file.\n\n\n# Check HZ String:\nif(!hzs.match(/[\\u3400-\\u9FBF]/)) return false; //hzs contained characters other than hanzis.  \n\n# Check Type String: \n''txt instanceof String'' will return true only if txt was created in ''txt = new String();'' This is not recommended.\n''typeof txt == ''string'' shuld be used to check if txt is a string.\n===========================================================\n20170220-26\n* Did many tests for using SettingBundle and found the simulator could not dynamically linked with system settings. \n \n* Configure ios app using Setting Bundle through NSUserDefaults.\n\n**\nhttps://developer.apple.com/library/content/documentation/Cocoa/Conceptual/UserDefaults/Preferences/Preferences.html\n*** Register defaults for the app:\nlet appDefaults : NSDictionary = NSDictionary.dictionaryWithObject(...)\nNSUserDefaults.standardUserDefaults(registerDefaults:appDefaults)\n\nWhen registering default values for scalar types, use an NSNumber object to specify the value for the number. \nIf you want to register a URL, use the archivedDataWithRootObject: method of NSKeyedArchiver to encode the URL in an NSData object first. \n\n*** Getting and Setting Preference Values\nget and set preference values using the methods of the NSUserDefaults . \nFor scalar values of type Boolean, integer, float, and double. \nFor object value: use NSData, NSDate, NSString, NSNumber, NSArray, NSDictionary, and NSURL. \n\n*** Synchronizing and Detecting Preference Changes\n*** Other ways: Managing Preferences Using Cocoa Bindings\n*** Other ways: Managing Preferences Using Core Foundation\n\n** \nhttps://happyteamlabs.com/blog/ios-how-to-create-an-ios-settings-entry-for-your-app-using-settings-bundle/\n\n** Swift3:\nhttps://www.hackingwithswift.com/example-code/system/how-to-save-user-settings-using-userdefaults\n\nlet defaults = UserDefaults.standard\ndefaults.set(25, forKey: "Age")\ndefaults.set(true, forKey: "UseTouchID")\ndefaults.set(CGFloat.pi, forKey: "Pi")\n\ndefaults.set("Paul Hudson", forKey: "Name")\ndefaults.set(Date(), forKey: "LastRun")\n\nlet array = ["Hello", "World"]\ndefaults.set(array, forKey: "SavedArray")\n\nlet dict = ["Name": "Paul", "Country": "UK"]\ndefaults.set(dict, forKey: "SavedDict")\nWhen it comes to reading data back, it''s still easy but has an important proviso: UserDefaults will return a default value if the setting can''t be found. You need to know what these default values are so that you don''t confuse them with real values that you set. Here they are:\n\ninteger(forKey:) returns an integer if the key existed, or 0 if not.\nbool(forKey:) returns a boolean if the key existed, or false if not.\nfloat(forKey:) returns a float if the key existed, or 0.0 if not.\ndouble(forKey:) returns a double if the key existed, or 0.0 if not.\nobject(forKey:) returns AnyObject? so you need to conditionally typecast it to your data type.\nWith that in mind, you can read values back like this:\n\nlet defaults = UserDefaults.standard\n\nlet age = defaults.integer(forKey: "Age")\nlet useTouchID = defaults.bool(forKey: "UseTouchID")\nlet pi = defaults.double(forKey: "Pi")\n\nlet array = defaults.object(forKey: "SavedArray") as? [String] ?? [String]()\n\n* Acknowledge for using open source codes from Setting Bundles with child panes\n\nhttps://developer.apple.com/Library/ios/documentation/Cocoa/Conceptual/UserDefaults/Preferences/Preferences.html\nhttp://stackoverflow.com/questions/6428353/best-way-to-add-license-section-to-ios-settings-bundle/6453507#6453507\n\n===========================================================\n20170213-19:\n* Added alternative background colors for different PIs in most used hanzi list, automatically in KeyLevelViewController''s addKeyLevelButton.\n* Added alternative background colors in hanzi list for different pinyins automatically in KeyLevelViewController''s addKeyLevelButton. \n* Re-done the Dictionary Builder app and re-arrange the Most-Used Hanzi list.\n* List favor hanzis for each pinyin initials from GB2312 hanzis. The dictionary is much bigger now to 300KB.\n* Have to re-sign-in to enalbe the free apple ID to test on the devices.\nApple ID Account:   Wanlou Feng / ontpm@hotmail.com/RrrrWww*17/erhu+honda\nSite: https://appleid.apple.com/account/manage\n\n\n===========================================================\n===========================================================\n20170206-12:\n* Learned GIMP2.8  \n* Built 20 icons for toolbar buttons and used them properly. \n\n? Two background images for each tool bar button.\n? Add images onto the tool bar button and enable controls for that one and  only one button is highlighted at any time.\n? Code restructure and streamline.\n? MU hanzis\n? Favour HZs\n? HZ and PHs for each Pinyin.\n \n===========================================================\n===========================================================\n20170206 MON:\n? Two background images for each tool bar button.\n? Add images onto the tool bar button and enable controls for that one and  only one button is highlighted at any time.\n? Code restructure and streamline.\n? MU hanzis\n? Favour HZs\n? HZ and PHs for each Pinyin.\n \n===========================================================\n20170205 SUN:\n* Long time doing nothing. Finally did something.\n* Showing out the image onto tool bar buttons.\n\n# Have to add the image files into the X code project \n# [CAUTION] Have to set the target (group inside the xcode project) the image file to the right ones.\nOtherwise, UIImage(named: "img name") will return nil all the time.   \n# UIButton has two setting image functions: setBackgroundImage(UIImage, forState:) and setImage(UIImage, forState:).\nBackground image will be under the title and stretch it to fill the button''s frame, while image will cover the title and keep its size by setting the button''s frame to its own.\n# For some devices with retina display, 2x image must be set, otherwise nothing will be shown.\n \n===========================================================\n20170126\n* Close the DDBar store on bin press.com to make it unpublished. It is not easy to delete the store.\n* Removed the animation for returning to the top in clearKeyLevels in KeyLevelVC.\n----------------------------------------------------------------------------------\nFollowing Stages:\n\n? The phrases comes in not right order, currently in the order of their definition in the dictionary file. The order in the file should be adjustable to reflect their priority.\n? Dictionary Builder is key now. Separate the dictionary into a group of files, mainly for each py. \n? We might upload free version first and then proper one. Free one cannot edit ZiDian.\n----------------------------------------------------------------------------------\nFollowing Steps:\n\n? HZ is drawn too close to the bottom while all alphabets are OK in their text line.\n? Touch-over effects currently is a shadow, how about to change to a circle with different colours.\n? Initial status is empty, nothing was shown under toolbar. \n? Button width for pinyin of two characters are too small,  gaps should be added before and after.\n? ICONS on the buttons.\n? ICON for the whole application.\n? Click sound should be still enabled.\n\n----------------------------------------------------------------------------------\n* [DONE] How to specify language for keyboard extension. ZiDian05a is still being taken as English in IPAD.\nhttp://stackoverflow.com/questions/25791684/ios-8-custom-keyboard-change-language-in-setting-page\n\nChange setting PrimaryLanguage in info.plist with value <language>-<REGION>.\nSelect Open as source code. and then find PrimaryLanguage\n\nThe right values are defined in:\nhttps://opensource.apple.com/source/CF/CF-476.14/CFLocaleIdentifier.c\n\n"zh_CN",        //  52 verChina;             33 langSimpChinese;\n"zh_TW",        //  53 verTaiwan;           19 langTradChinese;\nmul will show "Multiple Languages"\n\n===========================================================\n20170125: \n\n* In KeyLevelViewController.s clearKeyLevels added codes returning vertical position to the top. And worked OK with animation. \n* The animation is slightly slow.\n===========================================================\n20161224 Sat\n* Bottom blinking issue was removed probably by setting paddingBottom to be zero, that is, no gap between scroll view''s bottom to main view''s bottom. \n* Relocate the shadow position around the key level.\n* Add toStay flag to key  level object to make character keyboard stay once a button is pressed.\n\n20161223 Fri\n* Merged number, alphabet and symbol into character key level for A9 button to choose.\n* Removed the beep for long press.\n* Key Level Button Width Calculation Issue: Button width is too small for PHs.  \nThe calculation based on font is actually right but the font size is setting 18 is too small in cell size of 50.  The small font size asked much less then minimal cell width 50 and so button was set with width = 50. After KeyLevelTextLayer''s draw method, the characters were enlarged to fit the height and so width is not enough any more.\n\nclass func getWidthForString(_ str: String) -> CGFloat {\n        if(str.characters.count>=2){}\n        \n        let attrs = [NSFontAttributeName: keyLevelfont]\n        let attributedString = NSMutableAttributedString(string:str, attributes:attrs)\n        return attributedString.size().width\n    }\n\n* From a stack overflow post, found viewDidLayoutSubviews could give the right size and tried it and worked perfectly. The rotation is quick and smoothy. GOOD.\n override func viewDidLayoutSubviews() {        \n        print("viewDidLayoutSubviews to \\(self.view.bounds.size.width) \\(self.view.bounds.size.height)")\n        self.resizeSubViews()\n    }\n\n* Screen rotation in viewWillTransition(to: size ...) could not give the right height after rotating back, even in the complete: closure. The reason is not known yet. \n* Found a pretty old sample to handle such issue with many observers for viewDidShow/Hide.... Not fully tried. The url is in code.\n* We can not add the Key level buttons onto the main view of the keyboard extension since we need a scroll view to hold them. \n \n\n\n20161213 TUE:\n\n? Screen rotation checking [Size''s height is not right in viewWillTransition(to)]\n\n* http://stackoverflow.com/questions/26943808/ios-how-to-run-a-function-after-device-has-rotated-swift\niOS: How to run a function after Device has Rotated (Swift)	\nThe viewWillTransitionToSize delegate method gets called with a UIViewControllerTransitionCoordinator conforming object. \nA method that protocol declares is animateAlongsideTransition(_:animation, completion:). You can use that to have code execute after the transition is complete.\n\noverride func viewWillTransitionToSize(size: CGSize, withTransitionCoordinator coordinator: UIViewControllerTransitionCoordinator) {\n    super.viewWillTransitionToSize(size, withTransitionCoordinator: coordinator)\n    coordinator.animateAlongsideTransition(nil, completion: {\n        _ in\n\n        // Your code here\n    })\n}\n\n* http://stackoverflow.com/questions/29242916/viewwilltransitiontosize-and-wrong-navigationbar-and-statusbarframe-heights\nUse the size in animation complete where the size will be right.\n\n(void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id<UIViewControllerTransitionCoordinator>)coordinator\n{\n    [super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n    [coordinator animateAlongsideTransition:^(id<UIViewControllerTransitionCoordinatorContext> context)\n    {\n          //update views here, e.g. calculate your view\n    }\n                               completion:^(id<UIViewControllerTransitionCoordinatorContext> context)\n     {\n     }];\n}\n\n* Codes from apple web site:\nhttps://developer.apple.com/library/content/samplecode/NavBar/Listings/CustomAppearance_CustomAppearanceViewController_swift.html\n @available(iOS 8.0, *)\n    override func viewWillTransition(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator) {\n        super.viewWillTransition(to: size, with: coordinator)\n        \n        // This works around a bug in iOS 8.0 - 8.2 in which the navigation bar\n        // will not display the correct background image after rotating the device.\n        // This bug affects bars in navigation controllers that are presented\n        // modally. A bar in the window''s rootViewController would not be affected.\n        coordinator.animate(alongsideTransition: { context in\n            // The workaround is to toggle some appearance related setting on the\n            // navigation bar when we detect that the view controller has changed\n            // interface orientations.  In our example, we call the\n            // -configureNewNavBarBackground: which reapplies our appearance\n            // based on the current selection.  In a real app, changing just the\n            // barTintColor or barStyle would have the same effect.\n            self.configureNewNavBarBackground(self.backgroundSwitcher)\n        }, completion: nil)\n    }\n    \n\n----------------------------------------------------------\n20161212 MON:\n* renew note:\n? Screen rotation checking [Size''s height is not right in viewWillTransition(to)]\n? Shadow to show touched key level [Background change is more desirable]\n? Clicking sound to tell a key level is selected. [Known the way to produce the sound]\n? Text length calculation[in KeyLevelVC or  in KeyLevelTextLayer] \n? Image buttons\n? Dictionary Compilation\n? Special KeyLevel Children re-definition: PI Favors, Most Used Hanzis, Alphabet/Numeric.\n\n\nIssues\n? Blinking at the bottom after installing on IPAD.\n? Slow to start\n? Text Quality is not good in CATextLayer''\n===========================================================\n===========================================================\n20161211 SUN:\n* Tested rotation detection on IPAD and found it is still giving wrong height in size in viewwillTransition(to: CGSize,...).\n* AudioSerivePlaySystemSound() worked now.\n \n20161210 SAT:\n\n* Start to add shadows\n** shadowOpacity = 0.5 in a non-init function inside KeyLevelTextLayer class will crash:\ninit(layer:) was not implemented. Sort of internal copy is required to change a attribute value?\nAdded self./super.shadowOpacity = 0.50, see the same crash.\n ** added the required init(layer) and solved the crashing issue.    \noverride init(layer: Any) {super.init(layer: layer} \n** Code is enough to show touched KeyLevels along touch movement. \n** Will change to change background to show potentially selected key levels.\n\n* Screen orientation detection:\n Used override in the KeyboardVC and worked in test on iphone6S.\noverride func viewWillTransition(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator) {\n        print("Transition to \\(size.width) \\(size.height)")\n}\nBut the size.height is smaller than available after rotating back to the normal. Leave it for iPad tests.\n\n** Tests on iPhone 5, rotation didn''t change the character orientation at all. So this is not a problem. \n\n*  Play Click Sound for custom keyboard:\n\n**      \nhttp://stackoverflow.com/questions/10299021/how-to-play-keyboard-click-sound-in-custom-keyboard\nHow to play keyboard click sound in custom keyboard?\n\n*** Way 1:  UIDevice.current.playInputClick()\nUse this method to play the standard system keyboard click in response to a user tapping in a custom input or keyboard accessory view. A click plays only if the user has enabled keyboard clicks in Settings > Sounds, and only if the input view is itself enabled and visible. \n\nTo enable a custom input or accessory view for input clicks, perform the following two steps: Adopt the UIInputViewAudioFeedback protocol in your input view class. Implement the enableInputClicksWhenVisible delegate method to return YES.\n\n*** way 2:  \n#import <AudioToolbox/AudioToolbox.h>\nAudioServicesPlaySystemSound(1104);\n\n** Worked way:\nimport AVFoundation\nlet systemSoundID: SystemSoundID = 1016\nAudioServicesPlaySystemSound (systemSoundID)\n\n* Set new goals into two groups: new Features and issues:\nNew Features\n? Screen rotation checking\n? Shadow to show touched key level\n? Clicking sound to tell a key level is selected.\n? Text length calculation\n? Image buttons\n? Dictionary Compilation\n? Special KeyLevel Children re-definition: PI Favors, Most Used Hanzis, Alphabet/Numeric.\n\n\nIssues\n? Blinking at the bottom after installing on IPAD.\n? Slow to start\n? Text Quality is not good in CATextLayer''\n\n* zdios06 worked on IPAD with some issues.\n\n\n20161209 FRI:\n# call removeFromSuperLayer() for each sub layer in self.view.layer caused crash for init(layer:) is not defined.\n# Hanzi selection point went wrong all the time.\n20161208 THU:\n\n20161207 WED:\n* Studied Shadow and animation.\n\n20161206 TUE:\n* zdios06 started to have aversion for IPAD, not iPhone.\n* Study CALayer and CATextLayer.\n\n20161205 MON:\n* Decided to simple zdios05 main view to have a iPAD version first.\n\n===========================================================\n20161204 SUN:\n* Further study the CALayer and prepare to use CATextLayer to be the KeyLevelButton. \n\n# CALayer has big set of functions: background, border, animation, shadow, enogh to be a key level button.\n# No direct way to vertically align text in the CATextLayer and have got a  sub class doing that beautifully.\n\n20161203 SAT:\n* Stopped the user interaction from KeyLevelButtons and Removed touche overrides from KeyLevelButtons.\n* Subclass UISCrollView to be a new KeyLevelView and overrides touches in the KeyLevelView to report to KeyLevelVC.\n* Redo a custom hitTest method to choose touched KeyLevel.  \n* Scrolling part in reportTouches in KeyLevelVC has been dsabled.\n* SCrolling is done using internal codes of UIScrollView and is very running smoothly.\n\n# If UIView''s subView''s isUserInteractionEnabled being false, hitText() will ignore it and so it cannot be touched.\n# UIView''s point(inside:CGPoint) will take point relative to its own coordinate system, not parent''s one.\n\n20161202 FRI:\n* [MILESTONE] Connected IPad from Xcode and install zdios05a and it worked OK with hanzis input into the text fields fine. But so it crashed for no warning message.\n\n? Problems:\n1> In KeyLevelViewcontroller, only touches on child keyLevelButtons will be reported to Commander.\nShould the touches on this view being reported here as well? These touches will not have a KeyLevel related.     \n2> Shaking when scrolling on the content view. Should we make all keylevelbutton not accepting user interactions? This way we''ll use scrolling mechanism from the UIScrollView itself.  \nScanning the codes and found no reason for that.\nMight be UIScrollView''s behaviors conflict against the codes there.\n3> Delay when finishing scrolling on the content view. To solve the issue, I have copied touchMoe codes into touchEnd part in commander. It looks this stopped the key level output.\nBetter to draw KeyLevelButton as UILayer only and so remove the scrolling codes here. This is a solution to 1, 2, and 3.\n4> Need to introduce a way to calculate the key level button sizes based on the content view size.\n\n20161201 THU: Keyboard Extesnion zdios05b is workable on the simulator in other applications.\n20161130 WED\n* ZiDianKeyboardExtension layout comes out OK. We''ll not use constraints to layout inside KeyboardExtension view. \n\n# NLLayoutConstraint can define constrains for Left,Right,Top,Bottom and Height. A height setting by constraint:\n\noverride func viewDidAppear(animated: Bool) {\n\n    let heightConstraint = NSLayoutConstraint(\n        item:self.view,\n        attribute:NSLayoutAttribute.Height,\n        relatedBy:NSLayoutRelation.Equal,\n        toItem:nil,\n        attribute:NSLayoutAttribute.NotAnAttribute,\n        multiplier:0.0,\n        constant:100)\n\n    self.view.addConstraint(heightConstraint)\n}\n\n# UIInputViewController, self.view.bounds/frame are zeros inside viewDidLoad. This is different from other UIViews.\nThe size is available in self.frame and self.bounds inside override func viewDidAppear(_ animated: Bool){}.\n\n20161129\n* Integrated zdios04 cods into a new keyboard extension as zdios5a and workable now and debugable but the layout is wrong.\n20161128 MON\n* Integrated zdios04 cods into a keyboard extension as zdios5. The keyboard extension can be selected and come out but cannot be debug.\n===========================================================\n===========================================================\n20161127 SUN\n* Worke out the way to commit files into remote git repository inside XCode.The file must be added into the project.\n20161126 SAT\n\n20161125 FRI \n? How to install app onto the devices and run from the device.\n? How to deploy and then submit app to Apple Store.\n? Tutorial Making. How to make gif file as Video. \n \n# Good guide: Steps for submission: \nhttp://clearbridgemobile.com/how-to-submit-an-app-to-the-app-store/\n\n20161124\n* Read through the UIView introductions in apple web site. But the info is not useful for the current project zdios.\n* At night, re-work the scrolling on KeyLevelVC and figuring out how to do it smoothly with touched KeyLevelButton going along with the finger.\n\n20161123\n* Studied some codes to highlight UIButtons and tried to find a way to highlight button that is ready to output.\nBut failed and decided not to carry on with it.\n* Added codes to react touch out events on the four toolbar buttons: \nCharacter: equivalent to Menu Button Number\nHanzi: equivalent to Menu Button PI.\n20161122\n* Achieved that all the three button types have been styled with background and border colour. \n* Achieved to locate all buttons in the popover view properly now. \n20161121-MON\n* WNBJS: Tested that try block around Ajax request in FolderFileCommands is working. When PHP session timed out, any calls to the commands will be directed to "location.reload()", that is, login.php page.  \n* Found even W3c has IME api specifications. \n* run ZiDianIMEDictionaryBuilder app and scan the codes for implemented functions on both job and home PC.\n** The VB version dictionary builder has still the full IME modes (Keyboard only, Keyboard + Mouse, Mouse only) implemented well. Good start point to have a product in Windows Store.\n** The C# version application can add phrase library file into the PyList dictionary, which is an XML file serialisable to Editor_PI/PY/HZ/PH object hierarchy.\n** The C# version application can compress PyList dictionary into string files for ZiDian IME Android project and then to zdios project.\n\n===========================================================\n20161118\n* WNBJs looks crashed, doing nothing after leaving for a while. Found actually the PHPSession is out and loginin.html page was returned to the Ajax calls raised from js client-side. Added js codes got the login page in responseText and treated as json object returned and so looks doing nothing. How to know the PHPSession is out and then jump to the returned login page? location.reload().\ntry{ var obj = JSON.parse(FolderFileCommander.getWNBServer(ffcModel).responseText); } catch(e) { location.reload();}\n* Reinforced UIScrollView codes to enable scrolling up and down and tested OK. the key level buttons in the view can still have user interaction enabled.   \n\n# Inside UIScrollView, button will catch touches and not pass them to the UIScrollView. But Labels don''t do it. Also user interaction disabled button won''t do it as well.\n  \n\n\n20161117\n* Added codes to limit scrollable Y range  and detect the long press and also detect tap on key level.\n\n20161114-15\n* Added UIScrollView.contentOffset to vertically scroll contentVC.view quite smoothly.\n \n20161112-13\n* Added report touches for KeyLevel View Controller and codes in commander and key levels are shown out now.\n* Added txtView to receive the output key level and key codes.\n* Replaced content view from UIView to UiScrollView [Not working yet.]\n? Multiple Touches Issues \n? Output key codes and special codes.\n? Long press detection\n? Curently only one key level can be selected each time and touch down and touch end must be on the same key level.\n? button border and button over effect around the border. This will replace the preview popup used in zdandroid.\n? Dictionary tuning\n? Move to keyboard extension (Joining Apple Programmes)\n? Market Prepartion (.gif video making).\n\n===========================================================\n===========================================================\n20161109-11:\n* [MILESTONE]Used isHidden and bringToFront has achieved open/close any popover view and sensing touch down at any and touch up at any for toolbar button and toolbar menu buttons.  \n\n# IOS: removeFromSuperView will make OUTLET sub view become nil for some reasons.\n# IOS: UIView.tag can be used to identify the subview.\n# IOS: UIView''s bringSubView toFront() is required to show a sub view out.\n# IOS: UIView.isHidden = true/false can be used to turn on/off a sub view.\n# IOS: For hitTest, UIView has two methods: \nhitTest() return deepest decedent UI view and \npoint(inside: ..) returning Bool to check if a point is inside a view.   \n \n\n20161108: \n* Made out the routine to return picked subviews in touch events by calling a common method in the super view controller from inside all the  subviews.\n\n20161107:\n* Decided to use a single VC and manually adding in views.\n* Removed multiple VCs and added view building codes.\n\n20161105-06:\n* Added didTap for all the button to bring out the popover views.\n* Work out the way to hitTest to find a sub view in deep level.\n* Created hitTest project to test touches and hit tests. \n\n# IOS: there is no way to send touches from sub view to super view. \n# IOS: Touches are always belong to the original sub view. There are no event round trip like tunnel and bubble.\n# IOS: Touches are the base for actions link touchInside / upIniside and up outside. etc.\n# IOS: Touch Up Outside: Touch inside a View and Quckly move out of the view and lift finger. touchUpOutside issued.\n  \n===========================================================\n20161103-04:\n* Built zdios03_MoreVC_NoPopover project to use multiple VCs, but not popover, to construct full UI.\n===========================================================\n20161101-02: \n* Start to implement the VC hierarchy for zdios project.\n* Building view with a VC hierarchy and popover view is only under child VCs, not UIKit''s popover views.\n* Integrate source files back to the Xcode project. \n\n# Xcode: found the way to integrate classes from existing files. Add-in Files, choose file or files, not folder. \n  \n===========================================================\n20161031-1101-1102: \nWorked out the way to use git repo to save notes inside dev02/php/wnbdata.\n*  Init git repo in the director.\n* Used PHP file to issue the git command to commit the current status. \n** create a sh file to run the sh file as executable from the php file\n** exec shell commands to commit the changes\n* Added commit.php in the directory and visit the php from index.php file at the top right corner.\n* work out the way to use time stamp to name the commits.\n\n\n# PHP: \nWay to find the run time errors:\nsudo cat /var/log/apache2/error.log\n\n# git: \nCAUTION: Have to add www-data as user to git repo if issuing git command from web page. \ngit config user.name "Billy Everyteen"\n//Didn''t find any email sent to the address and this step might be not necessary.\ngit config user.email "a@b.com" \n// Check new name\ngit config user.name\n                \n# git: \nNo command to streamline git repo in order to save disk space.\ngc looks like this but all the history is still kept.\nWays to remove history to start a new repo:\n1> Delete .git directory and init another one. Better copy contents to anther folder.\n2> git clone a branch into another location so only one branch in the repo.\n\n===========================================================\n20161031 MON: \nFound a heavy note data loss. Daily note from 20161025-30 have been lost due to unknown reasons. Decided to integrate git into wnbjs data folder.\n===========================================================\n', '2017-07-14 12:19:43');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(202, '', '', '201704-06:  ZiDian IOS Project\n--------------------------------------------------------\n20170629THR:\n* zdsrf is available on App Store now. No statistics data yet.\n--------------------------------------------------------\n20170628WED:\n* Test UIReferenceLibraryViewController with a small ios app and the output is actually a full html page saved in long description property.\nIt is not their purpose to be used as open dictionary.\n********************************************************************************************************************************\n* Be told the zdsrf has been made as Reay for Sale, and then being approved into App Store, waiting for 24 hours to be available.\n* Set zdsrf at USD$3. 18RMB YUAN. \n\n\n\n29/6: Checked it is in the App Store.\n28/6: Be told it is in Ready for Sale status and then approved to app store. \n26/6: Uploaded two app previews and being told the app is In Review.\n22/6: Submit for Review. \n12/6: Built  Release version and uploaded to my iTunes connect account. \n********************************************************************************************************************************\n--------------------------------------------------------\n20170627TUE:\n* Built a test ios app to show the UIDevice''s extension''s modelName and found the ios app running on Simulator returns ''Simulator" as model name. \nThis is why we saw 10 key level buttons in every simulator version. How can we change that? The returned for my IPad is ipad4. \nSo our version on sale will be right to choose number of key level buttons.\n* Unstoppable thinking about sell zdsrf to Apple. \n--------------------------------------------------------\n20170626MON:\n* Get around the audio issues by creating screen shot from iPad, not simulator.  Submitted two app preview from iPad at 900*1200 dimension.\n* Added TRUST Requirements sentence to support web and iOS app store page. \n* Added sentences to Apple in comments to reviewer for getting Zidian input method embed in each device sold in China.\n* Study the use of iOS dictionary service in UIReferenceLibraryViewController to be the source of the new dictionary. \nFound it looks that only definition for words are returned together in a formatted view. \nTo get all the phrases in the dictionary looks pretty hard.\n* As the first step to re-build dictionary, current Android version has a very long dictionary and we should build JSON dictionary definition from that and then loaded into ZDDictionary Builder web site.\n   \n--------------------------------------------------------\n20170625SUN:\n* Worked how to make mp4 app preview.\n\n# Create App Preview on iPad\n1> QuickTime Player > File > New Movie Recording > Small Pop-up > Bottom Button''s right side downward arrow > select the device > Device screen shown out.\n2> Click the bottom start button to start recording. Click the button again to stop.\n3> File > Save > a file location. Don''t export or share yet. (export or share could compress the sizes.)\n4> iMovie > Create a new Project > Import the QuickTime movie .mov file > drag the whole file down to bottom Frame area from media explorer.\n5> Hold-down left side of the frame strip to drag to right to change the speed to make the movie shorter than 30 seconds. And Hold-down mouse on some frames and then drag to form a range to delete frames.\n6> Go to Project tab > select the last project > click at bottom downward arrow > Share > App Preview > Preview size will be set correctly automatically.\nFor 5.5 inch like iPhone7 plus, the size should be 1080 * 1920. For iPad2, it is 900*1200. \n7> Sharing will be completed in a while and .mp4 file will be built. \n8> Drag the file onto iTunes connect account''s app page''s preview and screen shot area. \n\n# Create App Preview from Simulator:\n1> QuickTime Player > File > New Screen Recording > Small Pop-up > Click bottom Button > Click to record the whole screen or Drag out a rectangle. \n2> Button Start Record will come out, Click it to start record. Right-click the QuickTime icon in the quick launch bar at the screen bottom to select Stop... \n3-7> The same as the above. \n8> mp4 file built from simulator will be rejected by iTunes connect due to having audio but audio has no two channels, no surrounded. It is not easy to remove the Audio off the movie in .mp4 file. \nSo it is only possible to make app preview from iPad. \n     \n--------------------------------------------------------\n20170624SAT:\n* Added privacy Policy part into web.\n--------------------------------------------------------\n20170623FRI:\n* Things need to do:\nAppPreviews\nPrivacyPolicy\nTestFlight\nSupport web site building\nDictionary-Rebuilding\n* copy onto the support url.\n\n\n--------------------------------------------------------\n20170622THR:\n* Found and downloaded a few contact forms into the git1/tech folder. 	\n* Added paragraph of Installation and Activation of the app on the device. \n* Decided to submit the app for review. MILESTONE. As from apple itunes connect team, 90% App will be reviewed in 48 hours. Surprising.\n\n--------------------------------------------------------\n20170621WED:\n* Addedd in codes to return modelName using UiDevice extension and worked beautifully. \n* Further Calculate key level button min width and based on a new function in Configuration.\n* tested the new KeyLevel Button width in iPad9.7,iPad12 and iphone7 and iphone7plus. All looks OK. QUICK.  \n\n--------------------------------------------------------\n20170620TUE:\n--------------------------------------------------------\n20170619MON:\n* Study how to detect device type in iOS app. No easy way to do it.\n? The way to determine the minimum button width: Get device type into four set. scfreen.bound.width/10, 13,17,27.\n? button row height is set to be equal to minimum button width.    \n? try to Use UIDevice playInputClick() from our codes.\n  \n# UIDevice.model returns only IPhone or IPod etc. not very useful.\n#  https://stackoverflow.com/questions/4779221/in-iphone-app-how-to-detect-the-screen-resolution-of-the-device\n## \n// Normal Screen Bounds - Detect Screen size in Points.\nlet width = UIScreen.main.bounds.width\nlet height = UIScreen.main.bounds.height\nprint("\\n width:\\(width) \\n height:\\(height)")\n\n// Native Bounds - Detect Screen size in Pixels.\nlet nWidth = UIScreen.main.nativeBounds.width\nlet nHeight = UIScreen.main.nativeBounds.height\nprint("\\n Native Width:\\(nWidth) \\n Native Height:\\(nHeight)")\n\n\n## https://stackoverflow.com/questions/1365112/what-dpi-resolution-is-used-for-an-iphone-app\niPhones\niPhone 1/3G/3GS           320 x  480    163 ppi\niPhone 4/4S               640 x  940    326 ppi\niPhone 5/5C/5S            640 x 1136    326 ppi\niPhone 6/6S               750 x 1334    326 ppi\niPhone 6 Plus/6S Plus    1080 x 1920    401 ppi\n  Without downsampling:  1242 x 2208    461 ppi\n\nExcept for the 6th generation (= 5th) iPod touch,\nall the models are equal to their iPhone counterparts\n\niPads\niPad 1/2                  768 x 1024    132 ppi\niPad 3/4/Air/Air 2       1536 x 2048    264 ppi\niPad Mini 1               768 x 1024    163 ppi\niPad Mini 2/3/4          1536 x 2048    326 ppi\niPad Pro                 2737 x 2048    264 ppi\n\nApple Watches\nApple Watch 38 mm         272 x  340    326 ppi\nApple Watch 42 mm         312 x  390    326 ppi\n\nedited Nov 21 ''15 at 17:07\n\n## https://stackoverflow.com/questions/26028918/ios-how-to-determine-the-current-iphone-device-model-in-swift\n\npublic extension UIDevice {\n\n    var modelName: String {\n        var systemInfo = utsname()\n        uname(&systemInfo)\n        let machineMirror = Mirror(reflecting: systemInfo.machine)\n        let identifier = machineMirror.children.reduce("") { identifier, element in\n            guard let value = element.value as? Int8, value != 0 else { return identifier }\n            return identifier + String(UnicodeScalar(UInt8(value)))\n        }\n\n        switch identifier {\n        case "iPod5,1":                                 return "iPod Touch 5"\n        case "iPod7,1":                                 return "iPod Touch 6"\n        case "iPhone3,1", "iPhone3,2", "iPhone3,3":     return "iPhone 4"\n        case "iPhone4,1":                               return "iPhone 4s"\n        case "iPhone5,1", "iPhone5,2":                  return "iPhone 5"\n        case "iPhone5,3", "iPhone5,4":                  return "iPhone 5c"\n        case "iPhone6,1", "iPhone6,2":                  return "iPhone 5s"\n        case "iPhone7,2":                               return "iPhone 6"\n        case "iPhone7,1":                               return "iPhone 6 Plus"\n        case "iPhone8,1":                               return "iPhone 6s"\n        case "iPhone8,2":                               return "iPhone 6s Plus"\n        case "iPhone9,1", "iPhone9,3":                  return "iPhone 7"\n        case "iPhone9,2", "iPhone9,4":                  return "iPhone 7 Plus"\n        case "iPhone8,4":                               return "iPhone SE"\n        case "iPad2,1", "iPad2,2", "iPad2,3", "iPad2,4":return "iPad 2"\n        case "iPad3,1", "iPad3,2", "iPad3,3":           return "iPad 3"\n        case "iPad3,4", "iPad3,5", "iPad3,6":           return "iPad 4"\n        case "iPad4,1", "iPad4,2", "iPad4,3":           return "iPad Air"\n        case "iPad5,3", "iPad5,4":                      return "iPad Air 2"\n        case "iPad6,11", "iPad6,12":                    return "iPad 5"\n        case "iPad2,5", "iPad2,6", "iPad2,7":           return "iPad Mini"\n        case "iPad4,4", "iPad4,5", "iPad4,6":           return "iPad Mini 2"\n        case "iPad4,7", "iPad4,8", "iPad4,9":           return "iPad Mini 3"\n        case "iPad5,1", "iPad5,2":                      return "iPad Mini 4"\n        case "iPad6,3", "iPad6,4":                      return "iPad Pro 9.7 Inch"\n        case "iPad6,7", "iPad6,8":                      return "iPad Pro 12.9 Inch"\n        case "iPad7,1", "iPad7,2":                      return "iPad Pro 12.9 Inch 2. Generation"\n        case "iPad7,3", "iPad7,4":                      return "iPad Pro 10.5 Inch"\n        case "AppleTV5,3":                              return "Apple TV"\n        case "i386", "x86_64":                          return "Simulator"\n        default:                                        return identifier\n        }\n    }\n\n}\n\n## \nhttps://stackoverflow.com/questions/26028918/ios-how-to-determine-the-current-iphone-device-model-in-swift/27903805#27903805\nSome good samples like the above one.\n\n--------------------------------------------------------\n20170618SUN:\n* Really use Font Size in CATextLayer to change the text size on UI.\n* Use two set of configurationsettings.\n* Created zdsrf in the csserver003 for support URL.\n\n# mount bind directory on csserver003: admin001@csserver003:/var/www/html$ sudo mount --bind zdsrf /home/admin001/html/zdsrf \n# CATextLayer''s font object''s size is not useful at all. CATextLayer''s fontSize property really worked in changing text size on UI.\n# There are no easy or straightforward way to vertically put text line in the middle of CATextLayer''s client area.\n# CATextLayer''s border size really took space inside its client area from my experiments.\n--------------------------------------------------------\n20170617SAT:\n* Prepared gif for installation in Chinese Context by using Simulator(Edit>Copy Screen) and GIMP (Edit > Paste As New Image, new Frame).\n* Prepare screen shots image and text. \n--------------------------------------------------------\n20170616FRI:\n* Continue preparing the text for submission.\n--------------------------------------------------------\n20170615THR:\n* Decided to use old ZiDianInputTestApp.apk from Google Driv e folder on my mobile and installed so easily.\n* The input service worked with super large phrase library.\n* Recent_Used Hanzi funcgion worked so beautifully and it was a good invention.\n* FIRST TIME USE MY OWN METHOD and worked so well. Unbelievablly quick and easy.\n* Big chunk of texts for zidi input submission were saved into Gmail draft.\n\n--------------------------------------------------------\n20170614WED:\n* Found another Content.json is required in the parent folder xcassets folder of Appiconset folder. Added an empth one and solved the warning message.\n# Try to resolve the missing Content.json warning:\nhttps://stackoverflow.com/questions/41537644/how-to-include-app-icons-into-my-xcode-project\n\n--------------------------------------------------------\n20170613TUE:\n* Found my business register details: TFN: 890 905 063, ABN: 39 477 485 129. \n* Downloaded AUSKey but cannot be used. \n* Setup myGov account: fengwanlou@gmail.com ( RM618310) / RW17 pswd.\n* Link myGov account to ATO and then to Business Portal in ATO and got GST registered.   \n* Finish Agreements, Tax, and Bank part in my iTunes Connect account and got the contract from Apple.   \n** In US Tax Form WF_BZEN?, My Citizenship is shown as Australia and cannot be changed in any way in  just use it.\n** Bank account: BSB: 732090 - 586-765,  Mr. Wanlou Feng and Mrs. Ping Zhang. Character & can not be used in bank account name field.\n* Studied more for submission.\n* Try to upload build:\n** Warning: content.json cannot be found.\n\n  \n# url to iTunes for zdios:\nitunesconnect.apple.com/WebObjects/iTunesConnect.woa/wo/67.0.0.11.5.0.9.3.1.5.5.0.13.1.1.11.1.1.1.0.5\n# In Australia, you must have ABN and get GST registered before selling in App Store.\n# Everybody must fill out US Tax Form.\n\n--------------------------------------------------------\n20170612MON:\n* Built a new app icon (1024x1024) logo7  with GIMP: Filter > Map > Object > Sphere.\n* Use make app icon web site to get full set of icons for ios and android.\n* replace the app icons in the xcode project. APPIocn cannot be transparent.\n* Stated to build iTunes record for the zdios app.  \n--------------------------------------------------------\n20170611SUN:\n* Build three gif files to be tutorials by \n** using xCode simulator on device ipad 9.6 \n** GZPHIF > output gif file, each is 30 seconds long.\n** Open the gif file in Preview, select a frame, Edit, Copy.  \n** Open GIMP: for the first frame, Edit > Paste as > New Image, after the first one: Edit Paste as New Frame. \n** In GIMP, all the frames are ready, Filter > Animation > optimize for gif ....... duplicate part of the frames were removed.\n** In GIMP, export gif file as animation > 1500 milliseconds.\n\n--------------------------------------------------------\n20170610SAT:\n* Added more configurations setting and used them around codes. \n* Crashes on simulator since the old dictionary definition in swift source codes is still there 300KB together with the new one. So it might be too big for simulator.\n* Change the KeyLevel shadow to white and hover background into white. zdios keyboard UI looks better.\n* Failed to change key level button''s background and shadow for signaling long press, failed before. \nUI view''s Touch-Stationary event looks not raised at all. Give up it for now.\n\n--------------------------------------------------------\n20170609FRI:\n* Added new dictionary in swift source codes into the xcode project and see the new phrases coming out in the ios app. \nMILESTONE: js Dictionary Editor to zdios app is through now.\n\n* Learning Text View Controls. \nhttps://developer.apple.com/library/content/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/CustomTextProcessing/CustomTextProcessing.html#//apple_ref/doc/uid/TP40009542-CH4-SW1\n\n# IOS UIKit Text Controls  \n## To render text on the screen, there are four controls: UILabel(static texts), UI TextFiled(single line), UITextView(Generic edit-able, format-able ... ), UIWebView(html support).\n## UILabel, UITextFiled, UITextView are based on Text Kit in UIkit. Text Kit is based on Core Text, again on Core Graphics.\n## UITextView implemented all functions provided by Text Kit.\n\n# Primary Text Kit Objects: Inside UITextView, texts are shown in NSTextContainer, NSTextContainer instances are layout by NSLayoutManagers, and all characters \nand attributes defining how to render them are stored in UITextStorage.\n# NSTextContainer defines an area of any shape to hold texts, but can have NS Bezier Paths to exclude internal areas of any shape from showing text.\n# NSTextStorage holds characters, and attributes to describe how to render them onto the areas defined by NSTextContainer. \nNSTextStorage has a set of NSLayoutManagers.\n\n# NSLayoutManger receives user''s interactions and changes to the text and re-layout or redraw the texts.     \n--------------------------------------------------------\n20170608THR:\n* Browse Human Interface Guideline: https://developer.apple.com/ios/human-interface-guidelines/extensions/custom-keyboards/\n* Browse App extension Guideline: https://developer.apple.com/library/content/documentation/General/Conceptual/ExtensibilityPG/index.html\n* General Guideline: https://developer.apple.com/app-store/review/guidelines/\n\n# To play key stroke sound, playInputClick method of UIDevice.\n--------------------------------------------------------\n20170607WED:\n* On git1 prod/wnbjs/dev05/ Added sort to phrases under hanzi and phrases, shorter phrase comes first or on top.\n* In the same place, From JS ZD dictionary JSON file to export Swift Source File.\n* update index.php file to have new layout.  \n* Added method to build .swift dictionary source code file from json dictionary file maintained in js dictionary editor.  \n* Debug through the process from json dictionary to swift code inside zdios xcode project and new updated swift dictionary definition file worked OK now.\n? JSON Dictionary file lost last py hz in most used hanzi string and pi favors. This json dictionary definition file was produced by WPF HZ Editor app from PyList dictionary xml file.\n* Update the index.php in git1/prod/wnbjs/dev05/ to have a text area to output the dictionary definition in swift source codes.\n\n--------------------------------------------------------\n20170606TUE:\n--------------------------------------------------------\n20170605MON:\n* Fixed the bug that the first child phrase cannot be added under JSPhrae. The change is in M2ATreeVIew_Item''s syncSourceObject().\n* Updated notes.\n--------------------------------------------------------\n20170604SUN:\n* Made raw .gif files for teaching how to use zdios.\n* Used downloaded gif tool to capture from simulator window for ipad 9.7 1/4 screen size.\n* Used gimp Filter-Animation-Optimize for gif:  remove duplicate part between frames. But the number of frames was not reduced at all. It is not very helpful.\n\n--------------------------------------------------------\n20170603SAT:\n* The content view height updating is solved with Adding Constriants in didLoad, Update height calculation is didLayoutChildren and layoutIfNeeded in didAppear.\nMILESTONE. THE new app is fully working on IPAD without big issues.  \n\n--------------------------------------------------------\n20170602FRI:\n* New version zdios app started working on IPad and only issue is content view''s height is not updated after orientation is changed.  \n--------------------------------------------------------\n20170601THR:\n* Study the way to turn off auto indexing.\n* Restructured zdios Keyboard Extension source files. The codes has more concise structure.\n* Auto index was stopped by the new version of codes in keyboard extension.  \n\n  \n# https://stackoverflow.com/questions/13959709/stopping-xcode-from-indexing\n## defaults write com.apple.dt.XCode IDEIndexDisable 1\nTo turn it back on, run this:\ndefaults write com.apple.dt.XCode IDEIndexDisable 0\n## Further, try deleting the key.\nThis doesn''t seem to work for me in Xcode 5.1.Neither does it work in XCode6. \nXCode 6.x appears to override the value shortly after start up. \ne.g.: $ defaults read com.apple.dt.XCode IDEIndexDisable outputs 1, \nthen shortly after XCode starts up it outputs The domain/default pair of (com.apple.dt.XCode, IDEIndexEnable) does not exist \n## Add big binary files into a x code project, if xCode doesn''t know the file type, it will take oit as source file and start to indexing it.\n## Indexing is what allows Xcode to quickly remember what you have done. Turning it off will make it slightly harder to work with, but it improves loading time.\n\n# https://stackoverflow.com/questions/7328041/how-to-enable-indexing-in-xcode\n## defaults delete com.apple.dt.Xcode IDEIndexDisable\ndefaults delete com.apple.dt.Xcode IDEIndexEnable\n## Defaults are a name-value store per domain. \nThe setting''s domain here is com.apple.dt.XCode. \nThe setting''s name is IDEIndexDisable. \nYou set this to 1. To undo this, you need to remove the setting, not add another one with a different name.\n\n# https://stackoverflow.com/questions/24782721/xcode-swift-indexing-forever\n## Too many string concatenations in one line cause troubles. \n## An array adding 11 Constraints caused this issue.\n## A class inherit itself that causes the freezing.\n##   let objectA = ["text1", \n                 "text2", \n                 "text3", \n                 "text4"] }\n// Noise, CPU 100% and Index forever. The solution is...\nstruct Objects {\n    let objectA = ["text1,""text2,"text3","text4"]} \n--------------------------------------------------------\n20170531WED:\n* Continue to try to initialization of dictionary and got dead-lock from xCode. It goes to indexing for long time, endless actually. \n* Try to stop the auto indexing: \n** Failed: force quit xCode and re-open the project.\n** Failed: open other project and then re-open the project.\n** Failed: right-click .xproj file > Show Package Contents > Delete xcproject file(Deleted pbx project and being asked to return it back.) \n** This is stupid. Auto. indexing might be started in xCode by the files and their contents automatically under some conditions. \nIt could be stopped only by changing the source files.      \n--------------------------------------------------------\n20170530TUE:\n* Added codes to draw KeyLevels into the content view and they all comes out oK. \n* Added codes to have touch events on KeyLevel Buttons and also works fine.\n* We need to re-organize the code structure. \n--------------------------------------------------------\n20170529MON:\n--------------------------------------------------------\n20170527SAT-28SUN:\n* Figure out the zdios app crashing issue is rooted in the version of ios 10.3. There flexible height view''s constraints might be in conflicts easily without any explanations. \nApple compiler is very weak to crash easily without error messages.\n* have worked out the layouting tool bar and content view using layout rules. \n** "The 2nd component''s top binds to the 1st component''s bottom" doesn''t work -- crash without error message.\n** Have to layout children in didAppear event since there the self.view.frame.height is populated well.\n** It worked using constant height to the two views. The 2nd constant height is calculated from self.view.frame.height.      \n* Now the issue is initialization of HanziDictionary. It ends wuth realizeClass crash every time. The codes worked OK for long time before. ios 10.3 sucks. \n* Cannot debug codes into the iPAD after connecting it to xCode running on the MAC. \nBefore I expected it will much easier to program on the big screen. So disappointed and waste of time.\n \n# ios 10.3.2: It looks that adding subView using frame will crash in ios 10.3 every time. \n# ios 10.3.2: Conflicts between constraints are very often happened. \n# ios 10.3 constraints bug and issues:\nhttps://github.com/DimaVartanian/keyboard-extension-height-bug\n\n--------------------------------------------------------\n20170526FRI:\n* It is horrible to be delayed so long here by the error message when zdios custom keyboard is running on iPad. The error messages are relating with Constraints.\nActually we didn''t use constraints at all and all sub views are located manually. The problem must be solved before I can submit the app to the store.\n \n# Clear Constraints of UIView:\nimport UIKit\nextension UIView {\n\n    // Removes all constrains for this view    \n    func removeConstraints() {\n        let constraints = self.superview?.constraints.filter{\n            $0.firstItem as? UIView == self || $0.secondItem as? UIView == self\n        } ?? []\n\n        self.superview?.removeConstraints(constraints)\n        self.removeConstraints(self.constraints)\n    }\n// This will crash if your view has no superview in ''superview!''. Please wrap the part into an ''if let superview = superview''  \n\n## extension UIView {\n    func clearConstraints() {\n        for subview in self.subviews {\n            subview.clearConstraints()\n        }\n        self.removeConstraints(self.constraints)\n    }\n}\n//self.constraints only returns the constraints that self owns, not all the constraints that affect self.\n\n\n\n# CATextLayer vs UIView:\nCATextLayer is identical between ios and MAC OS. UIView has a root CALayer all the time.\nUIView is CocoaTouch class for mobile and a thin wrapper around CATextLayer. UIView added more user interactions and events. \nUIView drawing using UIKit but CALayer is drawing using CoreGraphics.\nThere are no much performance gain from using CALayer over UIView.  \nConstraints only work with UIView. Autoresizing is view-specific. layers don''t autoresize.\n\n\n# Search Web for Solutions: https://stackoverflow.com/questions/11664115/unable-to-simultaneously-satisfy-constraints-will-attempt-to-recover-by-breakin\n## Find the ids in error message and go to find the view elements in lower part of the xCode.\n## To let Error message more readable:\nset unique identifier for every constraint in your view in Document Panel of xCode.\nextension NSLayoutConstraint {\n\n    override public var description: String {\n        let id = identifier ?? ""\n        return "id: \\(id), constant: \\(constant)" //you may print whatever you want here\n    }\n}\n\n## Open story board in source code and search the UI elements and constraint appearing in error message.\n##  Xcode creates some constraints you don''t notice. You have to get rid of redundant constraints and the log warning will surely disappear.\n## view.translatesAutoresizingMaskIntoConstraints = false\n## myView.removeConstraint(theConstraint)\nmyView.superView.removeConstraint(theConstraint)\n##  uncheck AutoLayout in the Xib editor. \n## for(UIView *view in [self.view subviews]) {[view setTranslatesAutoresizingMaskIntoConstraints:NO];}\n## From iOS 8.0 by default views are size classes. Even if you disable size classes it will still contains some auto layout constraints.\n// Remove constraints if any.\n[self.view removeConstraints:self.view.constraints];\n## From \nSelect view (UILabel, UIImage etc)\nEditor > Pin > (Select...) to Superview\nEditor > Resolve Auto Layout Issues > Add Missing Constraints\n\n--------------------------------------------------------\n20170522MON:\n* tested the app on the MAc laptop and xCode must be update to support ios 10.3. and after updateing, zdios07 app start to crash with exactly the same error messages. \n--------------------------------------------------------\n20170521SUN:\n* learned how to make App ID, Add Device, Making Profile for Signing. It is not hard to deploy onto Apple Store now. \n* Still could not solved the crash problem on iPAD even using the paid developer membership. \nStill the same the app is only crash on iPAD, not on the simulator, nor on iPHONE7plus. \nThe problem could be iPAD was used to connect to the xCode in another iMAC machine. \nAnd configuration setting is tested on the old machine as well. Apple''s error message sucks.\n--------------------------------------------------------\n20170520SAT:\n* Decided and paid the many to developer membership to Apple. Waiting for the approval for the membership. The contact email is ontpm@hotmail.com, now with 17 version business password.\n--------------------------------------------------------\nBusy with Patient transport System Integration in Job.\n--------------------------------------------------------\n20170510WED:\n* The problem is not solved.\n* Search for solution for crashing on Devices but not on simulators.\n** http://stackoverflow.com/questions/9987192/xcode-will-run-app-on-simulator-but-not-on-device\npresent many causes and solutions: Checking Required Device Capability, Delete ~/Library/Developer/Xcode/DerivedData, \nClean Build under Product menu, iOS version checking, Check info.plist file, ...\n--------------------------------------------------------\n20170509TUE:\n* Continue to test build a new app from ZiDianKeyBoardExtension and still crash on the iPad but not on the simulator. It looks we have to pay a membership. \n--------------------------------------------------------\n20170508MON:\n* Organize the daily notes.\n* Manuscripts for apple store page.\n* Fixed bug that removal of the last child cannot be saved into file. That is, it will come back after reloading.  \n* Test a new app from existing codes but crash on iPAd not on simulators.\n\n\n--------------------------------------------------------\n201700506SAT-07SUN:\n* How to make .gif? Best way to teach how to use the method.\n* Download GIPHY for record a screen part into gif file. Use MAC OS Preview to delete or add in frames into gif file.\n* gif file is too large and no way to set slower frame rate. \n* Install GIMP and use it to edit gif file with exporting in different frame rate. \n** Open as Layers to open multiple view files to be layers.\n** Image > Mode > Index to use only 55 colors.\n** Filter > Animation > Optimize for gif to compress file(identical part of frame will not be duplicated). IMPORTANT.\n** Filter > Pyson - PH can add scripts to handle the frames inside the image files. This could be also very imnportant. \n--------------------------------------------------------\n20170505FRI:\n* Start to consider to make a new app after zdios07. How to layout the label in the screens?\n* Videos for constraints in interface designer.\n--------------------------------------------------------\n\n\n\n* PHP: session_start(); must be put in each file where $Session[] is used.\n* To show php error log.\nsudo cat /var/log/apache2/error.log\n* To clear php error log.\nsudo truncate -s 0 /var/log/apache2/error.log  \n\nActually, the second form touch filename doesn''t delete anything from the file - it only creates an empty file if one did not exist, or updates the last-modified date of an existing file.\n\nAnd the third filename < /dev/null tries to run filename with /dev/null as input.\n\ncp /dev/null filename works.\n\nAs for efficient, the most efficient would be truncate -s 0 filename; see here: http://linux.die.net/man/1/truncate.\n\nOtherwise, cp /dev/null filename or > filename are both fine. They both open and then close the file, using the truncate-on-open setting.  cp also opens /dev/null, so that makes it marginally slower.\n--------------------------------------------------------\n20170427THR:\n* Dictionary Editor Dev Page: wnbjs/dev04/lib/FolderFile/index.html are now quite stable.\n? Make a separate site for it outside wnbjs.\n\n@ PYList''s Mouse Only Mode can be migrated into mobile devices: horizontal list of vertical lists for ShengMu, PinYin, Hanzi,Phrase. \nIt could be easiest way to input. Dictionary editor is important fpor all these efforts.\n \n--------------------------------------------------------\n20170426WED:\n* Open file can only be CLOSED to re-start other commands.\n* Added canStart/canSumbit to stop commands when there is a open file: \n** Create Folder(new folder will be open automatically).\n** UpFolder/OpenFolder since it will change open directory making the file already opened lost when saving.\n** RootFolder is an openFolder command but cleared folder file model. It was stopped from view;Dictionary Editor View.\n\n\n--------------------------------------------------------\n20170425TUE:\n* Added canStart/canSumbit to stop commands when there is a open file:\nCreateFile since the new file will be open automatically.\nRenameFile stopped if to rename the open file.  \nDeleteFile stopped if it is the open file. \n--------------------------------------------------------\n20170424MON:\n20170423SUN:\n20170422SAT:\n20170421FRI:\n* Rewrite FolderFileCommands and debug and tested each of them.  \n\n# DryDock Concepts for Command in process for re-writing FolderFileCommand:\n## Command should be able to react to the following common messages:\nException: unexpected incidents \nError: expected errors in the process.\nTime-Out: waiting period can not be endless. length could be different for messages.\n## After issuing a message, command should know the message was handled or not by any other commanders.\nThe Messager can send such a notification back for this.  \n  \n--------------------------------------------------------\n20170420THR:\n* ProgressDialog was added and tested in PopUpDialog package.\n* ios swift test app:  downloaded a server file and saved onto client as local file using URLSession.\nBut now way to see the file from the device insie the simulator.\n\n? What is the identity of ios app to access a web server?\n? How to use Application Transfer Security > Exception Domains ?\n\n# How to find the local files on the device inside xCode simulator?\nHave to make ~/Library folder visible from Terminal with commnad: chflags nohidden ~/Library/ \nchflags hidden ~/Library/ will hide the folder as default.\nhttp://osxdaily.com/2011/07/04/show-library-directory-in-mac-os-x-lion/\n\n# URLSession can do downloading from server.\n# The server file must be granted with permissions. No idea of the identity used to access server file from ios app.\n# To save file locally, added into info.plist: Application Transfer Security: AllowArbitraryDownloads=true. \nThis setting works for the test app but too broad for a product. \nAnother possibility is adding Domain Exceptions but doesn''t work in the test app. We need to make it worked\n--------------------------------------------------------\n20170419WED:\n* Tested an ios test app using Sticker Pack app template and found it is iMesssge extension to add a set of images as stickers used into iMessage. \nThe template is aimed at very limited specific scenario.\n* Still use Single View Application template to start a new project to test for the goal: Downloading Dictionary from a URL into local file at the client device.\n* Recovered the knowledge developing in xCode using UIKit.\n* ios swift test app, LoadJsonFromLocalFile almost worked using JSONSerialization. Many settings mysterious in the codes. \n--------------------------------------------------------\n20170418TUE:\n* Introduced ConfirmFolderFileCommand to add another layer under FolderFileCommand in attempt to reuse common code blocks.\n--------------------------------------------------------\n20170417MON:\n* Introduced FolderFileCommand to add another layer under StepQueueCommand in attempt to reuse common code blocks.\n--------------------------------------------------------\n20170416SUN: \n* Download Adobe Bracket for MAC from brackets.io\n* Make alias for git1/2 etc on the desktop.\n* Restored the dev04 in bracket.\n* Find the codes to use new Drydock command to re-write PopUpDialog commander and tested OK.\n* Start to re-write FolderFileCommander file to reduce file lengths.  \n--------------------------------------------------------\n20170415SAT: Bought iMAC 27 inch and restored zdios07 project.\n* Use Apple ID ontpm@hotmail.com/R...W..*y7/Bankwest Master Card Used.\n* iMAC account: wanloufeng/Full Name: Wanlou Feng/Pswd: R...W..*y7.\n* iCloud will have 5gb space and desktop and document files will be added to iCloud automatically.\n* Download and install xCode.\n* Download and install Google Chrome from Google sites.\n* Download SourceTree for git client and set up Atlassian Account for using it. Five repo will be free.\nAtlassian account: rfeng@ymail.com/R...W..*y7.\n* Set up local repo for git1 and git2: using url=admin001@caringsoftware.com:/home/admin001/git1 at local folder: Home/Users/wanloufeng/git1\n\n\n# To access home directory: Open Finder window, Shift+ cmd+H\n# To acccess computer folder: cmd+shift+C in Finder window.\n\n--------------------------------------------------------\n20170412WED13THR:\n\nRewrite drydock_command.js file for Command, esp StepQueueCommand.\n\n# get/setHandler() to message any time. Message and Handler pair is not fixed anymore. \n# CommandStep was changed to have more messages to wait.\n# DefinitionArrray will simplifies the building of step queue commands. \n\n\n# Javascript Caution: for(var i in arrayInstance) ...\nfor(var i in this.commandSteps){			\n		var cs = this.commandSteps[i];\n		var cs1 = this.commandSteps[i+1]; //cs1 is returned as undefined.\n}	\nfor(var i=0; i< this.commandSteps.length; i++){	} // Should be used instead.\n\n--------------------------------------------------------\n20170411TUE:\n* \n\n# Codes to test that prototype''s data member is shared by the instance variables. \n# Insance vaiable''s hasOwnProperty(prototypeDataMemberName) will return false;\n\nfunction A() {}\nA.prototype.name = "Freddy";\nvar a = new A();\nvar b = new A();\nconsole.log(a.name); // Freddy\nconsole.log(b.name); // Freddy\nA.prototype.name = "George";\nconsole.log(a.name); // George\nconsole.log(b.name); // George\nconsole.log(a.hasOwnProperty("name")); // false \nb.name = "Chris";\nconsole.log(b.hasOwnProperty("name")); // true\nconsole.log(a.name); // George\nconsole.log(b.name); // Chris\n\n--------------------------------------------------------\n20170410MON:\n? Separate web site is required for Dictionary Editor.\n? To re-write M2ATreeView into DryDock Model.\n? To re-write commanders into a new code structure to use fixed steps. Current way is too complex.  \n\n* Fixed the bug that FolderFileView stops rendering from changed oinnerHTML. \nCause: Pointer variable to an HTML element might not point to the proper target element. \nSolution: Have to use document.getElementById() to refresh the pointers to the element after extensive updating innerHTMLs.\n\n* Fixed the Bug: PopUpDialog package added PopUp Dialog Element every time to the host element. Multiple <div>s were addded at the end.\nSolution: Check if the hpst element has got an element with such an Id first before appending one at the end.   \n\n* Bug: Sometimes the output files are cut short with loss of data. Found the cause:\nCAUSE: Clicked SAVE or SAVE AS and then quickly clicking refresh button in the browser and this caused file operation failed to complete.\nNo easy solution for this and might need some warning message pop-ups.\n\n# There are too long codes for validation in each command step''s handlers. \n## How about to add validation to the Message itself?\n## How about to remember Messages''parameters in a standard way, like something called execution context....? \n\n--------------------------------------------------------\n20170407-08-09SUN:\nFound Bug: FolderFileView stopped to redraw its view from changed innerHTML property after a pop-up is shown out. innerHTML was updated correctly from IDE. \nFound Bug: \n--------------------------------------------------------\n20170406-THR:\n* Fixed BUG: Last Phrase cannot be saved into dic.def.file. Cause: Space after last child PH was trimmed off when building content string under hanzi.\n* Fixed BUG: Delete children will not calling synchronizing tree item and underlying object structure, in this case, it is the dictionary structure.\n* Error message output in pop-up.\n* Fixed more bugs in JSDictionary hierarchy.\n--------------------------------------------------------\n20170405-WED:\n* Fixed Bug: Phrase under phrase cannot be added. Cause: In JSPhrase''s canBeNewChildPhrase(hzs): multiple characters in hzs was rejected. only one character is allowed. \n--------------------------------------------------------\n20170404-TUE:\n* Found why JSON.parse() failed half way:  \n** Copy the text out of the text area and then copy into Notpad++ and save it into RTF-8 encoding text file. Encoding applied for the reason that No hanzis can be shown out. \n** The encoding actually caused problems in JSON.parse() after the file content was down-loaded into the client side. Stopped at E8E1. \n** The solution is not apply the encoding, though the text is not readable in the Notepad++ window.\n** Now the revised dictionary can be saved into server file and down-loaded back in full shape.[MILESTONE].\n\n--------------------------------------------------------\n20170403-MON:\n* Found empty lines in dictionary editor tree after PH''child PHs and found the extra space characters in the dictionary definition file and fixed the bug.\n* Started to work towards loading/saving Revised dictionary definition json file from/to the Server. \n* Decided to use FolderFile package since it is ready to communicate with the server.\n* Renamed DictionaryBuilder into DictionaryEditor everywhere for confusion with ViewBuilder.\n* DictionaryBuilder is kept for backup and its index.html is working to allowing building revised dictionary from TextArea.\n* Created RequestFileContent, RequestSave/As commands to ask DictioanryEditorCommand to build the dic. def. string back to the FolderFile commands.\n* The revised dictionary file can be saved onto the server and loaded back but only half size. JSON.parse() issued a warning message " Invalid Token".\n\n20170402-SUN:\nChanged to output initial JS Object in JSDictionaryDefinition.js to json file and got good and smaller json string.  \nThen change the dictionary definition by adding in more phrases and the change go to run-time dictionary object: TheDictionaryObject.\nDeveloped builtTo....String methods to convert the TheDictionaryObject back to revised DictionaryDefinition object\nThen use JSON.stringfy() to output  DictionaryDefinition to text area and then copy into a local file and loaded it into memory again.\n[MILESTONE]ACHIEVED to Save Revised Dictionary Definition to Local File.\n\n20170401-SAT\nRe-visit DictionaryBuilder package, to use string to provide dictionary definition to dictionary builder, not js Object JSDictionaryDewfinition.js any more.  \nChange JSDictionaryDewfinition.js to define a string only and then use JSON.parse to get the Dictionary Object in run-time.\nFailed since the string is in wrong format some how with error message ''Invalid m ....'' \nChanged to use JSOM.stringfy() to output TheDicionaryObject into json into a textarea.\nFailed since the output is way too long including many properties, not relevant to dictionary definition.\n\n--------------------------------------------------------\n* TRICK:\ndisplay: table-row and height:0px; will make the element to take minimal but enough height. Tricky.\ndisplay:table-row; will expand to fit the content as high as it is required. Tested with filling innerText to a div.\n\n \n * TRICK: when user select the same item, a onchange event will be also launched.\n<select onchange="jsFunction()">\n<option value="" disabled selected style="display:none;">Label</option>\n<option value="1">1</option>\n<option value="2">2</option>\n<option value="3">3</option>\n</select>\n\nTRICK: Use this in onchange event listener to refer to the current target element:\n <select id="continent" onchange="countryChange(this);"> ...\nfunction countryChange(selectObj) { \n // get the index of the selected option \n var idx = selectObj.selectedIndex; \n // get the value of the selected option \n var which = selectObj.options[idx].value; \n .... }\n \n \n TRICK: Removal of all options in a select element. \n     while (this.clientSelectorElement.options.length > 0) { \n    	this.clientSelectorElement.remove(0); \n	}\n*/\n\n', '2017-07-14 12:21:41');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(203, '', '', '201707 Daily Notes ZiDian IOS and Android\n--------------------------------------------------------\n20170731MON:\n* logged in iclound and found only files can be downloaded onto PC.\n\n# URL to login iClound account: https://www.icloud.com/#.  icloud.com or www.icloud.com cannot be used.\n\n--------------------------------------------------------\n20170730SUN:\n--------------------------------------------------------\n20170729SAT:\n* It is so hard to gain on market, maybe a wrong way at all. To Freedom.\n* We have to start from being free. Have set adios 1.0 as free on market. Still need to update the descriptions.\n* download .zip file of an iOS keyboard sample in swift2 from https://github.com/archagon/tasty-imitation-keyboard.\n* Install it in the Document folder and open it in xCode 8.3.3 and get converted into swift3 syntax.\n* Fixed the errors and finally run the hosting application well. The keyboard is well presented and can be used in adios 2.0\n--------------------------------------------------------\n20170728FRI:\n--------------------------------------------------------\n20170727THR:\n--------------------------------------------------------\n20170726WED:\n* codestern.com has approved the DDBar and publish it almost immediately.\n* Build notes for submitting to codester.com. \n* Submited the ddbar to codester.com.\n* Added <php> block to track visits to ddbar on csserver003.\n\n# Linux mount bind html folders so Filezilla can deploynfiles to debar on csserver003.\n192-168-1-7:~ wanloufeng$ ssh admin001@caringsoftware.com\nadmin001@csserver003:~$ sudo mount --bind /var/www/html /home/admin001/html\n\n--------------------------------------------------------\n20170725TUE:\n* Found codester.com is active and it might be useful. It will be easy to submit ddbar to it.\n--------------------------------------------------------\n20170724MON: \n--------------------------------------------------------\n20170723SUN:\n--------------------------------------------------------\n20170722SAT: Sydney School band festival at Sydney Domain Sydney Conservatorium of Music.\n--------------------------------------------------------\n20170721FRI:\n--------------------------------------------------------\n20170720THR:\n* Thinking: Failed to sell and might need a revision to update the product.\n* Try to find a soft keyboard sample to give real English keyboard inside zdios product.  \n\n# Good sample for ios soft keyboard and swift: https://github.com/archagon/tasty-imitation-keyboard\n--------------------------------------------------------\n20170719WED:\n--------------------------------------------------------\n20170718TUE:\n* Found that it is perfect that using Google Auto Complete API to build zidian dictionary. Not that perfect, the phrases are too long often.\n# About Google Autocomplete API:\nhttps://stackoverflow.com/questions/6428502/google-search-autocomplete-api\n## http://suggestqueries.google.com/complete/search?client=firefox&q=YOURQUERY\n## http://suggestqueries.google.com/complete/search?client=chrome&q=YOURQUERY&callback=callback\n--------------------------------------------------------\n20170717MON:        \n* There are numerous web sites in China to sell Android apps.       \n--------------------------------------------------------\n20170716SUN:\n--------------------------------------------------------\n20170715SAT:\n--------------------------------------------------------\n20170714FRI:\n* Restructure git1 and git2 folder structure and backup ten/dev10 and prepare it for daily notes.\n* Backup the ttn db by exporting in sql into git1/prod/ttn/db_backup folder.\n\n--------------------------------------------------------\n20170713THR:\n* Debug to get page visit recorder works with record into page visit table in my sql db dbtools.\n\n# PHP Cautions:\n## // is not starting comment line. It will cause HTTP 500 Internal Error on the client side.\n## exit() cannot be called before any HTML text since it will terminate.\n \n--------------------------------------------------------\n20170712WED:\n* Retry to install phpmyadmin with apt-get -y update, apt-get -y install phpmyadmin, being told the phpmyadmin is installed already.\n* Defined the pagevist table in dbtools on locahost on csserver003.\n* Created gitignore file in ZiDianIME06 project.\n\n\n# How to create .gitignore file:\nCreate a text file, saved it to a.txt and then use terminal, goto the directory, cp a.txt .gitignore, rm a.txt.\nios Finder doesn''t allow to save as .gitignore as file name. . starts names for system file.\n\n# PHPMyAdmin on csserver003: url.com/phpmyadmin > root/fjxyymmdd > and get in.\n--------------------------------------------------------\n201707011TUE:\n* Failed to find the phpmyadmin and so try to install and failed using apt-get install php7.0. \n* Failed to set gitignore for android studio build folder.\n\n  \n--------------------------------------------------------\n20170710MON:\n* Try to implement simple js/php web page count and to create new tables and need phpmyadmin and so try to use  phpmyadmin.\n  \n* Update the support zdios web page.\nWe need a page count first.\nWe need a web page template.\nWe need a web page design: Personal Info, historical research, why English KeyBoard, Personal Tool Published, Promise to update, charge a small money for keeping updating effort.\nGif tutorials in the separate window.  \n\n? Build new version in zdandroid to be published.\n\n# PHP/MySQL Page Visitor Count:\n## http://code2paste.dominik0.net/posts.php?id=583ddd4a74f85: PHP - Page visitor counter with MySqL (count with userip)\nCreate a php code which is counting the visitors by ip adress.\n1. step: Create a mysql table:\nCREATE TABLE `pageview` (\n `id` int(11) NOT NULL AUTO_INCREMENT,\n `page` text NOT NULL,\n `userip` text NOT NULL,\n `year` int(11) NOT NULL AUTO_INCREMENT,\n `month` int(11) NOT NULL AUTO_INCREMENT,\n `day` int(11) NOT NULL AUTO_INCREMENT,\n PRIMARY KEY (`id`)\n) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=latin1\n\n2. step insert php code into HTML <head> tag:\ninsert databese password username and tablename, (you can change tha page name from "yourpage" to anything, but not needed.)\n<?php\n  $host="localhost";\n  $username="root"; //insert database username\n  $password=""; //insert database password\n  $databasename=""; //insert datbasename\n\n  $connect=mysql_connect($host,$username,$password);\n  $db=mysql_select_db($databasename);\n  \n  $year = date("Y");\n  $month = date("m");\n  $day = date("d");\n\n  // gets the user IP Address\n  $user_ip=$_SERVER[''REMOTE_ADDR''];\n\n  $check_ip = mysql_query("select userip from pageview where page=''yourpage'' and userip=''$user_ip''");\n  if(mysql_num_rows($check_ip)>=1)\n  {\n  }\n  else\n  {\n    $insertview = mysql_query("insert into pageview values('''',''yourpage'',''$user_ip'',''$year'',''$month'',''$day'')");\n  }\n?>\n\n3. step insert php code into HTML <body> tag.\nEcho the visitor count of the current year:\n<?php\n$result = mysql_query("SELECT * FROM pageview where page=''yourpage'' and year=''$year''");\n$num_rows = mysql_num_rows($result);\necho $num_rows;\n?>\nEcho the visitor count of the current month:\n<?php\n$result = mysql_query("SELECT * FROM pageview where page=''yourpage'' and year=''$year''" and month=''$month''");\n$num_rows = mysql_num_rows($result);\necho $num_rows;\n?>\nEcho the visitor count of the current day:\n<?php\n$result = mysql_query("SELECT * FROM pageview where page=''yourpage'' and year=''$year'' and month=''$month'' and day=''$day''");\n$num_rows = mysql_num_rows($result);\necho $num_rows;\n?>\nEcho the total count of visitors.\n<?php\n$result = mysql_query("SELECT * FROM pageview where page=''yourpage''");\n$num_rows = mysql_num_rows($result);\necho $num_rows;\n?>\n\n## http://talkerscode.com/webtricks/create-a-simple-pageviews-counter-using-php-and-mysql.php\n1> Two database table One is for storing the webpage name and IP Address and second one is for updating the total visits every time for a unique visitor. \n// pageview\nCREATE TABLE `pageview` (\n `id` int(11) NOT NULL AUTO_INCREMENT,\n `page` text NOT NULL,\n `userip` text NOT NULL,\n PRIMARY KEY (`id`)\n) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=latin1\n\n\n// totalview\nCREATE TABLE `totalview` (\n `id` int(11) NOT NULL AUTO_INCREMENT,\n `page` text NOT NULL,\n `totalvisit` text NOT NULL,\n PRIMARY KEY (`id`)\n) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=latin1\n\n2> PHP Codes\n<?php\n  $host="localhost";\n  $username="root";\n  $password="";\n  $databasename="sample";\n\n  $connect=mysql_connect($host,$username,$password);\n  $db=mysql_select_db($databasename);\n\n  // gets the user IP Address\n  $user_ip=$_SERVER[''REMOTE_ADDR''];\n\n  $check_ip = mysql_query("select userip from pageview where page=''yourpage'' and userip=''$user_ip''");\n  if(mysql_num_rows($check_ip)>=1)\n  {\n	\n  }\n  else\n  {\n    $insertview = mysql_query("insert into pageview values('''',''yourpage'',''$user_ip'')");\n	$updateview = mysql_query("update totalview set totalvisit = totalvisit+1 where page=''yourpage'' ");\n  }\n?>\n\n3> Insert to HTML page: \n<html>\n<head>\n</head>\n\n<body>\n  <?php\n    $stmt = mysql_query("select totalvisit from totalview where page=''yourpage'' ");\n  ?>\n\n  <p>This page is viewed <?php echo mysql_num_rows($stmt);?> times.</p>\n\n</body>\n</html>\n\n\n--------------------------------------------------------\n20170709SUN:\n* Update the description for zdios publishing site. Target aged users. WHY NO SALE IN THAT HUGE MARKET.\n--------------------------------------------------------\n20170708SAT:\n* Copy the old project dictionary in ZDAndroid project into new project git1/prod/zidian/zidian05 and found there are heaps of phrase libraries down-loaded there. \n* In git1/prod/zidian05, there is a wpf project try to insert new phrases into pylist dictionary.\n* Decided to do more into Andoir now. Leave the dictionary for a while.   \n--------------------------------------------------------\n20170707FRI:\n* Continue to build and debug json string from java definition of the dictionary.\n* Have got the dictionary from android java definition codes back to json object into a long string.\n* Then found the dictionary is actually the same with we had in zdios project. DISAPPOINTING.\n\n--------------------------------------------------------\n20170706THR:\n* On PC, installed gson from google to android Studio and run it to serialize the java dictionary into json string. Failed with Keep Stopping Error.\n* Have to write codes to build json dictionary from Android Java Dictionary Definition.\n* Summarized the format of dictionary definitions and start to build json string from java definition of the dictionary.\n\nZDAndroid Dictionary Java Def:\n	String most_used_py_hz_string="de,çš„,yi,ä¸€,shi,æ˜¯,le,äº†,wo,æˆ‘,bu,ä¸,ren,äºº,zai,åœ¨,ta,ä»–,you,æœ‰,zhe,è¿™,ge,ä¸ª,shang,ä¸Š,men,ä»¬,lai,æ¥,dao,åˆ°,shi,æ—¶,da,å¤§,di,åœ°,wei,ä¸º,zi,å­,zhong,ä¸­,ni,ä½ ,shuo,è¯´,sheng,ç”Ÿ,guo,å›½,nian,å¹´,zhuo,ç€,jiu,å°±,na,é‚£,he,å’Œ,yao,è¦,ta,å¥¹,chu,å‡º,ye,ä¹Ÿ,de,å¾—,li,é‡Œ,hou,åŽ,zi,è‡ª,yi,ä»¥,hui,ä¼š,jia,å®¶,ke,å¯,xia,ä¸‹,er,è€Œ,guo,è¿‡,tian,å¤©,qu,åŽ»,neng,èƒ½,dui,å¯¹,xiao,å°,duo,å¤š,ran,ç„¶,yu,äºŽ,xin,å¿ƒ,xue,å­¦,mo,ä¹ˆ,zhi,ä¹‹,dou,éƒ½,hao,å¥½,kan,çœ‹,qi,èµ·,fa,å‘,dang,å½“,mei,æ²¡,cheng,æˆ,zhi,åª,ru,å¦‚,shi,äº‹,ba,æŠŠ,huan,è¿˜,yong,ç”¨,di,ç¬¬,yang,æ ·,dao,é“,xiang,æƒ³,zuo,ä½œ,zhong,ç§,kai,å¼€,mei,ç¾Ž,zong,æ€»,cong,ä»Ž,wu,æ— ,qing,æƒ…,ji,å·±,mian,é¢,zui,æœ€,nv,å¥³,dan,ä½†,xian,çŽ°,qian,å‰,xie,äº›,suo,æ‰€,tong,åŒ,ri,æ—¥,shou,æ‰‹,you,åˆ,xing,è¡Œ,yi,æ„,dong,åŠ¨,fang,æ–¹,qi,æœŸ,ta,å®ƒ,tou,å¤´,jing,ç»,chang,é•¿,er,å„¿,hui,å›ž,wei,ä½,fen,åˆ†,ai,çˆ±,lao,è€,yin,å› ,hen,å¾ˆ,gei,ç»™,ming,å,fa,æ³•,jian,é—´,si,æ–¯,zhi,çŸ¥,shi,ä¸–,shen,ä»€,liang,ä¸¤,ci,æ¬¡,shi,ä½¿,shen,èº«,zhe,è€…,bei,è¢«,gao,é«˜,yi,å·²,qin,äº²,qi,å…¶,jin,è¿›,ci,æ­¤,hua,è¯,chang,å¸¸,yu,ä¸Ž,huo,æ´»,zheng,æ­£,gan,æ„Ÿ,";\n	String PI_a_favors="a,é˜¿,a,å•Š,ai,çˆ±,an,å®‰,an,å¹²,an,æ¡ˆ,an,æŒ‰,an,æš—,ao,å¥¥,";	\n	String a_content="a[å•Šé˜¿[çˆ¸ æ˜Œ æ‹‰ä¼¯æ•°å­— æ‹‰å–„ç›Ÿ é‡Œ å¦ˆ å§¨ ]å‘µå–å—„è…Œé”•éŒ’åŽ‘]";\n	String ai_content="ai[.....]";\n	''''''''''''''''''''\n	String zhuo_content="zhuo[æ‰[è¥Ÿè§è‚˜ æ‘¸[ .....";\n	\n	\nJSON Dictionary Format:\n{"most_used_hanzis":"...................",\n"favor_definitions":[{"pi":"a","pyhzs":"...."} .......],\n"shengmu_definitions":[\n{"pi":"a","pys":[{"py":"a","content":"......"},....]},\n{"pi":"b","pys":[{"py":"ba","content":"......"},....]},\n.....]\n}\n\nSWIFT Dictionary Definition:\nvar HanziDictionaryDefinition = {\n"most_used_hanzis" : "py1,hz1,....",\n"favor_definitions": [{pi: "a", pyhzs  :  "py1,hz1,...."}, .....], \n"shengmu_definitions":[\n{"pi":"a","pys":[{"py":"a","content":"hz[hz[]hz[hz[]]]........"}, ........ ]}, .............\n] }	\n\n--------------------------------------------------------\n20170705WED:\n* On home Mac, installed gson from goolge to android Studio and run it to serialize the java dictionary into json string. \nFailed with Keep Stopping Error.\n*  \n\n# To install Gson to Android Studio: \nAdd the next in the build.gradle file: \ndependencies { compile ''com.google.code.gson:gson:2.8.0''}\n--------------------------------------------------------\n20170704TUE:\n--------------------------------------------------------\n20170703MON:\n* No zdsrf statistics data yet.\n--------------------------------------------------------\n20170702SUN:\n* Open appannie.com account: ontpm@hotmail.com - R...W.. y17 paswd.\n* No statistics data yet.\n--------------------------------------------------------\n20170701SAT:\n--------------------------------------------------------\n20170630FRI:\n* Install Andoir Studio on home MAC properly and the first ZiDianIME05 old project and converted into ZiDianIME051 is working now.\n* Built Android project ZiDianIME06 for Zidian android in Android Studio.\n\n\n# Figure our how to allow switch(string){}, Android Studio > File > Project Setting > app > Properties > Source and target Compatibility > 1.7. \n\n', '2017-07-14 12:24:12'),
(204, '', '', '20170721 HTML/CSS Notes \n\n--------------------------------------------------------------------------------\nHTML:\nselector {property-value}\nselector can be\n<HTML element/tag>.class-name,<HTML element/tag>.class-name,...<HTML element/tag>.class-name\n<HTML element/tag>#id-value: Applied to the elements with the id vlaue only.\n<HTML element/tag>[attribute=value]: Applied to the elements with the attribute being the value only.\n<HTML element/tag> can be nothing, mening any html element or tag.\n{property-value} can be:\n{property:value;property:value;\n property:value;\n ....\n property:value\n}\nBox Model:\nAll HTML elements can be considered as boxes.\nAny elements in the four sides: from the outside to insdie:\nmargin,border,padding to content.\n<style type="text/css">\ndiv.ex{width:220px;padding:10px;border:15px solid gray;margin:20px;}\n</style>\n</head>\n<body>\n<div class="ex">The ....</div> \n--------------------------------------------------------------------------------\n* CSS Syntax is made up of three parts: a selector, a property and a value:\nselector {property:value}\nThe selector is normally the HTML element/tag you wish to define,\nthe property is the attribute you wish to change, and\neach property can take a value.\nThe property and value are separated by a colon, and surrounded by curly braces:\nbody {color:black}\n* Note: If  the value is multiple words, put quotes around the value:\np {font-family:"sans serif"}\n* Note: If you want to specify more than one property, you must separate each property with a semicolon.\np {text-align:center;color:red}\n* To make the style definitions more readable, you can describe one property on each line, like this:\np\n{\ntext-align:center;\ncolor:black;\nfont-family:arial\n}\n--------------------------------------------------------------------------------\nGrouping\nYou can group selectors. Separate each selector with a comma.\nh1,h2,h3,h4,h5,h6\n{\ncolor:green\n}\n--------------------------------------------------------------------------------\nThe class Selector\nWith the class selector you can define different styles for the same type of HTML element.\nSay that you would like to have two types of paragraphs in your document: one right-aligned paragraph, and one center-aligned paragraph. Here is how you can do it with styles:\np.right {text-align:right}\np.center {text-align:center}\nYou have to use the class attribute in your HTML document:\n<p class="right">This paragraph will be right-aligned.</p>\n<p class="center">This paragraph will be center-aligned.</p>\nNote: To apply more than one class per given element, the syntax is:\n<p class="center bold">This is a paragraph.</p>\nThe paragraph above will be styled by the class "center" AND the class "bold".\nYou can also omit the tag name in the selector to define a style that will be used by all HTML elements that have a certain class. In the example below, all HTML elements with class="center" will be center-aligned:\n.center {text-align:center}\nIn the code below both the h1 element and the p element have class="center". This means that both elements will follow the rules in the ".center" selector:\n<h1 class="center">This heading will be center-aligned</h1>\n<p class="center">This paragraph will also be center-aligned.</p>\nDo NOT start a class name with a number! This is only supported in Internet Explorer.\n--------------------------------------------------------------------------------\nAdd Styles to Elements with Particular Attributes: Html-tag[attribute=value]{...}.\nYou can also apply styles to HTML elements with particular attributes.\nThe style rule below will match all input elements that have a type attribute with a value of "text":\ninput[type="text"] {background-color:blue}\n--------------------------------------------------------------------------------\nThe id Selector #html-element-id-value{...}\nYou can also define styles for HTML elements with the id selector.\nThe id selector is defined as a #.\nThe style rule below will match the element that has an id attribute with a value of "green":\n#green {color:green}\nThe style rule below will match the p element that has an id with a value of "para1":\np#para1\n{\ntext-align:center;\ncolor:red\n}\n* Do NOT start an ID name with a number! It will not work in Mozilla/Firefox.\n--------------------------------------------------------------------------------\nCSS Comments /* xxxxxx */\n/*This is a comment*/\np\n{\ntext-align:center;\n/*This is another comment*/\ncolor:black;\nfont-family:arial\n}\n--------------------------------------------------------------------------------\n\n', '2017-07-21 05:02:24'),
(205, '', '', '20170726 Submission to Market\n-------------------------------------------------------\ncodester.com submission page: https://www.codester.com/upload/form/?category=43 \n1> Name & Description\n1.1> Name Maximum 50 characters. \n1.2> Short description Maximum 130 characters.\n1.3> Description\n1.4> Features, 1,2,3, ...\n1.5> Requirements 1,2,3, ...\n2.6> Instructions 1,2,3, ...\n1.7> Development time (hours)\n2> Files\n2.1> Icon 200 x 200px icon image (.JPG or .PNG)\n2.2> Preview Image 1600 x 800 preview image (.JPG or .PNG)\n2.3> Main file .ZIP file - Contains all files for buyers (don''t include screenshots etc).\n2.4> Screenshots .ZIP file with screenshot images\n\n3> Category & Attribute\n3.1> Files included\n3.2> Software versions \n3.3> Database \n3.4> HTML/CSS Framework \n\n4> Previews\n4.1> Demo URL\nDemo URL *Optional* link to a live preview on your own hosting (i.e. http://mysite.com/demo/).\n4.2> Video URL\nVideo URL *Optional* link to a video on Youtube (i.e. https://www.youtube.com/watch?v=hMP644ZBFsM).\n\n5> Tags\nMaximum of 15 keywords covering features, options, and style. Keywords should all be in lowercase and separated by commas. e.g. web template, photo gallery, dark, simple, real estate\n\n6> Message to reviewer \n6.1> Comments *Optional* - Anything you would like the reviewer to know before reviewing your item.\n6.2> Apply for free file of the week.\n6.3> Apply for flash sale\n6.4> Price\n\n7> Submit\n-------------------------------------------------------\n\n\n-------------------------------------------------------  ', '2017-07-25 22:58:32'),
(206, '', '', '20170726 DDBar Publish Page on BinPress.com.\n\n\nName: \nDraggable Divider Bar Javascript Package\n\nShort Description: \nDDBar package creates multiple partitions on a web page with horizontal or vertical divider bars, which can then be dragged to resize the partitions. Partition''s minimal size will be guaranteed and all other divider bars will be kept steady when one divider bar is moving.  \n\n\n-----------------------------------------------------\nbinpress publish page: Full html Page Source.\nhttp://www.binpress.com/user/products/edit/id/3990\n\n<!doctype html>\n<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->\n<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->\n<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->\n<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->\n<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->\n<head>\n			<meta charset="utf-8">\n	<meta name="google-site-verification" content="XzhxEv9n6_QIITfsjN1nNssRwvQ2stqTz70CuXeu-94">\n	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n	<meta name="HandheldFriendly" content="True">\n	<meta name="MobileOptimized" content="320">\n	<meta name="viewport" content="initial-scale=1.0; user-scalable=yes;">\n	<meta name="p:domain_verify" content="4fcf9878caa9f2ce8dbe0b8162fcb9c5"/>\n	<script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script><base href="http://ddbar.binpress.com/" />\n	<script>(function(H){H.className=H.className.replace(/\\bno-js\\b/,''js'')})(document.documentElement)</script>\n		<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/ui-lightness/jquery-ui.css" type="text/css" media="all" />\n		<link href="/min/?b=styles&amp;f=fonts/css/binpress.css,reset.css,prettify.css,store/main.css,store/form.css,themes/shared.css,themes/blocks.css,themes/footer.css,themes/code-library-purple/main.css&amp;v=b6bc77d" rel="stylesheet" type="text/css" /><link href="/min/?b=styles&amp;f=store/editor.css,themes/code-library-purple/product.css&amp;v=b6bc77d" rel="stylesheet" type="text/css" />	<!--[if IE 7 ]>\n	<link rel="stylesheet" href="styles/fonts/css/binpress-ie7.css" type="text/css" media="all" />\n	<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>\n	<![endif]-->\n	    	<link href="//fonts.googleapis.com/css?family=Exo+2:400,700italic,400italic,200italic,700,200|Oswald:300,400,700|Merriweather+Sans:400,700,300" media="screen" rel="stylesheet" type="text/css" >	<script type="text/javascript">var baseUrl ='''';</script>\n		<script type="text/javascript">(function(i,s,o,g,r,a,m){i[''GoogleAnalyticsObject'']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,''script'',''//www.google-analytics.com/analytics.js'',''ga'');\n\n	ga(''create'', ''UA-2024380-7'', ''auto'');\n	ga(''send'', ''pageview'');\n</script>	<link href=''//fonts.googleapis.com/css?family=Roboto+Condensed:400,300|Oxygen:300,400,700|Lato:300,400,700,900|Merriweather:300,400,700,900'' rel=''stylesheet'' type=''text/css''>\n	\n	<link href="https://plus.google.com/115913168422804876359" rel="publisher" />\n	<link rel="shortcut icon" href="http://ddbar.binpress.com/images/favicon.ico" type="image/x-icon">	<title>Draggable Divider Bar Javascript Package - DDBar</title></head>\n<body>\n    <div id="container" class="editable">\n				<div id="product">\n				<div id="product-header" class="block">\n		<div class="width">\n		\n		<a class="logo" href="/">\n					<em>DDBar</em>\n				</a>\n		<h1>Draggable Divider Bar Javascript Package</h1>\n<img class="thumb" src="images/products/3990/draggable-divider-bar-javascript-package-small.png" alt="" /><em class="subtitle">DDBar package creates multiple partitions on a web page with horizontal or vertical divider bars, which can then be dragged to resize the partitions. Partition''s minimal size will be guaranteed and all other divider bars will be kept steady when one divider bar is moving.  </em>\n<div class="buttons">\n	\n	<a class="button view-pricing" href="/#pricing">View Pricing</a>\n	</div>		<ul class="menu">\n			<li><a href="/#features-large9508">Benefits</a></li>\n		<li><a href="/#features9507">Features</a></li>\n				<li><a href="/#pricing">Pricing</a></li>\n				\n	<li><a href="https://ddbar.binpress.com/login">Client login</a></li>\n	<li><a href="contact">Contact Us</a></li>\n	</ul>	</div>\n	\n</div>\n			<div class="blocks">\n			<div class="block description first-content">\n	<div class="width">\n		<a name="description9506"></a>\n\n\n				<div class="gallery">\n\n			<ul class="thumbs">\n								\n<li attr-id="11630"class="selected">\n		<a href="images/stores/store42617/eight_layouts.jpg"><img src="images/stores/store42617/eight_layouts.jpg" alt="" /></a>\n		<em class="remove icon-trash"></em>\n	\n</li>\n<li attr-id="11631">\n		<a href="images/stores/store42617/six_pairs_styles.jpg"><img src="images/stores/store42617/six_pairs_styles-thumb.jpg" alt="" /></a>\n		<em class="remove icon-trash"></em>\n	\n</li>\n<li attr-id="11632">\n		<a href="images/stores/store42617/text_comparison.jpg"><img src="images/stores/store42617/text_comparison-thumb.jpg" alt="" /></a>\n		<em class="remove icon-trash"></em>\n	\n</li>\n<li attr-id="11633">\n		<a href="images/stores/store42617/image_comparison.jpg"><img src="images/stores/store42617/image_comparison-thumb.jpg" alt="" /></a>\n		<em class="remove icon-trash"></em>\n	\n</li>							</ul>\n			\n		</div>\n\n				<div class="content">\n			<h1>Unlimited Number of Draggable Divider Bars on a Single Page</h1>\n<h2><span style="text-decoration: underline;"><em><a title="DDBar Demo" href="http://caringsoftware.com/ddbar">Please visit here to run samples in demo version</a></em></span></h2>\n<p>DDBar package creates a horizontal or vertical divider bar into a HTML element to divide it into two partitions. User can use mouse to drag the divider bar to resize the partitions. More divider bars, in the same way or other way around, can then be nested into the partition elements. There is no restriction on the orientation of these divider bars with an endless combination of partitions, allowing you to easily customize your web site into a stunningly laid out masterpiece to stand out from the crowd.</p>\n<h2>Intricate Algorithms Ensure No Interference</h2>\n<p>Thanks to its intricate algorithm, DDBar can support an infinite array of divider bars on single web page. When a divider bar is dragged, it cannot eliminate or cross other divider bars meaning that all created partitions will be visible with their minimal size guaranteed and will stay inside their own border not intruding into others. Even more amazingly, though the moving divider bar is resizing its partition elements, divider bars inside the partition elements will react accordingly to keep their location steady on the screen.</p>\n<h2>Best Use of Today''s Huge Computer Screen</h2>\n<p>Armed with DDBar, you will have the ultimate power and competitive edge to fully utilize today''s huge computer screens and implement innovative and versatile web page layouts. DDBar gives your users the ability to view more content simultaneously on each page as well as easily locating areas of interest and allow for comparison without jumping between pages, thus substantially improving usability. DDBar is capable of expanding elements to take up large screen spaces and shrinking them to save screen space, giving you full control over how you display content. Due to the elimination of space restrictions, DDBar gives you the power to make the best of your screen space. Applying DDBar is more important to construct HTML5 single page web applications, allowing the web page to achieve as much usability as desktop applications.</p>\n<h2>Self-Contained Pure Javascript Package Easily Integrated with Other Packages</h2>\n<p>DDBar is not a jQuery plug-in and has no dependency on other third-party packages. Element IDs are required by the DDBar package for both existing element or element to be created. Only a limited number of properties will be changed for existing elements and created elements can be further handled outside DDBar package since you know all their id value. This will make integration with other packages or framework like jQuery straightforward, keeping any conflicts minimal.</p>\n<h2>One Line of Code to Divide HTML Element</h2>\n<p>DDBar can be implemented almost instantly on your web page, simply add two lines to include DDBar CSS and JavaScript files, and then a function call will create a divider bar that is ready to go. Even if JavaScript is not within your comfort zone, codes can be copied from the included sample web pages. A special sample web page presents code snippet for eight frequently-used page layouts having up to three divider bars.</p>\n<p>DDBar package has two functions: divideV and divideH, responsible for the creation of vertical and horizontal draggable divider bars, respectively. They both have the last argument to receive a setting object containing a collection of options for the divider bar and partition elements. In your javascript codes, you create divider bars by calling these functions. The next line will vertically divide element with id=''area'' into two partition elements with id=''left'' and id=''right''.</p>\n<pre style="width: 600px;">DDBar.divideV(''area'',''left'',''right'');\n</pre>\n<p>With the next two lines, you can further vertically divide element with id=''left'' into two partition elements with id=''left1'' and id=''right1'' and horizontally divide element with id=''right'' into two partition elements with id=''rightTop'' and id=''rightBottom''.</p>\n<pre style="width: 600px;">DDBar.divideV(''left'',''left1'',''right1'');\nDDBar.divideH(''right'',''rightTop'',''rightBottom'');</pre>\n<h2>Include Many Samples and User Guide</h2>\n<h2 style="background-color: #ffffff;"><span style="text-decoration: underline;"><em style="font-size: 21.3333px;"><a style="font-size: 21.3333px;" title="DDBar Demo" href="http://caringsoftware.com/ddbar">Please visit here to read User Guide and run samples in demo version</a></em></span></h2>\n<div id="blockLinks" class="topCell">\n<ul style="list-style-type: circle;">\n<li><a href="http://caringsoftware.com/ddbar/demo_eight_layouts.html">Eight frequently used web page layouts with up to three divider bars</a><br />\n<p>Each layout works independently in its own container. You can drag divider bars in each of them. Divider bars in all of them are in the same style.</p>\n</li>\n<li><a href="http://caringsoftware.com/ddbar/code_eight_layouts.html">Codes for eight frequently used web page layouts</a><br />\n<p>Code lines have been shown for each of the eight frequently used web page layouts. Divider bars are in different styles.</p>\n</li>\n<li><a href="http://caringsoftware.com/ddbar/six_text_comparison.html">Five divider bars to six partitions for text comparisons</a><br />\n<p>You can drag the divider bars and the scroll bars of the partition elements to show exactly what you want to compare.</p>\n</li>\n<li><a href="http://caringsoftware.com/ddbar/six_image_comparison.html">Five divider bars to six partitions for image comparisons</a><br />\n<p>You can drag the divider bars and the scroll bars of the partition elements to show exactly what you want to see.</p>\n</li>\n<li><a href="http://caringsoftware.com/ddbar/predefined_styles_at_two_sides.html">Six predefined divider bar styles shown in two groups on two sides</a><br />\n<p>There are six pair of predefined divider bar styles. All the styles, both horizontal and vertical, are used with 12 divider bars on this page. They all work without interfering each other proving the strength of internal logics.</p>\n</li>\n<li><a href="http://caringsoftware.com/ddbar/predefined_styles_in_pairs.html">Six predefined divider bar styles shown in pairs</a><br />\n<p>All the predefined styles, both horizontal and vertical, are used with 6 pairs of divider bars on this page. They all work without interfering each other proving the strength of internal logics.</p>\n</li>\n</ul>\n</div>\n<p>&nbsp;</p>\n<pre style="width: 600px;">&nbsp;</pre>		</div>\n	</div>\n</div><div class="block features-large width" >\n	<a name="features-large9508"></a>\n	<h2>Benefits</h2>\n	<div class="list">\n		<ul>\n<li>Multiple and nested divider bars</li>\n<li>Unrestricted horizontal and vertical partitions</li>\n<li>Best use of screen space</li>\n<li>Easy comparison of content</li>\n<li>View more information on one web page</li>\n<li>Enhanced usability - no longer jump between pages</li>\n</ul>	</div>\n</div><div class="block features">\n	<div class="width">\n		<a name="features9507"></a>\n		<h2>Features</h2>\n		<div class="list">\n		<ul>\n<li>Custom styles for divider bars</li>\n<li>Hassle free and simple integration with other frameworks</li>\n<li>No dependence on third party frameworks</li>\n<li>Strong quality of codes</li>\n<li>Well documented user guide</li>\n<li>Large set of samples</li>\n<li>Support all major browsers</li>\n</ul>\n<p>&nbsp;</p>		</div>\n		<div class=''clear''></div>\n	</div>\n</div><div class="block pricing">\n	<a name="pricing"></a>\n	<div class="width">\n		<h2>Pricing</h2>\n								<div class="money-back">\n\n				<h3><span class="money-back-value">14 day</span> 14-day money-back guarantee</h3>\n\n			</div>\n						<div class="licenses">\n				<div class="license">\n	<div class="head">\n				<h5>$139.99</h5>\n		<h4>Hosted License</h4>\n	</div>\n		<ul>	\n			<li title="License does not expire.">\n			<p>Perpetual license</p>\n		</li>\n			<li title="Can be used on 1 site, unlimited servers">\n			<p>1 site, unlimited servers</p>\n		</li>\n			<li title="Source-code or binary products cannot be resold or distributed">\n			<p><b>No distribution</b> (hosted use only)</p>\n		</li>\n			<li title="Commercial use allowed">\n			<p>Commercial use</p>\n		</li>\n			<li title="6 months support through the provided issue tracker">\n			<p>6 months support</p>\n		</li>\n		</ul>\n		<div class="license-pricing">\n					<a class="purchase" rel="nofollow" href="https://ddbar.binpress.com/cart/add/id/7286" title="Purchase Now">purchase now</a>\n						<a class="read_license icon-doc-text" rel="nofollow" href="license/read/id/7286" title="Read full license">Read Full License</a>\n	</div>\n</div><div class="license most-popular">\n	<div class="head">\n					<h6>Most Popular</h6>\n				<h5>$489.99</h5>\n		<h4>Developer License</h4>\n	</div>\n		<ul>	\n			<li title="License does not expire.">\n			<p>Perpetual license</p>\n		</li>\n			<li title="Can be distributed in unlimited projects">\n			<p>Unlimited projects</p>\n		</li>\n			<li title="Can be distributed and / or packaged as a code or binary product (sublicensed)">\n			<p>Can distribute <b>code</b> and <b>binary products</b></p>\n		</li>\n			<li title="Commercial use allowed">\n			<p>Commercial use</p>\n		</li>\n			<li title="6 months support through the provided issue tracker">\n			<p>6 months support</p>\n		</li>\n		</ul>\n		<div class="license-pricing">\n					<a class="purchase" rel="nofollow" href="https://ddbar.binpress.com/cart/add/id/7287" title="Purchase Now">purchase now</a>\n						<a class="read_license icon-doc-text" rel="nofollow" href="license/read/id/7287" title="Read full license">Read Full License</a>\n	</div>\n</div>			</div>\n\n						<div class="custom-services">\n				<em>Need custom services for this product?</em>\n				<a class="contact-services hollow-button">Get a quote</a>\n			</div>\n			\n			</div>\n</div><div class="block clients-testimonials width">\n	<a name="testimonials"></a>\n	</div><div id="edit-controls">\n	<div class="width">\n		<div class="buttons">\n			<a class="template" href="user/design/theme">Change Store Template</a>\n				<a class="edit" href="/?edit=on">Edit</a>\n				<a class="settings" href="user">Settings</a>\n		</div>\n		\n					<span class="current-store">DDBar</span>\n							<span class="status">Unpublished</span>\n			</div>\n</div>\n<div id="block-preview" class="width">\n	<div class="actions">\n		<a class="close icon-cancel"></a>\n		<span class="arrows" attr-focus="1">\n			<a class="icon-angle-left left"></a>\n			<a class="icon-angle-right right"></a>\n		</span>\n		\n		<a class="pick-block button">Add this section</a>\n	</div>\n	<div class="scroller-width">\n		<div class="scroller">\n\n		</div>\n	</div>\n</div>			</div>\n				</div>\n				<div id="footer-push"></div>\n    </div>\n	<div id="footer" class="block" attr-content="9509" attr-block="8">\n	<div class="width">\n		<div class="contact" id ="contact">\n			<h3>Contact Us</h3>\n			<form method="post" action="contact">\n				<input type="text" class="text" placeholder="Your Name" name="name" />\n				<input type="email" class="text" placeholder="Your Email" name="email" />\n				<textarea rows="4" cols="60" name="content" placeholder="How can we help you?"></textarea>\n				<button type="submit">send message</button>\n			</form>\n		</div>\n		<h3>About Us</h3>\n		\n		<div class="content">\n			<p>I have been programming for decades and love algorithm design upon my mathematical background. Though started from IBM mainframes, my recent interests have come along to javascript applications for HTML5 technology.</p>		</div>\n				<div id="footer-bottom">\n			\n			<ul class="menu">\n			<li><a href="/#features-large9508">Benefits</a></li>\n		<li><a href="/#features9507">Features</a></li>\n				<li><a href="/#pricing">Pricing</a></li>\n				\n	<li><a href="https://ddbar.binpress.com/login">Client login</a></li>\n	<li><a href="contact">Contact Us</a></li>\n	</ul>			\n			<a class="powered-by" href="http://www.binpress.com" title="Powered by Binpress">Powered By </a>\n		</div>\n	</div>\n</div>	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>\n<script>!window.jQuery && document.write(''<script src="js/jq/jquery.min.js"><\\/script>'')</script>\n<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>\n<script>!window.jQuery.ui && document.write(''<script src="js/jq/jquery-ui.min.js"><\\/script>'')</script>\n<script type="text/javascript" src="/min/?b=js&amp;v=b6bc77d&amp;f=binpress.js,media.js"></script>\n<script type="text/javascript" src="/min/?b=js&amp;v=b6bc77d&amp;f=prettify/prettify.js,store/main.js,jq/jquery.scrollTo.min.js"></script>\n	<script type="text/javascript">\n  maxmind_user_id = "62188";\n  (function() {\n    var mt = document.createElement(''script''); mt.type = ''text/javascript''; mt.async = true;\n    mt.src = (''https:'' == document.location.protocol ? ''https://'' : ''http://'') + ''device.maxmind.com/js/device.js'';\n    var s = document.getElementsByTagName(''script'')[0]; s.parentNode.insertBefore(mt, s);\n  })();\n</script>\n	<script type="text/javascript">if(!NREUMQ.f){NREUMQ.f=function(){NREUMQ.push(["load",new Date().getTime()]);var e=document.createElement("script");e.type="text/javascript";e.src=(("http:"===document.location.protocol)?"http:":"https:")+"//"+"js-agent.newrelic.com/nr-100.js";document.body.appendChild(e);if(NREUMQ.a)NREUMQ.a();};NREUMQ.a=window.onload;window.onload=NREUMQ.f;};NREUMQ.push(["nrfj","bam.nr-data.net","7d8608a34f","3053298","YFdVYEsAVxdYAhAICVkddldNCFYKFhIQDhRSHV5aXQRBS1APAAQe",0,193,new Date().getTime(),"","","","",""]);</script></body>\n</html>\n-----------------------------------------------------', '2017-07-26 03:57:06'),
(208, '', '', '201708 Daily Notes DDBar, ZiDian ios/Android\n-----------------------------------------------\n-----------------------------------------------\n20170831THR\n\n* git2/prod/ZiDianIME06 is workable only.\n\n* git2/prod/ZiDianIME02 has also kept the English Keyboard but it cannot be imported in Android Studio.\nIt has no main activity at all and has no proper implementation of Chinese Keyboard. \n\n* git2/prod/ZiDianIME01 has an English keyboard implemented already.That one is identical to the soft keyboard sample. \nImport ZiDianIME01 into Android Studio and Compiled OK but the method cannot be started.\nIt has no main activity at all and has no proper implementation of Chinese Keyboard.\n\n* git2/prod/zidian_android/ZiDianIME07 is actually a empty new app showing Hello World" only. It is the new beginning project.     \n\n* git2/prod/zidian_android/ZiDianIME06 looks being converted from ZiDianIME05. It is working with doing some tests to showing Json String in a text view control.\n\n* Soft Keyboard sample is actually quite involved, more than its index.html file said. It has IME preference UI containing only on field. Its preview block is also quite good.  \n\n* Turned on to Android English Keyboard\n** Copy soft keyboard sample into the local file and covert to Gradle project in Android Studio.\nhttps://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard#\n** No Default Activity Error\n** Menu File > Invalidate Cache/Reset didn''t solve the error.\n** Tool > Android > Sync Project with Gradle ... didn''t solver the problem.\n** Added category tag under the action tag solver the error.\n<action android:name="android.intent.action.MAIN"/>\n<category android:name="android.intent.category.LAUNCHER" />   \n\n\n\n# Android: Don''t forget add in the next line under the action tag for the Main Activity after convert Eclipse Android Project to Gradle Project.  \n<category android:name="android.intent.category.LAUNCHER" />   \n\n# How to Import ADT projects into Android Studio: \nDELETE all file other than folder res,  folder src and AndroidManifest.xml.\nOtherwise, huge new project (40MB) will be built similar to the old ADT project.\nThis might not the right thing to do since the result project didn''t work properly.\n \n-----------------------------------------------\n20170830WED\n\n* Continue with zdios11_English Keyboard coding: \n** Keyboard Definition classes coded\n** Defined default keyboard with four pages.\n** Added KeyView and KeyboardView\n** In Keyboard View, create and layout all keys for a Keyboard definition\n** Keyboard Definition File compiled OK now.\n\n-----------------------------------------------\n20170829TUE\n* Accidentlly issue git reset --hard and lost all the samples from youtube videos.\n* started KeyboardKey.swift coding. Imitation-tasty ios keyboard sample has introduced caps on each Key, which is not necessary.\n-----------------------------------------------\n20170828MON\n* Watch youtube videos for iOS swift:\n** Store data using User.Default\n** Use Core Data\n-----------------------------------------------\n20170827SUN\n* Watch youtube videos for iOS swift:\n** Child VC and Seque\n** Navigation Controller\n** TableView and TableViewCell\n** TableView and VCs from TableViewCell\n** Gesture Recoganiser\n# Used Rotate/Pan/Pinch \n# Sample using UIImage and UIImageView\n** Store data using User.Default\n# in viewDidLoad to retrieve saved settings, not in viewDidLoad.\n# Use if let s = .... as? String {}\n** Use Core Data\n-----------------------------------------------\n20170826SAT\n* Found that Apple iOS has extension for photo editing and I have previous project ready for that purpose:\n** Color Evolver\n** Orthogonal Images \nThis will be the next projects. I''m sure Android has the same mechanism for extensions. GREAT.\n\n-----------------------------------------------\n20170825FRI\n-----------------------------------------------\n20170824THR\n-----------------------------------------------\n20170823WED \n-----------------------------------------------\n20170822TUE\n* ZDIOS2 View Design \n* Sync the git reporsitories from job to home to server.\n-----------------------------------------------\n20170821MON\n* Considering design for new version of zdios.\n-----------------------------------------------\n20170820SUN\n-----------------------------------------------\n20170819SAT\n* Tested ios Navigation Controller on Test Project TestApp002.\n-----------------------------------------------\n20170818FRI\n* Tested calling rootFolder message to init UI. After partitioning children will take folder path from the parent partition.\n* Sync the home MAC git1/git2 with csserver003 git1/git2/\n-----------------------------------------------\n20170817THR\n\n* Multiple Window WNBJS Tool App: \n** This app will use DDBar recursively and wnb library.\n** Copy from git1/wnbjs/dev02/ into git1/mwnb/dev01. \n** Publish tool app mwnb (Multiple WNBJS) on csserver003 from git1/mwnb/dev01 \n** Fixed the bug that no login page comes out. \n\n# Linux\ncp -R oldDir/* newDir/*\ncp filename* newDir\nmount -bound oldDir newDir\nmv oldDir newDir to rename dirs. \n\n# PHP: \nheader("location: php/login.php"); //Doesn''t work.\nheader("location:./php/login.php"); //Does work.\n\n-----------------------------------------------\n20170816WED\n-----------------------------------------------\n20170815TUE\n* Watch you-tube for iOS Navigation Controller.\n-----------------------------------------------\n20170814MON\n-----------------------------------------------\n20170813SUN\n* Create zdios11 project to develop English Keyboard first.\n* We are going to create a new set of codes with all the functionalities. \n* First to collect the functions a common keyboard should have.\n \n# A good series of tutorials for iOS: http://tutlane.com/tutorial/ios from Khawar Islam. The site can be a good template for a web blog.\n-----------------------------------------------\n20170812SAT\n* DO NOT CHANGE DIRECTION NOW. KEEP ZDIOS. Decided to work on English Keyboard for iOS.\n-----------------------------------------------\n20170811FRI\n* codester.com is active and showing the DDBar and no prospect for a profit at all. We should change to make free version to seek reputation only.\n* It is very hard to earn in this way.\n# Found two github project are of the same codes for soft keyboard sample in swift.\nhttps://github.com/jeesmon/varamozhi-ios/tree/master/varamozhi\nhttps://github.com/archagon/tasty-imitation-keyboard.   This looks original.\n\n-----------------------------------------------\n20170810THR\n-----------------------------------------------\n20170809WED\n* Scanned the tasty-imitation ios soft keyboard sample codes for drawing Key Preview Popup, Shapes, etc. \n* Found and download Android sample NotePad into git2/tech/android/sample_NotePad.\n* The NotePad sample involves SQLLite Set-up,  Queries, and  common intents. Very good one.\n* On Home Mac, run the Android Soft Keyboard sample OK.   \n\n# Android Studio''s Debug Configuration could have the class name and should be checked to have the right name there.\n# https://android.googlesource.com/platform/development/+/master/samples\n-----------------------------------------------\n20170808TUE\n-----------------------------------------------\n20170807MON\n* Re-structure the KeyBoardLayout.swift into a proper hierarchy structure.\n-----------------------------------------------\n20170806SUN\n-----------------------------------------------\n20170805SAT\n-----------------------------------------------\n20170804FRI\n* Re-structure the KeyboardViewController.swift into a proper hierarchy structure.\n-----------------------------------------------\n20170803THR\n* Updated the promotion text for ZDIOS publish page.\n* Start to re-factorize the codes from tasty-ios-soft-keyboard into a new English Keyboard.\n\n# Found Android Softkeyboard sample:\nhttps://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard/\n\n# Google Android PinYin IME\nhttps://android.googlesource.com/platform/packages/inputmethods/PinyinIME/\ngit clone https://android.googlesource.com/platform/packages/inputmethods/PinyinIME\n\n\n-----------------------------------------------\n20170802WED\n* Updated the codester.com DDBar publish page to attract viewer to try the demo page 1 before reading through.\n* Added tracking php block on top the first demo page: demo_eight_layouts and renamed it into a php file.\n* Failed to have hyper links onto description text on zdios publish page. And the support page didn''t attract any viewers. So it is not important to update the support page first.\n   \n# Should attract viewers to try or to watch video before reading through the product publish page.\n \n-----------------------------------------------\n20170801TUE\n* Lots of points from the ios soft keyboard sample: https://github.com/archagon/tasty-imitation-keyboard.\n* re-run the sample and found it is pretty mature to be a real keyboard in production run.\n-----------------------------------------------', '2017-08-02 00:45:01');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(209, '', '', '20170813 iOS/swift Notes:\n========================================================== \nReferences:\n* A very good iOS app development series of tutorials: http://tutlane.com/tutorial/ios.\n* Google Book Part: PDF File and very clear and compact:\nhttps://books.google.com.au/books?id=bVozCwAAQBAJ&pg=SA16-PA14&lpg=SA16-PA14&dq=touchesBegan(touches:+Set%3CUITouch%3E,+withEvent+event:+UIEvent?)&source=bl&ots=LS-TcAp2QI&sig=a38JLeOdAajXHXV57V6wLLmhaik&hl=en&sa=X&ved=0ahUKEwiWypWvyM7VAhUIipQKHWdwAfcQ6AEIZjAK#v=onepage&q&f=false \n\n* Google Book Part: Discussing animation in ios\nhttps://books.google.com.au/books?id=aQl5DQAAQBAJ&pg=PT235&lpg=PT235&dq=CATransaction.setDisableActions(true)&source=bl&ots=MH3Brv064p&sig=xne1P0OXyvfC3aGW1NZ2ow-kYfM&hl=en&sa=X&ved=0ahUKEwjNj8GujuzVAhXMH5QKHUvJCXEQ6AEIRDAF#v=twopage&q=CATransaction.setDisableActions(true)&f=true\n\n==========================================================\nSummary:\n# swift 2: for ( index in 1 ..< 10) {...} =====> swift 3: for index in 1 ..< 10 { ......}\n# Editor Placeholder=Collection corresponding to ''index''.index(before:10) is asking for a collection in front of .index(...)\n# Three major collection types: Array, Set, Dictionary.\n# Collection .index(before:) return an index just before a location.\n\n* \n1) Any is a protocol that all types implicitly conform.\n2) AnyObject is a protocol to which all classes implicitly conform.\n3) Int, Float, Double are structs\n* Have Foundation imported, Int, Double, and Float get converted to NSNumber when passed to a function taking an AnyObject. \nType String gets converted to NSString\n\n# UIView.draw(rect) cannot draw outside the rect at all.\n# It is impossible to draw path over the sub views from UIView''s graphics context. \n==========================================================\nSamples:\n\n\n----------------------------------------------------------\n\n\n\n----------------------------------------------------------\n\n\n\n----------------------------------------------------------\n\nTimer Samples: \nhttps://stackoverflow.com/questions/24007518/how-can-i-use-nstimer-in-swift\n# swift3 iOS 10+ , no separate fund required.\n _ = Timer.scheduledTimer(withTimeInterval: 5, repeats: false) { timer in\n        label.isHidden = true\n    }\n#\nDispatchQueue.main.async {\n      self.timer = Timer.scheduledTimer(withTimeInterval: 20, repeats: false) { timer in\n        print(timer)\n      }\n    }\n\n----------------------------------------------------------\nhitTest and point(inside: ) of UIView:\n# To use hitTest() of UIView, point(inside: with event) must be implemented in the sub views.\n# hitTest() will call a subview''s point(inside: with;) if the sub view''s isUserInteractionEnabled= true.\n# hitTest() will call a subview''s hitTest() recursively if its point(inside: with:) implementation returned true.\n----------------------------------------------------------\nUIView''s touch/Begin/Moved/Ended/Cancelled:\n# If a sub view''s isUserInteractionEnabled = true. \nAfter touch on the sub view, parent view cannot received the touches in these touches override functions.\n \n----------------------------------------------------------\nHow to detect Double Click on UIView? \nUITapGestureRecognizer class has a built-in way to detect a double tap on any view by setting its numberOfTapsRequired property to 2.\n\n    let tap = UITapGestureRecognizer(target: self, action: #selector(doubleTapped))\n    tap.numberOfTapsRequired = 2\n    view.addGestureRecognizer(tap)\n\n    func doubleTapped() { }\n \n----------------------------------------------------------\nPlay sound - from adios project.\n\n //UIDevice.current.playInputClick() //Doesn''t work.\n //AudioServices.PlaySystemSound(1104);  //Doesn''t work.\nlet systemSoundID: SystemSoundID = 1104\n AudioServicesPlaySystemSound(systemSoundID). // Worked.\n\n----------------------------------------------------------\nCodes for Touch Events - Two ways to respond touch event: addTarget() and override touchBegin/Moved/Ended/Cancelled\n\n1> \nuiViewInstance.addTarget(self, action: #selector(didTapToolbarButton), for: .touchUpInside)\n\nfunc didTapToolbarButton(sender: AnyObject?) {        \n       if let button = sender as? ToolbarButton {\n            Commander.reportTapToolbarButton((button?.buttonName)!)\n        }\n    }\n\n2> \n override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {\n        reportTouches(touches, with: event)\n    }\n    override func touchesMoved(_ touches: Set<UITouch>, with event: UIEvent?) {\n        reportTouches(touches, with: event)\n    }\n    override func touchesEnded(_ touches: Set<UITouch>, with event: UIEvent?) {\n        reportTouches(touches, with: event)\n    }\n    override func touchesCancelled(_ touches: Set<UITouch>?, with event: UIEvent?) {\n        reportTouches(touches!, with: event)\n    }\n  \n    func reportTouches(_ touches: Set<UITouch>, with event: UIEvent?) \n       \n----------------------------------------------------------\nCodes for Take SreenShot: Codes from tasty-imitation-keyboard-master CatboardKeyboard.swift:\n\n  func takeScreenshotDelay() {\n        NSTimer.scheduledTimerWithTimeInterval(0.1, target: self, selector: Selector("takeScreenshot"), userInfo: nil, repeats: false)\n    }\n    \n    func takeScreenshot() {\n        if !CGRectIsEmpty(self.view.bounds) {\n            UIDevice.currentDevice().beginGeneratingDeviceOrientationNotifications()\n            \n            let oldViewColor = self.view.backgroundColor\n            self.view.backgroundColor = UIColor(hue: (216/360.0), saturation: 0.05, brightness: 0.86, alpha: 1)\n            \n            let rect = self.view.bounds\n            UIGraphicsBeginImageContextWithOptions(rect.size, true, 0)\n            var context = UIGraphicsGetCurrentContext()\n            self.view.drawViewHierarchyInRect(self.view.bounds, afterScreenUpdates: true)\n            let capturedImage = UIGraphicsGetImageFromCurrentImageContext()\n            UIGraphicsEndImageContext()\n            let name = (self.interfaceOrientation.isPortrait ? "Screenshot-Portrait" : "Screenshot-Landscape")\n            let imagePath = "/Users/archagon/Documents/Programming/OSX/RussianPhoneticKeyboard/External/tasty-imitation-keyboard/\\(name).png"\n            \n            if let pngRep = UIImagePNGRepresentation(capturedImage) {\n                pngRep.writeToFile(imagePath, atomically: true)\n            }\n            \n            self.view.backgroundColor = oldViewColor\n        }\n    }\n----------------------------------------------------------\nDraw Path\n\nfunc drawRect(rect : CGRect)\n{\n// Size of rounded rectangle\nlet rectWidth = rect.width\nlet rectHeight = rect.height\n\n// Find center of actual frame to set rectangle in middle\nlet xf:CGFloat = (self.frame.width  - rectWidth)  / 2\nlet yf:CGFloat = (self.frame.height - rectHeight) / 2\n\nlet ctx: CGContext = UIGraphicsGetCurrentContext()!\nctx.saveGState()\n\nlet rect = CGRect(x: xf, y: yf, width: rectWidth, height: rectHeight)\nlet clipPath: CGPath = UIBezierPath(roundedRect: rect, cornerRadius: rectCornerRadius).cgPath\n\nctx.addPath(clipPath)\nctx.setFillColor(rectBgColor.cgColor)\n\nctx.closePath()\nctx.fillPath()\nctx.restoreGState()\n\n}\n\n\n# path usage:\nlet path = CGMutablePath();\n\n        // swift2: CGPathMoveToPoint(path, nil, myConvertedStartPoints.0.x, myConvertedStartPoints.0.y)\n        // swift2: CGPathAddLineToPoint(path, nil, CGPoint(x:myConvertedEndPoints.1.x, myConvertedEndPoints.1.y)\n\n        path.move(to: CGPoint(x: lineFrame.midX, y: lineFrame.midY))\n        path.addLine(to: CGPoint(x: lineFrame.origin.x + lineFrame.width\n        \n        path.closeSubpath()\n----------------------------------------------------------\nDrawing Bezier Path:\nhttps://stackoverflow.com/questions/35061183/how-to-rounded-the-corners-when-i-draw-rectangle-using-uibezierpath-points\n\n# To round all four corners\nlet rectangle = CGRect(x: 0, y: 0, width: 100, height: 100)\nlet path = UIBezierPath(roundedRect: rectangle, cornerRadius: 20)\n\n# To round some of the corners\nlet rectangle = CGRect(x: 0, y: 0, width: 100, height: 100)\nlet path = UIBezierPath(roundedRect: rectangle, byRoundingCorners: [.TopLeft, .BottomRight], cornerRadii: CGSize(width: 35, height: 35))\n\n# To have a different corner radius for each corner, then you''ll have to add the arc for each circle individually. \nThis comes down to calculating the center and the start and end angle of each arc. \nYou''ll find that the center of each arc is inset the corner radius from corresponding corner of the rectangle. \nCGPoint(x: rectangle.minX + upperLeftRadius, y: rectangle.minY + upperLeftRadius)\nThe start and end angle for each arc will be either straight left, up, down, or right. \nThe angles is clockwise, not counter-clockwise.\n\n# extension to drw round rectangle with different corner radius:\n\nextension UIBezierPath {\nconvenience init(roundedRect rect: CGRect, topLeftRadius r1: CGFloat, topRightRadius r2: CGFloat, bottomRightRadius r3: CGFloat, bottomLeftRadius r4: CGFloat) {\n        let left  = CGFloat(M_PI)\n        let up    = CGFloat(1.5*M_PI)\n        let down  = CGFloat(M_PI_2)\n        let right = CGFloat(0.0)\n        self.init()\n        addArcWithCenter(CGPoint(x: rect.minX + r1, y: rect.minY + r1), radius: r1, startAngle: left,  endAngle: up,    clockwise: true)\n        addArcWithCenter(CGPoint(x: rect.maxX - r2, y: rect.minY + r2), radius: r2, startAngle: up,    endAngle: right, clockwise: true)\n        addArcWithCenter(CGPoint(x: rect.maxX - r3, y: rect.maxY - r3), radius: r3, startAngle: right, endAngle: down,  clockwise: true)\n        addArcWithCenter(CGPoint(x: rect.minX + r4, y: rect.maxY - r4), radius: r4, startAngle: down,  endAngle: left,  clockwise: true)\n        closePath()\n    }\n}\n\nlet path = UIBezierPath(roundedRect: rectangle, topLeftRadius: 30, topRightRadius: 10, bottomRightRadius: 15, bottomLeftRadius: 5)\n\n----------------------------------------------------------\nSerialize or Deserialize object with json in Swift3/4: \nhttps://stackoverflow.com/questions/26820720/automatic-json-serialization-and-deserialization-of-objects-in-swift\nQuite a few packages mentioned. one of them:\nhttps://github.com/gfx/Swift-PureJsonSerializer\n\nimport Foundation\n\npublic extension Json {\n    var anyValue: AnyObject {\n        switch self {\n        case .ObjectValue(let ob):\n            var mapped: [String : AnyObject] = [:]\n            ob.forEach { key, val in\n                mapped[key] = val.anyValue\n            }\n            return mapped as AnyObject\n        case .ArrayValue(let array):\n            return array.map { $0.anyValue } as AnyObject\n        case .booleanValue(let bool):\n            return bool as AnyObject\n        case .numberValue(let number):\n            return number as AnyObject\n        case .StringValue(let string):\n            return string as AnyObject\n        case .nullValue:\n            return NSNull()\n        }\n    }\n    \n    var foundationDictionary: [String : AnyObject]? {\n        return anyValue as? [String : AnyObject]\n    }\n    \n    var foundationArray: [AnyObject]? {\n        return anyValue as? [AnyObject]\n    }\n}\n\nextension Json {\n    public static func from(_ any: AnyObject) -> Json {\n        switch any {\n            // If we''re coming from foundation, it will be an `NSNumber`.\n            //This represents double, integer, and boolean.\n        case let number as Double:\n            return .numberValue(number)\n        case let string as String:\n            return .StringValue(string)\n        case let object as [String : AnyObject]:\n            return from(object)\n        case let array as [AnyObject]:\n            return .ArrayValue(array.map(from))\n        case _ as NSNull:\n            return .nullValue\n        default:\n            fatalError("Unsupported foundation type")\n        }\n        return .nullValue\n    }\n    \n    public static func from(_ any: [String : AnyObject]) -> Json {\n        var mutable: [String : Json] = [:]\n        any.forEach { key, val in\n            mutable[key] = .from(val)\n        }\n        return .from(mutable)\n    }\n}\n\nextension Json {\n    public static func deserialize(_ data: Data) throws -> Json {\n        let startPointer = (data as NSData).bytes.bindMemory(to: UInt8.self, capacity: data.count)\n        let bufferPointer = UnsafeBufferPointer(start: startPointer, count: data.count)\n        return try deserialize(bufferPointer)\n    }\n}\n\n\n\n----------------------------------------------------------\nDownload from a remote file using URLSession and saved into a local file:\n\n        //// http://swiftdeveloperblog.com/code-examples/download-file-from-a-remote-url-in-swift/\n        // Create destination URL\n        let documentsUrl:URL =  FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first as URL!\n        let destinationFileUrl = documentsUrl.appendingPathComponent("downloadedFile002.jpg")\n    \n        //Create URL to the source file you want to download\n        let fileURL = URL(string: "http://caringsoftware.com/wnbjs/bmw01.jpg")   //"https://s3.amazonaws.com/learn-swift/IMG_0001.JPG")\n    \n        let sessionConfig = URLSessionConfiguration.default\n        let session = URLSession(configuration: sessionConfig)\n    \n        let request = URLRequest(url:fileURL!)\n    \n        let task = session.downloadTask(with: request) { (tempLocalUrl, response, error) in\n            if let tempLocalUrl = tempLocalUrl, error == nil {\n                // Success\n                if let statusCode = (response as? HTTPURLResponse)?.statusCode {\n                    print("Successfully downloaded. Status code: \\(statusCode)")\n                }\n                do {\n                    try FileManager.default.copyItem(at: tempLocalUrl, to: destinationFileUrl)\n                } catch (let writeError) {\n                print("Error creating a file \\(destinationFileUrl) : \\(writeError)")\n                }\n            } else {\n                print("Error took place while downloading a file."); /// Error description: %@", error?.localizedDescription!);\n            }\n        }\n        task.resume()\n    \n----------------------------------------------------------\nReadng local json file:    \n//http://stackoverflow.com/questions/24410881/reading-in-a-json-file-using-swift\n        if let path = Bundle.main.path(forResource: "userDataFakeData", ofType: "json") {\n            do {\n                let jsonData = try NSData(contentsOfFile: path, options: NSData.ReadingOptions.mappedIfSafe)\n                var str:String = ""\n                do {\n                    let jsonResult: NSDictionary = try JSONSerialization.jsonObject(with: jsonData as Data, options: JSONSerialization.ReadingOptions.mutableContainers) as! NSDictionary\n                    \n                    if let persons : [NSDictionary] = jsonResult["person"] as? [NSDictionary] {\n                        for person: NSDictionary in persons {\n                            for (name,value) in person {\n                                str += "\\(name) , \\(value)    "\n                            }\n                            str += "\\n"\n                        }\n                    }\n                } catch {}\n                tvMessage.text = str\n                \n            } catch {}\n        }\n\n// json file\n{\n    "person":[\n              {\n              "name": "Bob",\n              "age": "16",\n              "employed": "No"\n              },\n              {\n              "name": "Vinny",\n              "age": "56",\n              "employed": "Yes"\n              }\n              ]\n} \n----------------------------------------------------------\nDisplaying and Managing the Edit Menu\n\nhttps://developer.apple.com/library/content/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/AddingCustomEditMenuItems/AddingCustomEditMenuItems.html\nThe edit menu is a contextual menu that is displayed to offer commands that can be performed on a selection such as a word in a text view or an image.\n\n----------------------------------------------------------\nHow to create custom menus using UIMenuController: Added menu item into shard UI menu with action; Web View control used. \nhttps://www.hackingwithswift.com/example-code/uikit/how-to-create-custom-menus-using-uimenucontroller\n\n\nclass ViewController: UIViewController, UITextViewDelegate {\n    @IBOutlet weak var webView: UIWebView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        webView.loadHTMLString("<p>Hello, world!</p>", baseURL: nil)\n        enableCustomMenu()\n    }\n\n    func enableCustomMenu() {\n        let lookup = UIMenuItem(title: "Grok", action: #selector(runGrok))\n        UIMenuController.shared.menuItems = [lookup]\n    }\n\n    func disableCustomMenu() {\n        UIMenuController.shared.menuItems = nil\n    }\n\n    func runGrok() {\n        let text = webView.stringByEvaluatingJavaScript(from: "window.getSelection().toString();")\n        print(text)\n    }\n}\n\n==========================================================\n=================================================\nLocal File\nhttps://stackoverflow.com/questions/42982666/loading-data-object-from-local-file-in-swift-3\n--------------------------------------------------\nLoading data from local file, use contentsOfFile: methods\nReference link: https://www.hackingwithswift.com/example-code/strings/how-to-load-a-string-from-a-file-in-your-bundle\n* Reading data:\nData(contentsOf: <URL>, options: <Data.ReadingOptions>)\n\n* Reading a plain text as a String:\nString(contentsOfFile: <LocalFileDirPath>)\n\n* Reading an image from document directory, use:\nUIImage(contentsOfFile: <LocalFileDirPath>)\n--------------------------------------------------\n\nlet documentDirectory = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first\nlet localUrl = documentDirectory.appendingPathComponent("somefile.txt")\n\nif FileManager.default.fileExists(atPath: localUrl.path){\n    if let cert = NSData(contentsOfFile: localUrl.path) {\n        return cert as Data\n    }\n}\n=================================================\nDecode Object from jSon Object:\nhttps://stackoverflow.com/questions/24410881/reading-in-a-json-file-using-swift\n------------------------------------------------\nSwift 4 using Decodable\nstruct ResponseData: Decodable {\n    var person: [Person]\n}\nstruct Person : Decodable {\n    var name: String\n    var age: String\n    var employed: String\n}\n\nfunc loadJson(filename fileName: String) -> [Person]? {\n    if let url = Bundle.main.url(forResource: fileName, withExtension: "json") {\n        do {\n            let data = try Data(contentsOf: url)\n            let decoder = JSONDecoder()\n            let jsonData = try decoder.decode(ResponseData.self, from: data)\n            return jsonData.person\n        } catch {\n            print("error:\\(error)")\n        }\n    }\n    return nil\n}\n\n// Swift 3\nfunc loadJson(filename fileName: String) -> [String: AnyObject]? {\n    if let url = Bundle.main.url(forResource: fileName, withExtension: "json") {\n        do {\n            let data = try Data(contentsOf: url)\n            let object = try JSONSerialization.jsonObject(with: data, options: .allowFragments)\n            if let dictionary = object as? [String: AnyObject] {\n                return dictionary\n            }\n        } catch {\n            print("Error!! Unable to parse  \\(fileName).json")\n        }\n    }\n    return nil\n}\n\n=================================================\nSwift4 Decodable Tutorial\nhttps://medium.com/swiftly-swift/swift-4-decodable-beyond-the-basics-990cc48b7375\n* init(from: Decoder)\n* Decoder''s Two functions:\ncontainer<Key>(keyedBy: Key.Type): returns a keyed container, KeyedDecodingContainer: to reach the actual data\nsingleValueContainer(): the returned, SingleValueDecodingContainer, is actually the data that we want!\n* KeyedDecodingContainer\n** Like a dictionary [Key: Any]. Different keys can held different types of data: which is why the container offers several decode(Type:forKey:) methods.\nThis method is where the magic happens: by calling it, the container returns us our dataâ€™s value of the given type for the given key (examples below!).\n** Most importantly, the container offers the generic method\ndecode<T>(T.Type, forKey: K) throws -> T where T: Decodable\nwhich means that any type, as long as it conforms to Decodable, can be used with this function! ðŸŽ‰ðŸŽ‰\n\n* SingleValueDecodingContainer\nEverything works as above, just without any keys.\n\n* Steps for Implementing our init(from: Decoder)\n\nStep 1: Choosing The Right Decoder\nStep 2: Determining The Right Container\nStep 3: Extracting Our Data\nStep 4: Initializing our Struct/Class\n\n-------------------------------------------------\nimport Foundation\n\nstruct Swifter: Decodable {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n}\n\nlet json = """\n{\n "fullName": "Federico Zanetello",\n "id": 123456,\n "twitter": "http://twitter.com/zntfdr"\n}\n""".data(using: .utf8)! // our data in native (JSON) format\nlet myStruct = try JSONDecoder().decode(Swifter.self, from: json) // Decoding our data\nprint(myStruct) // decoded!!!!!\n-------------------------------------------------\nimport Foundation\n\nstruct Swifter {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n  \n  init(fullName: String, id: Int, twitter: URL) { // default struct initializer\n    self.fullName = fullName\n    self.id = id\n    self.twitter = twitter\n  }\n}\n\nextension Swifter: Decodable {\n  enum MyStructKeys: String, CodingKey { // declaring our keys \n    case fullName = "fullName"\n    case id = "id"\n    case twitter = "twitter"\n  }\n  \n  init(from decoder: Decoder) throws {\n    let container = try decoder.container(keyedBy: MyStructKeys.self) // defining our (keyed) container\n    let fullName: String = try container.decode(String.self, forKey: .fullName) // extracting the data\n    let id: Int = try container.decode(Int.self, forKey: .id) // extracting the data\n    let twitter: URL = try container.decode(URL.self, forKey: .twitter) // extracting the data\n    \n    self.init(fullName: fullName, id: id, twitter: twitter) // initializing our struct\n  }\n}\n\nlet json = """\n{\n "fullName": "Federico Zanetello",\n "id": 123456,\n "twitter": "http://twitter.com/zntfdr"\n}\n""".data(using: .utf8)! // our native (JSON) data\nlet myStruct = try JSONDecoder().decode(Swifter.self, from: json) // decoding our data\nprint(myStruct) // decoded!\n-------------------------------------------------\n\nimport Foundation\n\nstruct Swifter: Decodable {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n}\n\nlet json = """\n[{\n "fullName": "Federico Zanetello",\n "id": 123456,\n "twitter": "http://twitter.com/zntfdr"\n},{\n "fullName": "Federico Zanetello",\n "id": 123456,\n "twitter": "http://twitter.com/zntfdr"\n},{\n "fullName": "Federico Zanetello",\n "id": 123456,\n "twitter": "http://twitter.com/zntfdr"\n}]\n""".data(using: .utf8)! // our data in native format\nlet myStructArray = try JSONDecoder().decode([Swifter].self, from: json)\n\nmyStructArray.forEach { print($0) } // decoded!!!!!\n\n-------------------------------------------------\n\nimport Foundation\n\nstruct Swifter: Codable {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n}\n\nlet json = """\n{\n  "one": {\n    "fullName": "Federico Zanetello",\n    "id": 123456,\n    "twitter": "http://twitter.com/zntfdr"\n  },\n  "two": {\n    "fullName": "Federico Zanetello",\n    "id": 123456,\n    "twitter": "http://twitter.com/zntfdr"\n  },\n  "three": {\n    "fullName": "Federico Zanetello",\n    "id": 123456,\n    "twitter": "http://twitter.com/zntfdr"\n  }\n}\n""".data(using: .utf8)! // our data in native format\nlet myStructDictionary = try JSONDecoder().decode([String: Swifter].self, from: json)\n\nmyStructDictionary.forEach { print("\\($0.key): \\($0.value)") } // decoded!!!!!\n--------------------------------------------------------------\n\nimport Foundation\n\nstruct Swifter: Decodable {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n}\n\nenum SwifterOrBool: Decodable {\n  case swifter(Swifter)\n  case bool(Bool)\n}\n\nextension SwifterOrBool: Decodable {\n  enum CodingKeys: String, CodingKey {\n    case swifter, bool\n  }\n  \n  init(from decoder: Decoder) throws {\n    let container = try decoder.container(keyedBy: CodingKeys.self)\n    if let swifter = try container.decodeIfPresent(Swifter.self, forKey: .swifter) {\n      self = .swifter(swifter)\n    } else {\n      self = .bool(try container.decode(Bool.self, forKey: .bool))\n    }\n  }\n}\n\nlet json = """\n[{\n"swifter": {\n   "fullName": "Federico Zanetello",\n   "id": 123456,\n   "twitter": "http://twitter.com/zntfdr"\n  }\n},\n{ "bool": true },\n{ "bool": false },\n{\n"swifter": {\n   "fullName": "Federico Zanetello",\n   "id": 123456,\n   "twitter": "http://twitter.com/zntfdr"\n  }\n}]\n""".data(using: .utf8)! // our native (JSON) data\nlet myEnumArray = try JSONDecoder().decode([SwifterOrBool].self, from: json) // decoding our data\n  \nmyEnumArray.forEach { print($0) } // decoded!\n\n----------------------------------------------------------------------------\nimport Foundation\nstruct Swifter: Decodable {\n  let fullName: String\n  let id: Int\n  let twitter: URL\n}\n\nstruct MoreComplexStruct: Decodable {\n  let swifter: Swifter\n  let lovesSwift: Bool\n}\n\nlet json = """\n{\n	"swifter": {\n		"fullName": "Federico Zanetello",\n		"id": 123456,\n		"twitter": "http://twitter.com/zntfdr"\n	},\n	"lovesSwift": true\n}\n""".data(using: .utf8)! // our data in native format\nlet myMoreComplexStruct = try JSONDecoder().decode(MoreComplexStruct.self, from: json)\n\nprint(myMoreComplexStruct.swifter) // decoded!!!!!\n----------------------------------------------------------------------------\n=================================================\n\n\n\n\n\n\n\n\n\n\n\n\n', '2017-08-12 22:39:52'),
(210, '', '', '20170813 Project Notes: ZiDian\n\n==========================================================\nReference:\n\n* Apple Extension Programming: Custom Keyboard\nhttps://developer.apple.com/library/content/documentation/General/Conceptual/ExtensibilityPG/CustomKeyboard.html\n==========================================================\nEnhancements: \n* There is a lengthy operation to init the keyboard - building dictionary, maybe, the ui should be locked with a progress bar. \nProgress bar samples can be found in http://tutlane.com/tutorial/ios.\n\n\n\n==========================================================\nDesign: \n\noutput\nlabeling: text[color, font, font size], icon[file resource name], shape[name from shapes class''s method] \nsecondary labeling\nsecondary location\nsecondaryScaleWidth/Height\n\nborderColor\nborderWidth\nbackgroundColor\n\nCornerRadius\n\nenum LabelingType\nenum Sencodary Location\n\n==========================================================\n201\n\n==========================================================\n\n20170906: \n1> ZiDian_Android should take KeyboardView class and arrange KeyLevels automatically into Keyboard Pages. In this way, UI drawing things will be handled in framework and the integration of English keyboard and hanzi keyboard will be much easier. \n2> The same thing can be done in ZiDian IOS if we develop our own KeyboardView first.\n3> In this way scrollable long KeyLevel View will br replaced by page down/Page up buttons. In Andoid, this is is the way definetly since we don''t have good way to draw KeyLevel View anyway now.\n\n==========================================================\n\nZDIOS2 View Design\n* KeyboardVC\n\n** ToolbarVC\n*** ToolbarView\n*** ToolbarButtonView\n*** ToolbarMenuButtonView\n*** ToolbarButtonDef\n*** ToolbarMenuButtonDef\n*** ToolbarSetting\n*** ToolbarConstants\n\n** ContentVC\n*** KeyLevelListVC\n*** KeyLevelListView\n*** KeyLevelView\n*** KeyLevelDef\n*** KeyLevelListSetting\n*** KeyLevelListConstants\n\n*** EnglishKeyboardVC\n**** EnglishKeyboardView\n**** EnglishKeyboardSetting\n**** EnglishKeyboardConstants\n**** EnglishKeyboardDef\n***** EnglishKeyPage\n***** EnglishKeyRow\n***** EnglishKey \n- lower/upper/long press X Label(shown on key view surface)/output(char input to client),\n- double action / long press repeated action\n\n*** SettingVC\n**** SettingView\n\n\n\n\n\n\n==========================================================\n\n\n\n\n\n==========================================================', '2017-08-12 22:43:52'),
(211, '', '', '20170831 Android/Java Points \n=========================================================\n# java for each in syntax: final List<Keyboard.Key> keys\n1> for(Keyboard.Key k : keys) { }.  \n2> ArrayList l=new ArrayList(); l.add(10); ....; l.forEach((a)->System.out.println(a));\n \n\n=========================================================\n# Android Source Codes \n##  How about to download android source codes in a whole from google: https://source.android.com/source/  \nThe codes are too big and I wouldn''t go further for now. \n\n## easy to download from github. https://github.com/android\n\n## The source code can be browsed at: https://android.googlesource.com/ \n\n### Found the input method service codes location:  \nandroid/platform/frameworks/base/ git repo here ->      /core/java/android/inputmethodservice/Keyboard.java\n\n### Found Latim IME source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/LatinIME/\nKeyboardView,Keyboard, etc from inputmethodservice codes.\n\n### Found OpenWnn IME (for Japanese) source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/OpenWnn/+/master/src/jp/co/omronsoft/openwnn\n\n### Found PinYin IME source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/PinyinIME/\nSoftKeyboardView is direct child from View and look smaller.\n=========================================================\n\n\n---------------------------------------------------------\n\n\n\n---------------------------------------------------------\n* How to draw a path on View:\nhttps://stackoverflow.com/questions/5978517/how-to-draw-path-into-the-view-in-android\nfor (int i = 0; i < 2; i++) {\n\n        MyView mView = new MyView(this,i);\n\n        realViewSwitcher.addView(mView);\n        }\nmyview:\n\npublic class MyView extends View {\n\n    public MyView(Context context, int kolki) {\n        super(context);\n\n        if (kolki == 0){\n            this.setBackgroundResource(R.drawable.distspeed);\n        }\n        if (kolki == 1){\n            this.setBackgroundResource(R.drawable.hxmdist);\n        }\n    }\n\n    public void setBackgroundResource (int resid){\n        super.setBackgroundResource(resid);\n    } \n\n    public void onDraw(Canvas c){\n        super.onDraw(c);\n        Paint paint = new Paint();\n        Path path = new Path();\n        paint.setStyle(Paint.Style.FILL);\n        paint.setColor(Color.TRANSPARENT);\n        c.drawPaint(paint);\n        for (int i = 50; i < 100; i++) {\n               path.moveTo(i, i-1);\n               path.lineTo(i, i);  \n        }\n        path.close();\n        paint.setStrokeWidth(3);\n        paint.setPathEffect(null);\n        paint.setColor(Color.BLACK);\n        paint.setStyle(Paint.Style.STROKE);\n        c.drawPath(path, paint);\n    }\n\n}\n\n\n---------------------------------------------------------\n* ViewGroup \nhttps://developer.android.com/reference/android/view/ViewGroup.html\nAn quite full sample of Custom Layout samples: which can arrange sub views into left and right rectangles.  \n\n* LayoutParams:\nhttps://developer.android.com/reference/android/view/ViewGroup.LayoutParams.html\nViewGroup.LayoutParams has a pair of integers for width and height, width and height can be \nViewGroup.LayoutParams (int width, int height)\n---------------------------------------------------------\nAdded sub view in codes?\nhttps://stackoverflow.com/questions/2395769/how-to-programmatically-add-views-to-views\n* Sample 1:\nLinearLayout myLayout = findViewById(R.id.main);\nButton myButton = new Button(this);\nmyButton.setLayoutParams(new LinearLayout.LayoutParams(\n  LinearLayout.LayoutParams.MATCH_PARENT,\n  LinearLayout.LayoutParams.MATCH_PARENT));\nmyLayout.addView(myButton);\n\nIt is important to call setLayoutParams with the right LayoutParams.\nTo add a View to a TableRow to display properly, have to pass an instance of TableRow.LayoutParams to the child view''s setLayoutParams.\n* Sample 2:\n\nView inflatedView = View.inflate(context, yourViewXML, yourLinearLayout); //where yourViewXML is something like R.layout.myView\n// please notice that you need a ViewGroup in order to add a view (which is any layout you can think of)\n    View view = getView(); // returns base view of the fragment\n    if (view == null)\n        return;\n    if (!(view instanceof ViewGroup))\n        return;\n    ViewGroup viewGroup = (ViewGroup) view;\n    View popup = View.inflate(viewGroup.getContext(), R.layout.someView, viewGroup);\n* Sample 3:\nLinearLayout rlmain = new LinearLayout(this);      \nLinearLayout.LayoutParams llp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,LinearLayout.LayoutParams.FILL_PARENT);          \nLinearLayout   ll1 = new LinearLayout (this);\n\nImageView iv = new ImageView(this);\niv.setImageResource(R.drawable.logo);              \nLinearLayout .LayoutParams lp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\n\niv.setLayoutParams(lp);\nll1.addView(iv);\nrlmain.addView(ll1);              \nsetContentView(rlmain, llp);\n---------------------------------------------------------\nHow to switch views:\nhttps://stackoverflow.com/questions/5364413/android-views-change-on-click\n* Use ViewFlipper\n<ViewFlipper\nxmlns:android="http://schemas.android.com/apk/res/android"\n    android:layout_width="fill_parent"\n    android:layout_height="fill_parent"\n    android:id="@+id/vf">\n\n    <include android:id="@+id/firstView" layout="@layout/first" />\n    <include android:id="@+id/secondView" layout="@layout/second" />\n    <include android:id="@+id/thirdView" layout="@layout/third" />\n    <include android:id="@+id/fourthView" layout="@layout/fourth" />\n\n</ViewFlipper>\n\nViewFlipper vf;\npublic void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        vf = (ViewFlipper) findViewById(R.id.vf);\n\n\nvf.showPrevious() goes back and vf.getChildAt(NUM)  gets the view at a location.  \n\n\n\n* Start Activity and onBackpressed\n\n   public class MainActivity extends AppCompatActivity {\n        Button B;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n                super.onCreate(savedInstanceState);\n                setContentView(R.layout.activity_main);\n                B = (Button) findViewById(R.id.button);\n                B.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                Intent obj = new Intent(MainActivity.this, NextActivity.class);\n                startActivity(obj);\n                                         }\n\n                                     }\n                );\n            }\n        }\n\nThis is how your Next Activity should look.\n\nUse onBackpressed Method.\n    public class NextActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_next);\n\n\n    }\n    @Override\n    public void onBackPressed() {\n        finish();\n    }\n\n\n\n\n}\n\n\n---------------------------------------------------------\nUse Tab Layout and Page Viewer to Switch a few of Fragments\nhttp://www.truiton.com/2015/06/android-tabs-example-fragments-viewpager/ \n\n1> Tab Layout and View Pager in layout.xml\n    <android.support.design.widget.TabLayout\n        android:id="@+id/tab_layout"\n        android:layout_width="match_parent"\n        android:layout_height="wrap_content"\n        android:layout_below="@+id/toolbar"\n        android:background="?attr/colorPrimary"\n        android:elevation="6dp"\n        android:minHeight="?attr/actionBarSize"\n        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"/>\n\n    <android.support.v4.view.ViewPager\n        android:id="@+id/pager"\n        android:layout_width="match_parent"\n        android:layout_height="fill_parent"\n        android:layout_below="@id/tab_layout"/>\n\n2> A Fragment Page in Layout\n\n<?xml version="1.0" encoding="utf-8"?>\n<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"\n                android:layout_width="match_parent"\n                android:layout_height="match_parent"\n                android:orientation="vertical">\n\n    <TextView\n        android:id="@+id/textView"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:layout_centerInParent="true"\n        android:text="Tab 3"\n        android:textAppearance="?android:attr/textAppearanceLarge"/>\n\n</RelativeLayout>\n\n3> A Fragment java file\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class TabFragment3 extends Fragment {\n\n    @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.tab_fragment_3, container, false);\n    }\n}\n\n4> ViewPager using FragmentStatePagerAdapter \n\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentStatePagerAdapter;\n \npublic class PagerAdapter extends FragmentStatePagerAdapter {\n    int mNumOfTabs; \n    public PagerAdapter(FragmentManager fm, int NumOfTabs) {\n        super(fm);\n        this.mNumOfTabs = NumOfTabs;\n    }\n \n    @Override public Fragment getItem(int position) { \n        switch (position) {\n            case 0:\n                TabFragment1 tab1 = new TabFragment1();\n                return tab1;\n            case 1:\n                TabFragment2 tab2 = new TabFragment2();\n                return tab2;\n            case 2:\n                TabFragment3 tab3 = new TabFragment3();\n                return tab3;\n            default:\n                return null;\n        }\n    }\n \n    @Override public int getCount() {\n        return mNumOfTabs;\n    }\n}\n\n5> java codes to prepare page switching\n  \n   @Override protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n       \n        TabLayout tabLayout = (TabLayout) findViewById(R.id.tab_layout);\n        tabLayout.addTab(tabLayout.newTab().setText("Tab 1"));\n        tabLayout.addTab(tabLayout.newTab().setText("Tab 2"));\n        tabLayout.addTab(tabLayout.newTab().setText("Tab 3"));\n        tabLayout.setTabGravity(TabLayout.GRAVITY_FILL);\n\n        final ViewPager viewPager = (ViewPager) findViewById(R.id.pager);\n        final PagerAdapter adapter = new PagerAdapter(getSupportFragmentManager(), tabLayout.getTabCount());\n        viewPager.setAdapter(adapter);\n        viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n\n        tabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override public void onTabSelected(TabLayout.Tab tab) {\n                viewPager.setCurrentItem(tab.getPosition());\n            }\n\n            @Override public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n\n\n=========================================================\n\n\n\n\n\n=========================================================\n', '2017-08-31 06:29:24');
INSERT INTO `note` (`id`, `name`, `description`, `text`, `modified`) VALUES
(212, '', '', '20170901 Daily Notes ZiDian iOS/Android\n====================================================\n\n\n====================================================\n\n----------------------------------------------------   \n20170930 SAT\n\n----------------------------------------------------   \n20170929 FRI\n\n----------------------------------------------------   \n20170928 THR\n* Building KeyBoardKey.swift for key definition with key cell concept.\n----------------------------------------------------   \n20170927 WED\n* Build KeyCell.swift to define KeyCells inside keyboard key.\n* Organize the git2 and git3. git3 is for ios developement now and git2 is for android from now.\n* Tried more ios programmings for UIView Drawing in git3/tech/ios_test/UIViewDrawing xcode project.\n----------------------------------------------------   \n20170926 TUE\n* Design the new Key definition classes. Key will be located based on the total number of cells in a row.\n----------------------------------------------------   \n20170925 MON\n* Decided to write our own Keyboard from scratch, not from re-use the old code files. The compiled codes from imitation ios keyboard extension sample is still too complex and ugly structured. \n* Test codes to draw a few Bezier Path on the KeyView surface inAKeyView.swift file.\n----------------------------------------------------   \n20170924 SUN\n* Keys are shown properly on the right locations in a row. Key width is given in the number of row cell widths. This is a new locating way.\n* The whole project can be compiled with KeyBoardView, KeyView, several supporting view classes. \n* But it is hard to re-use the big code chunks.  \n----------------------------------------------------   \n20170923 SAT\nNo notes for a week.\n----------------------------------------------------   \n20170916 SAT\n* Back to re-write zdios11 to build an app for showing Keyboard without Keyboard extension yet.\n* Keyboard View added and shown out on keyboard Container view.\n* Keyboard View has got the right size and location, that is, overlap the container view.\n* Keyboard key views comes out now. \n----------------------------------------------------   \n20170915 FRI\n* Contact form looks working but no mails received.\n* Download a script for sendmail from command line and got errors like write failure due to permission denied.\n** The error could be selinux the security mechanism disallowing such things.\n** Selinux is always be said Disabled. Removed apparmor didn''t solve the issue. Reboot didn''t solved the issue.\n** To install policycoreutils and selinux-basics and all got error in updating selinux-default-file.\n** In selinux config file, set enforcing to selinux= setting.\n** The error is there in all the trials.\n\n* Delete selinux folder in attempt to remove selinux in ubutun. This might crash the ubutun system on csserver003. admin001 cannot be logged in anymore. \n* We lost the way to log in to the server003. The cause might be selinux setting is enforcing but the selinux folder is deleted at all.\n* Call GoDaddy 42165989/miyyytaaayy/pin=1205 and waited for long and didn''t solve the issue. Have to rebuild the server.\n* Change contact form in index.php for DDbar in job machine and cannot committed to git2 on the server.\n* We need to transfer the server to other vendors.\n\n\n\n----------------------------------------------------   \n20170914 THR\n* DDBar: Found a Microsoft IP 157.55.39.66 is coming back visiting the DDBar Page, event the item on codester.com is paused.\n\n* We need a contact form on these pages to ensure people can contact me.\n** Quick search on web and found a simplest form with PHP scripts:\nhttps://www.123contactform.com/html-contact-form/\n** Download the simple PHP page and add it to index.php in git1/prod/ddbar/release2/server_package.\n** Failed to get through the emails. No error message found.\n\n* Try to stop re-send email if user clicks Refresh Button in the Browser: \n** Used a PHP Script to carry an unique id for each submission. \n** Failed in achieving it.\n\n\n\n# PHP Check if a key exists in an  array:\nInstead of isset() you can also use: array_key_exists().\nisset() checks also whether the value of the variable is null. If it is null then isset returns false \narray_key_exists() returns always true if the key exists (no mater which value).\n$array = array(''c'' => null);\nvar_dump(isset($array[''c'']))); // isset() returns FALSE here\nvar_dump(array_key_exists($array[''c'']); //array_key_exists() returns TRUE\n----------------------------------------------------   \n20170913 WED\n* DDBar: Found a Beijing IP 180.76.15.134 comes back visiting the DDBar Page. Put the codester.com item for DBar as Paused.\n\n* IDEA: Collect finger print information and pass to web site for verification or authentication. This is not a new idea. \nIt could be new products across mobile and main apps. Many web site actually use SMS message to verify or authenticate. \nThis practice could be replaced with a combination of Mobile application and a web side package.\n** Steps: Password-less Login, Code-less Authentication \n1> User goes to Login page, just type in identification, like mobile phone number, email, ...\n2> Mobile notification will raised asking for scanning finder print \n3.1> Mobile application takes the scanning result to the server for check\n3.2> Mobile application check the finger print and encodes result back to the server.\n4> Server auto. received the finger scaaning and decide to accept or reject.\n \n** https://stackoverflow.com/questions/29006960/fingerprint-api-for-android-phone\n** Tutorial: http://www.techotopia.com/index.php/An_Android_Fingerprint_Authentication_Tutorial\n** Don''t drift away from ZiDian projects.\n \n* Android PinYinIME jni/data folder has a raw UTF16 dictionary file having 65000 lines. The frequency for hanzi and phrase is included in each line.\nWe should build the dictionary from the file.\n\n\n\n \n----------------------------------------------------   \n20170912 TUE\n* In git2/prod/ZiDian_Android/PinYinIME, Made the Pinyin IME from Google source store compiled now but the IME service cannot be run. \nThe Pinyin Decoder Service was replaced with a Dummy class.\nThe setting activity is working now.\nFailed to run PinYinIME service due to an error in view creation.\n\n# How to get an instance of InputMethodManager: \n mInputMethodManager = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\n private InputMethodManager mInputMethodManager;\n\n //FWL20170912: InputMethodManager.getInstance().showInputMethodPicker();\n mInputMethodManager.showInputMethodPicker();\n\n# import android.os.SystemProperties; //Cannoit be used anymore. Use System.getProperty() instead.\n  //FWL if ("1".equals(SystemProperties.get("ro.kernel.qemu"))) {\n  if ("1".equals(System.getProperty("ro.kernel.qemu"))) \n ---------------------------------------------------   \n20170911 MON\n* Try to decompose and understand the Android PinYinIME''s structure.\n* Found a source file Hanzi Dictionary for Android PinYinIME in its cpp.data folder with 65000 hanzis and phrases. \nPhrase has got all the pinyin in the same line. It is good.\n\n# mContext,mPaddingTop/Left/Right/Bottom are all not available in View. Have to Use getTopPadding() to replace them.\nNo idea they are too new or too old.\nmPaddingTop = this.getPaddingTop();\nmPaddingLeft = this.getPaddingLeft();\nmPaddingRight = this.getPaddingRight();\nmPaddingBottom = this.getPaddingBottom();\nmContext = this.getContext();\n\nprivate Context mContext;\nprivate int mPaddingTop, mPaddingBottom, mPaddingLeft, mPaddingRight;\n\n----------------------------------------------------\n20170910 SUN\n* Failed to set up ZiDianIME08 to be a \n\n# Sync git2 with home Mac:\nrename git2 to git2_20170909\ncreate git2 and git init in git2\ngit remote add origin admin001@caringsoftware.com:/home/admin001/git2\ngit pull origin master\ngit remote remove origin\n\n\n----------------------------------------------------\n20170909 SAT\n----------------------------------------------------   \n20170908 FRI\n* Re-init git2.\n* Continue to study to use input method service classes to present our KeyLevels from ZiDian dictionary.\n* Found and download the source for three IMEs from google source: android/packages/InputMethods/. The codes is saved at git2/tech/android_samples/Sample_IMES/. The latin IME is biggest one since containing many dictionaries.\n* Failed to run the project LatinIME in Android Studio, too many missing imports.\n\nWay 6: How about to copy the codes over from input method service package out to be an independent class: \n** Tested with codes in SoftKeyboard Sample: 67 errors, R... cannot be accessed. and mContext, mPaddingTop... are not accessbile. \ncom.android.internal.R is not accessibile.\n** From android source codes for IMEs, porting codes out of the framework is not a strange practice. It is the way the Google Android Team is doing. So we are going to go this way.\n\n\n# Linux: copy the content of a folder /source to another existing folder /dest \n## cp -a /source/. /dest/\nThe -a option is an improved recursive option, that preserve all file attributes, and also preserve symlinks.\nThe . at end of the source path is a specific cp syntax that allow to copy all files and folders, included hidden ones\n## rmdir dir --hard  ????\n## rm -rvf /path/to/directory  \n-r = remove directories and their contents recursively\n-v = explain what is being done\n-f = ignore nonexistent files, never prompt\n\n# git\n$ git remote remove origin\n$ git remote add admin001@caringsoftware.com:/home/admin001/git2\n$ sh commit ''re-init-git''\n$ git init --bare\n\n# Android Source Codes \n##  How about to download android source codes in a whole from google: https://source.android.com/source/  \nThe codes are too big and I wouldn''t go further for now. \n\n## easy to download from github. https://github.com/android\n\n## The source code can be browsed at: https://android.googlesource.com/ \n\n### Found the input method service codes location:  \nandroid/platform/frameworks/base/ git repo here ->      /core/java/android/inputmethodservice/Keyboard.java\n\n### Found Latim IME source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/LatinIME/\nKeyboardView,Keyboard, etc from inputmethodservice codes.\n\n### Found OpenWnn IME (for Japanese) source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/OpenWnn/+/master/src/jp/co/omronsoft/openwnn\n\n### Found PinYin IME source codes with its own codes for KeyboardView and other classes porting from the above location:\nhttps://android.googlesource.com/platform/packages/inputmethods/PinyinIME/\nSoftKeyboardView is direct child from View and look smaller.\n----------------------------------------------------\n20170907 THR\n* Studied more about the inputservice package classes like: Keyboard.Key, KeyboardView.. to represent KeyLevels. \n* Tested to use hanzis on key label and output.\n* visited the source codes from android.inputmethodservice.Keyboard/View and InputMethodService.java to SoftKeyboadSample.\n\n* Way 1: Dynamically build Keyboard in codes from hanzi Dictionary?\n** It looks not easy to build a Keyboard totally from code. Keyboard has no public method to expose its Rows.\n** Keyboard has no constructor from an array of Rows.\n** Keyboard.Row has no method to expose its Keys.\n** Keyboad, Row and Key has constructor from Resource res.\n** Only possible way is to build Resource res in XML string, might be possible.\n\n* Way 2: Or we can create a fixed keyboard and change its key label and text dynamically:\n** How to going through the keys in defined in a keyboard? \nThis is possible since Keyboard has public method keys. public List<Key> getKeys() {return mKeys;}\n** Codes tested to change key''s text and label:\n public void testUpdateKeyboard(Keyboard kybd){\n        final List<Keyboard.Key> keys = this.mQwertyKeyboard.getKeys();\n        for(Keyboard.Key k : keys) {\n            k.text = k.label + "1";\n            k.label = k.label + "2";\n        }\n    }\n** There is a problem, Phrases has more than one characters? Possible solutions:\n*** Every time, only one Hanzi from the phrase can be output\n*** One Hanzi Keyboard, two Hanzi Keyboard, three Hanzi Keyboard,....\n*** Mere keys into a big hanzi key by remove their gaps. Hard....\n\n* Way 3: Or can we assign parent Row to Key instance? If can,  we can build Keys from KeyLevel and then arrange them into the row in a predefined Keyboard. This is not possible since the rows can not be accessed from external codes. And it is impossible to re-add keys into a row.\n\n* Way 4: We can subclass Keyboard? No, the private rows can not be accessed in a sub class. \n  \n* Way 5: Build Resources from KeyLevel and use the existing KeyboardView class. \nThis way could be ewasier but performance might be compromised.I wouldn''t go further for now. \n  \n \n# java for each in syntax: final List<Keyboard.Key> keys\n1> for(Keyboard.Key k : keys) { }.  \n2> ArrayList l=new ArrayList(); l.add(10); ....; l.forEach((a)->System.out.println(a));\n \n# Simple but full tutorial for Android Keyboard\nhttps://code.tutsplus.com/tutorials/create-a-custom-keyboard-on-android--cms-22615\n\n# inputmethodservice package\nhttps://developer.android.com/reference/android/inputmethodservice/package-summary.html\n\n# Key definition tested OK.\n<Key android:keyOutputText="å„æ–¹" android:keyLabel="q" android:keyEdgeFlags="left"/>\n<Key android:keyOutputText="æˆ˜äº‰" android:keyLabel="æˆ˜äº‰"/>\n\n# From the next post, a few of soft keyboard samples with source codes found: \nhttps://tutel.me/c/programming/questions/14236135/android+keyboard+popupcharacters+issues\n\n1> scandinavian-keyboard\nhttps://code.google.com/archive/p/scandinavian-keyboard/source\n\n2> keyboard simulating normal PC hard Keyboard.\nhttps://github.com/klausw/hackerskeyboard\n\n3> android-emoji-keyboard\nhttps://github.com/zeuxisoo/android-emoji-keyboard\n----------------------------------------------------\n20170906 WED ZiDian_Android\n* In the sample Soft Keyboard Project, added more Rows in keyboard definition tag and it is OK seeing the increase of the height of the keyboard view.\n* Put the KeyboardView into a scroll view, return the scrollView in the onCreateInputView() in IME service subclass, It worked but the framework actually adjust the height of the scroll view to take maximal height and didn''t know how to limit the scroll view''s height to a maximal value.\n\n# ZiDian_Android should take KeyboardView class and arrange KeyLevels automatically into Keyboard Pages. In this way, UI drawing things will be handled in framework and the integration of English keyboard and hanzi keyboard will be much easier. The same thing can be done in ZiDian IOS if we develop our own KeyboardView first.\n  \n# In Android Studio, found the error messages from the device in the simulator, Andoid Monitor logcat tab.\n----------------------------------------------------\n20170905 TUE ZiDian_Android\n* Failed to run SoftKeyboard sample in git2/prod/zidian_android/samples/SoftKeyboard/ with error: Softkeyboard stopped on different, event new devices. Strange. \n* The reason might be the project is compiled at API 26 but the device is at API 25. Upgraded the device to api 26 and still error: \nFailed Install Downgraded Versiob. Error Installing APKs.\n* Choose api 25 device and then running OK now. IME Preference Setting worked now.\n* Adding more orw into qwer.xml to try to make KeyboardView going very high.\n* Tested to put KeyboardView into a scroll view.\n\n\n\n# KeyBoard, .Row, .Key and KeyboardView are all classes in platform.  So Soft Keyboard is only to use the the internal classes.\n\n----------------------------------------------------\n20170904 MON\n----------------------------------------------------\n20170903 SUN ZiDian iOS\n* Long time to get buttons shown out after too many crashes in running app. \n* Have started test codes outside Keyboard Extension in the main application now.\n* Fixed the bug that Page ID was not assigned for the pages. \n* Upgrade the key view frame calculations and key views come out in roughly right locations.\n? More accurate Key View locations.\n? Add button events to the key views.\n? Draw buttons properly for status.\n? Pop-Up Key Stroke Preview.\n\n# xCode crashes a lot without any error messages except SIGEXIT in the source code window. Have to setting break points before possible crashing  point.\n# UIViewControllerLIfe Cycle: willLayoutSubView is the first place that self.bounds is ready. \n# It is very hard to know where to check the right bounds inside KeyboardViewController codes. We did use constraint in zdios v1.\n\n----------------------------------------------------\n20170902 SAT ZiDian iOS\n* Re-Started git2/prod/zd_ios/Zdios11_EnglishKeyboard.\n   \n----------------------------------------------------\n20170901 FRI ZiDian_Android\n* Recreate ADT device and Android ZiDianIME07 starting working and not immediately stopping anymore.\n* ZiDianIME07 is ready for growing.\n* Fixed the toolbar''s first button and now it worked correctly.\n* Fixed the bugs and removed the test text views from codes.\n* Scanning the codes in SoftKeyboard sample, esp. SoftKeyboard.java, which is the InputService implementation.\nmComposing is a string builder collecting from key strokes, Completions are list of words returned from application to the input editor as candidates. Not each keystroke was sent to the editor. \n\n? Integrate the Soft Keyboard\n? Switch to soft keyboard from the English Button\n? Deploy the new version on Mobile\n\n# Complete Info for android.view.InputMethod:\nhttps://developer.android.com/reference/android/view/inputmethod/package-summary.html\n\nAndroid IME is more poweful than iOS Keboard Extension.\n\n# When importing Eclipse/ADT project into Android Studio.  \n## Check the destination project location and name \n## Leave only folder src and res and file AndroidManifest.xml. Remove all others\n## Might need creation of new Devices. \n====================================================', '2017-08-31 22:41:05'),
(213, '', '', '20170914 PHP Notes\n==========================================\n\n\n\n# PHP Check if a key exists in an  array:\nInstead of isset() you can also use: array_key_exists().\nisset() checks also whether the value of the variable is null. If it is null then isset returns false \narray_key_exists() returns always true if the key exists (no mater which value).\n$array = array(''c'' => null);\nvar_dump(isset($array[''c'']))); // isset() returns FALSE here\nvar_dump(array_key_exists($array[''c'']); //array_key_exists() returns TRUE\n\n\n==========================================\n# PHP: Prevent Page to re-submit a form after clicking Refresh Button in the Browser:\n\n## Way 1: Directly forward to a page, event the same one.\nheader(''Location: thankyou.php''); you can also redirect to the same page.\n## Way 2: To stay on the same page, use Ajax to handle the form submission\n## Way 3: Not OK yet.  \n<input type=''hidden'' name=''post_id'' value=''".createPassword(64)."''>\n\nif( ($_SESSION[''post_id''] != $_POST[''post_id'']) )\n{\n    $_SESSION[''post_id''] = $_POST[''post_id''];\n    //do post stuff\n} else {\n    //normal display\n}\n\nfunction createPassword($length)\n{\n    $chars = "abcdefghijkmnopqrstuvwxyz023456789";\n    srand((double)microtime()*1000000);\n    $i = 0;\n    $pass = '''' ;\n\n    while ($i <= ($length - 1)) {\n        $num = rand() % 33;\n        $tmp = substr($chars, $num, 1);\n        $pass = $pass . $tmp;\n        $i++;\n    }\n    return $pass;\n}\n\n\n# Simplest Contact Form:\n\n<?php\n    \n    if(!isset($_REQUEST[''contact-form-action''])) /* display the contact form */    \n    {\n?>\n    <form  action="" method="POST" enctype="multipart/form-data">\n	    <input type="hidden" name="contact-form-action" value="".createContactFormSubmissionPassword(64).""/>\n	    Your name:<br/>\n	    <input name="name" type="text" value="" size="60"/><br/>\n	    Your email:<br/>\n	    <input name="email" type="text" value="" size="60"/><br/>\n	    Your message:<br/>\n	    <textarea name="message" rows="10" cols="61"></textarea-for_not_breaking_ttn><br/>\n	    <input type="submit" value="Submit"/>\n    </form>\n<?php\n    } \n    else  /* send the submitted data */\n    {\n    $name=$_REQUEST[''name''];\n    $email=$_REQUEST[''email''];\n    $message=$_REQUEST[''message''];\n    \n    /*Windows note: If a full stop is found on the beginning of a line in the message, it might be removed. \n    To solve this problem, replace the full stop with a double dot:*/\n	$message = str_replace("\\n.", "\\n..", $message);\n        \n    if (($name=="")||($email=="")||($message==""))\n        {\n        echo "All fields are required, please fill <a href=\\"\\">the form</a> again.";\n        }\n    else{        \n        $from="From: $name<$email>\\r\\nReturn-path: $email";\n        $subject="Message sent using Simple Contact Form";\n        mail("rfeng@ymail.com", $subject, $message, $from);\n        echo "Thanks, Message has been sent!";\n        unset($_REQUEST[''contact-form-action'']);\n        }\n    }  \n?>\n\n\n==========================================', '2017-09-14 05:27:07'),
(214, '', '', '20170917 Linux Notes\n=================================\n\n\n\n\n=================================\n\n\n\n\n=================================\n\n\n\n---------------------------------------------\nShow send mail errors by sending mails using command line on the server:\n\n#!/bin/sh\n# change RECIPEINT and SENDER addresses\nRECIPIENT=rfeng@ymail.com\nSENDER=ontpm@hotmail.com\n\n# -Am - send directly (by default email would go to 127.0.0.1:25)\n# -v - turn on verbose mode (smtp tracking)\n# -d60.5 - tracking maps (including authinfo) lookups\n\n/usr/sbin/sendmail -Am -d60.5 -v -i -f$SENDER -- $RECIPIENT <<END\nSubject: test\nFrom: $SENDER\nTo: $RECIPIENT    \n\ntest!\nEND\n\n\n---------------------------------------------\nCommands for fixing Not Sending Mail Issue: The cause is SELinux is disabled all the times.\n\nadmin001@csserver003:~/test01$ sh test_send_mail -v\n: not foundail: 5: test_send_mail:\n: not foundail: 9: test_send_mail:\nmap_lookup(host, hotmail.com, %0=hotmail.com) => hotmail.com. (0)\nmap_lookup(host, hotmail.com, %0=hotmail.com) => hotmail.com. (0)\nmap_lookup(host, ymail.com, %0=ymail.com) => ymail.com. (0)\ncollect: Cannot write ./dfv8EMrPLg005541 (bfcommit, uid=1000, gid=110): Permission denied\nqueueup: cannot create queue file ./qfv8EMrPLg005541, euid=1000, fd=-1, fp=0x0: Permission denied\nadmin001@csserver003:~/test01$ cd /var/spool/clientmqueue\n\nadmin001@csserver003:/var/spool$ chmod mqueue-client 770\nadmin001@csserver003:/var/spool$ sudo chmod 777 mqueue-client\n\nadmin001@csserver003:~/test01$ getsebool httpd_can_sendmail\nThe program ''getsebool'' is currently not installed. To run ''getsebool'' please ask your administrator to install the package ''selinux-utils''\n\nadmin001@csserver003:/var/spool$ restorecon mqueue\nThe program ''restorecon'' is currently not installed. To run ''restorecon'' please ask your administrator to install the package ''policycoreutils''\n\nadmin001@csserver003:/var/spool$ sudo apt-get install policycoreutils\n...........\nProcessing triggers for ureadahead (0.100.0-16) ...\nSetting up selinux-policy-default (2:2.20140206-1) ...\nUpdating selinux default policy.../var/lib/dpkg/info/selinux-policy-default.postinst: line 26:  7824 Killed                  semodule -s "${flavour}" -BN\ndpkg: error processing package selinux-policy-default (--configure):\n subprocess installed post-installation script returned error exit status 137\nProcessing triggers for libc-bin (2.19-0ubuntu6.7) ...\nErrors were encountered while processing:\n selinux-policy-default\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n\nadmin001@csserver003:/var/spool$ restorecon mqueue\nadmin001@csserver003:/var/spool$ restorecon mqueue-client\nadmin001@csserver003:~/test01$ sudo getsebool httpd_can_sendmail\n\ngetsebool:  SELinux is disabled\n\nadmin001@csserver003:/etc/selinux$ cat config\n# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n# enforcing - SELinux security policy is enforced.\n# permissive - SELinux prints warnings instead of enforcing.\n# disabled - No SELinux policy is loaded.\nSELINUX=permissive\n# SELINUXTYPE= can take one of these two values:\n# default - equivalent to the old strict and targeted policies\n# mls     - Multi-Level Security (for military and educational use)\n# src     - Custom policy built from source\nSELINUXTYPE=default\n\n# SETLOCALDEFS= Check local definition changes\nSETLOCALDEFS=0\n\nadmin001@csserver003:/etc/selinux$ cd /\nadmin001@csserver003:/$ sudo /etc/init.d/apparmor stop\n * Clearing AppArmor profiles cache                                      [ OK ]\nAll profile caches have been cleared, but no profiles have been unloaded.\nUnloading profiles will leave already running processes permanently\nunconfined, which can lead to unexpected situations.\n\nTo set a process to complain mode, use the command line tool\n''aa-complain''. To really tear down all profiles, run the init script\nwith the ''teardown'' option."\n\nadmin001@csserver003:/$ sudo getsebool httpd_can_sendmail\ngetsebool:  SELinux is disabled\nadmin001@csserver003:/$ sudo update-rc.d -f apparmor remove\n Removing any system startup links for /etc/init.d/apparmor ...\n   /etc/rcS.d/S37apparmor\n\nadmin001@csserver003:/$ sudo reboot\n// Still the same errors from test-send_mail script.\n\nadmin001@csserver003:/$ sudo getsebool httpd_can_sendmail\ngetsebool:  SELinux is disabled\n\n=================================\n\n\n', '2017-09-16 23:11:49'),
(215, '', '', '201710-11 Daily Notes ZiDian iOS/Android\n====================================================\n\n\n====================================================\n20171121 TUE:\n* The long test swift codes succeeded  in build a long string, decode to KeyboardDefinition objects and then encode into json strings.\n* Pretty Good. We''ll use codable for many things.\n\n----------------------------------------------------\n20171120 MON\n* Built a long test swift codes to build a long string to decode into KeyboardDefinition classes.\n \n# Spell Check and Auto_Complete:  \nhttp://norvig.com/spell-correct.html\nA piece of codes to do spell check and quite academically studied the topic.\n====================================================\n20171113-19\n* Use IBM Swift Sandbox to test Codable feature for Keyboad definition classes.\n* But it is hard to have a spell checker and auto complete, prediction for a mature custom keyboard.\n* TouchPal is a huge software on market, found from my mobile.\n \n====================================================\n----------------------------------------------------\n20171112 SUN\n* Study decoding/coding adios objects using iOS swift 4 Codable Interface.\n* Built sample codes into git3/tech/ios_note/Codable.\n\n# For enum type, found no easy way to encode to decode. Practical way is: define another fields as String Type\nand encode enum field into this new field and decode from this new field. But enum type will need a fromString function added manually. \nFound no way to have a fromString function automatically.\n\n# IBM Swift Sandbox to test swift codes: https://swift.sandbox.bluemix.net/#/repl\n# Bool type can be used as Codable.\n# Array can be used as Codable\n# Multiple line constant string literal: """ .... """ \n# Json in swift codes:     let cj = """\n{"name":"P1J","text":"J"}\n""".data(using: .utf8)! // make string to be json object.\n# Decode Code:\nlet jsonDecoder3 = JSONDecoder()\nlet obj = try? jsonDecoder3.decode(KeyCell.self, from: json1)\n# Encode Code:\n let jsonEncoder2 = JSONEncoder()\n jsonEncoder2.outputFormatting = .prettyPrinted     \n if let json2 = try? jsonEncoder2.encode(obj) {\n            if let jsonString = String(data: json2, encoding: .utf8) {\n                print(jsonString)\n            }\n  }\n# Swift compiler will add Codable methods as far as it can.\n# dump(obj) print the obj fields automatically.\n# CodingKeys is used to limit or select fields for Codable purposes:\nenum CodingKeys: String, CodingKey {\n        case mainCellArray\n        case secondaryCellArray\n        case popUpCellArray\n        case widthInRowUnits\n      \n    }\n\n#   required init(from decoder: Decoder) throws {\n        let values = try decoder.container(keyedBy: CodingKeys.self)\n        mainCellArray = try values.decode([KeyCell].self, forKey: .mainCellArray)\n        secondaryCellArray = try values.decode([KeyCell].self, forKey: .secondaryCellArray)\n        popUpCellArray = try values.decode([KeyCell].self, forKey: .popUpCellArray)\n        widthInRowUnits = try values.decode(Int.self, forKey: .widthInRowUnits)\n }\n# \nextension Coordinate: Encodable {\n    func encode(to encoder: Encoder) throws {\n        var container = encoder.container(keyedBy: CodingKeys.self)\n        try container.encode(latitude, forKey: .latitude)\n        try container.encode(longitude, forKey: .longitude)\n		try container.encode(visited, forKey: .visited)\n		\n		try container.encode(names, forKey: .names)\n		try container.encode(landType.rawValue, forKey: .landTypeString)\n        \n        var additionalInfo = container.nestedContainer(keyedBy: AdditionalInfoKeys.self, forKey: .additionalInfo)\n        try additionalInfo.encode(elevation, forKey: .elevation)\n    }\n}\n----------------------------------------------------\n20171111 SAT\n----------------------------------------------------\n20171110 FRI\n----------------------------------------------------\n20171109 THR\n----------------------------------------------------\n20171108 WED\n----------------------------------------------------\n20171107 TUE\n* Read UIKit/Views and Controls for a list of UIView sub classes.\n----------------------------------------------------\n20171106 MON\n* Read about ios Combo Box and radio buttons equivalents.\n====================================================\n----------------------------------------------------\n20171031 TUE\n* Found Swift4 Decodable feature to serialize json and classes in the new way now. \n* Follow a tutorial for that.\n----------------------------------------------------\n20171030 MON\n* Considering to use local file to record the json keyboard definition.\n----------------------------------------------------\n20171029 SUN\n* Added padding = popUpBorderWidth around the KeyCell Views inside Pop Up Rect for Amin cell and secondary cells.\n----------------------------------------------------\n20171028 SAT\n* The next thing we need to do is to draw the secondary cell in the key surface.\nCurrently on the main cell was drawn on the key surface. Basically the secondary cell was shown at the right location now but with font size issue, and frame might be too small.\n* Added different scales for width and height for secondary cells.\n* Added different font sizes for secondary cells.\n----------------------------------------------------\n20171027 FRI\n* zdios202 is ready to highlight the selected cell inside the pop up rect for keys having multiple variable width cells.\n* The first secondary cell is located close to the finger position already. \n----------------------------------------------------\n20171026 THR\n----------------------------------------------------\n20171025 WED\n----------------------------------------------------\n20171024 TUE\n----------------------------------------------------\n20171023 MON\n* Started to prepare android version technologies for a little bit time.\n \n----------------------------------------------------\n20171015 SUN  - 22 SUN\n* Technologies are ready for extensible keyboard except highlight selected cell view.\n* How to draw pop up border path.\n* How to create UIView for key cells inside the Key Definition.\n* How to put all the secondary cells into Pop Up Rect as UIViews with requirement:\nCells are close to current finger position based on the their order in key definition.\n** Used four variables: LeftMax, LeftMin, rightMin, rightMax. The elements were added at the left side and then right side.\n** Shift the filled cell views together into the Pop up rect. \n** Last cell view could be added in beyond the pop up rect border.\n\n----------------------------------------------------\n20171014 SAT\n* Added Timer to detect Touch Hold status inside Touch Begin Even Handler and worked OK.\nAll touch statuses are detected OK. Down/Hold/Move/Up.\n\n----------------------------------------------------\n20171013 FRI\n* Thinking overall design of the keyboard, esp. touches series. \n* Fixed the calculation glitches and handling boundary issues.\n* Pop up border looks alright all the times.\n* Implemented touch status for KeyboardView and sending out Down/Move/Hold/Up series.\n* Touch phrase.Stationary cannot be reached from tests.\n\n# Both stroke and fill method must be called for the popup border path. \n----------------------------------------------------\n20171012 THR\n\n* Pop-up parameters merged into a Pop Up Settings class and all methods for pop-up is merged into Pop Up Container View.\n* pop-up border separated into two parts: U-shape around Key View and Opaque above it.\n* Pop Up Container View comes in the right frames. \n* Pop up border for left-most and right-most was properly built.\n\n! KeyboardDefintion will be an open structure for user to define their own complex configurations.\n----------------------------------------------------\n20171011 WED\n* Changed to draw popup border path for a key view from KeyboardView level and the border path come out but under the sub views.\n So have to add a transparent view over the keyboard view.\n* Added PopupContainerView into zdios202 to hold popup for key views. \n* pop up border path comes on the top and with some shape error.\n* pop-up border path comes out OK. \n\n# It is impossible to draw path over the sub views from UIView''s graphics context. \n----------------------------------------------------\n20171010 TUE\n* Build codes to test the popup border path for a key view from KeyView but no display is possible.\n# UIView.draw(rect) cannot draw outside the rect at all.\n----------------------------------------------------\n20171009 MON\n* Build codes to get popup border path, including leftmost and rightmost scenarios, from a key view.\n====================================================\n20171008 SUN\n* Detectd Touch Down, Tap, and LongPress on KeyView from KeyboardView''s touch/Begin/Moved/Ended/Cancelled.\n** KeyView''s isUserInteractionEnabled = false. Otherwise, parent view keyboard view cannot received the touches in the touches override functions.\n** hitTest of UIView on KeyboardView cannot be used since the above reason. \n----------------------------------------------------\n20171007 SAT\n----------------------------------------------------\n20171006 FRI\n* Commander''s design \n---------------------------------------------------\n20171005 THR* github user is rfwl and password is 87 version.\n* On github.com, we have a single private repo at: https://github.com/rfwl/test.git.\n* Added code_exchange folder under git3 for new coding tasks. \n \n# git remote add origin https://github.com/rfwl/test.git\n# git pull origin master  \n----------------------------------------------------\n20171004 WED ----Project zdios 202\n* Up to now, heyboard definition have been defined and key locations are well located. key view can be shown in text, shape and icon. \n* Showing image as KeyView in two ways.\n\n# There are two ways to show image inside a UIView:\n** Draw image in the graphics context and get an new image, and set the new image instance as patternedImage: to backgroundColor of the view.  \n** Build an UIImageView instance out of the UIImage instance and add the UIImageView as sub view.  This is better one.  \n# UIImage(named: path-to-image-file), image file must be added in to the project as a new file into a group. Otherwise, the image file cannot be found.  \n====================================================', '2017-10-05 01:50:53'),
(216, '', '', '20171107 iOS/Swift Notes:\n\n===================================================\n\n===================================================\nSpell Check and Auto_Complete:  \nhttp://norvig.com/spell-correct.html\nA piece of codes to do spell check and quite academically studied the topic.\n===================================================\nFirst Generic Function Definition:\n	func checkResult<T:Codable>(_ str1:String, type: T){\n		let json1 = str1.data(using: .utf8)!\n\n		//let rowObj1 = try JSONDecoder().decode(T.self, from: json1)\n		\n\n		let jsonEncoder = JSONEncoder()\n		do {\n			let rowObj1 = try JSONDecoder().decode(T.self, from: json1)\n			dump(rowObj1)\n			\n			let jsonData = try jsonEncoder.encode(rowObj1)\n			let jsonString = String(data: jsonData, encoding: .utf8) \n			print("JSON String : " + jsonString! + "\\n\\n")\n\n		}\n		catch {\n		}\n	}\n\n  checkResult(str1,type:KeyboardRow)\n===================================================\nhttps://stackoverflow.com/questions/24092884/get-nth-character-of-a-string-in-swift-programming-language\nGet nth character of a string in Swift programming language\nSwift 4: String supports subscript (access with [ ] ) out of the box:\n\nlet str = "Hello, world!"\nlet index = str.index(str.startIndex, offsetBy: 4)\nstr[index] // returns Character ''o''\n\nlet endIndex = str.index(str.endIndex, offsetBy:-2)\nstr[index ..< endIndex] // returns String "o, worl"\n\nString(str.suffix(from: index)) // returns String "o, world!"\nString(str.prefix(upTo: index)) // returns String "Hell"\nAlternatively you can use this more concise syntax:\n\nlet str = "abcdef"\nstr[1 ..< 3] // returns "bc"\nstr[5] // returns "f"\nstr[80] // returns ""\nstr.substring(fromIndex: 3) // returns "def"\nstr.substring(toIndex: str.length - 2) // returns "abcd"\n... but for that you''d need to add this String extension (fully tested):\n\nextension String {\n\n  var length: Int {\n    return self.characters.count\n  }\n\n  subscript (i: Int) -> String {\n    return self[i ..< i + 1]\n  }\n\n  func substring(fromIndex: Int) -> String {\n    return self[min(fromIndex, length) ..< length]\n  }\n\n  func substring(toIndex: Int) -> String {\n    return self[0 ..< max(0, toIndex)]\n  }\n\n  subscript (r: Range<Int>) -> String {\n    let range = Range(uncheckedBounds: (lower: max(0, min(length, r.lowerBound)),\n                                        upper: min(length, max(0, r.upperBound))))\n    let start = index(startIndex, offsetBy: range.lowerBound)\n    let end = index(start, offsetBy: range.upperBound - range.lowerBound)\n    return String(self[start ..< end])\n  }\n\n}\n====================================================\nRead and  decode json from  URL as resources:\n\nfunc jsonDecoding() {\n    let jsonUrlString = "https://kitsu.io/api/edge/anime"\n\n    guard let url = URL(string: jsonUrlString) else {return} //\n    URLSession.shared.dataTask(with: url) { (data, response, err) in\n        guard let data = data else {return}\n        do {\n            let animeJsonStuff =  try JSONDecoder().decode(AnimeJsonStuff.self, from: data)\n            for anime in animeJsonStuff.data {\n                print(anime.id)\n                print(anime.type)\n                print(anime.links?.selfStr)\n                print(anime.attributes?.createdAt)\n                for (key, value) in anime.relationships! {\n                    print(key)\n                    print(value.links?.selfStr)\n                    print(value.links?.related)\n                }\n            }\n        } catch let jsonErr {\n            print("Error serializing json", jsonErr)\n        }\n    }.resume()\n}\n\n===================================================\nUICollectionView Sample Flickr Search:\nhttps://www.raywenderlich.com/136159/uicollectionview-tutorial-getting-started\nThe site has many other good lengthy tutorials for swift/ios/android/ ... as well.\n\nUICollectionView and Components:\n\n1> UICollectionView â€“ the main view in which the content is displayed, similar to a UITableView. \nLike a table view, a collection view is a UIScrollView subclass.\n\n2> UICollectionViewCell â€“ similar to a UITableViewCell in a table view. These cells make up the content of the view and are added as sub views to the collection view. \nCells can be created programmatically or inside Interface Builder.\n\n3> Supplementary Views â€“ if you have extra information you need to display that shouldnâ€™t be in the cells but still somewhere within the collection view, \nyou should use supplementary views. \nThese are commonly used for headers or footers.\n\n4> Decoration Views â€“ if you want to add some extra views to enhance the appearance of the collection view (but donâ€™t really contain useful data), you should use decoration views. \nBackground images or other visual embellishments are good examples of decoration views. \nIt requires you to write a custom layout class.\n\n5> Layout object for the size, position and other. \nLayout objects are subclasses of UICollectionViewLayout. \nLayouts can be swapped out during runtime and \nCollection view can even automatically animate switching from one layout to another!\nCan subclass UICollectionViewLayout to create your own custom layouts, but Apple has graciously provided developers with \na basic â€œflow-basedâ€ layout called UICollectionViewFlowLayout. It lays elements out one after another based on their size, quite like a grid view. \n\n===================================================\nUIKit - Views and Controls\n1> class UIView\nAn object that manages the content for a rectangular area on the screen.\n\n2> Container Views\nOrganize and present large data sets using container views.\nCollection Views\nDisplay nested views using a configurable and highly customizable layout.\nTable Views\nDisplay data in a single column of customizable rows.\nclass UIStackView\nA streamlined interface for laying out a collection of views in either a column or a row.\nclass UIScrollView\nA view that allows the scrolling and zooming of its contained views.\n\n3> Content Views\nclass UIActivityIndicatorView\nA view that shows that a task is in progress.\nclass UIImageView\nAn object that displays a single image or a sequence of animated images in your interface.\nclass UIPickerView\nA view that uses a spinning-wheel or slot-machine metaphor to show one or more sets of values.\nclass UIProgressView\nA view that depicts the progress of a task over time.\nclass UIWebView\nA view that embeds web content in your app.\n\n4> Controls\nGather input and respond to user interactions with controls.\nclass UIControl\nThe base class for controls, which are visual elements that convey a specific action or intention in response to user interactions.\nclass UIButton\nA control that executes your custom code in response to user interactions.\nclass UIDatePicker\nA control used for the inputting of date and time values.\nclass UIPageControl\nA control that displays a horizontal series of dots, each of which corresponds to a page in the appâ€™s document or other data-model entity.\nclass UISegmentedControl\nA horizontal control made of multiple segments, each segment functioning as a discrete button.\nclass UISlider\nA control used to select a single value from a continuous range of values.\nclass UIStepper\nA control used to increment or decrement a value.\nclass UISwitch\nA control that offers a binary choice, such as On/Off.\n\n5> Text Views\nDisplay and edit text using text views.\nclass UILabel\nA view that displays one or more lines of read-only text, often used in conjunction with controls to describe their intended purpose.\nclass UITextField\nAn object that displays an editable text area in your interface.\nclass UITextView\nA scrollable, multiline text region.\nDrag and Drop Customization\nExtend the standard drag and drop support for text views to include custom types of content.\n\n\n\n6> Bars\nManage the items displayed on navigation bars, tab bars, search bars, and tool bars.\n\nclass UIBarItem\nAn abstract superclass for items that can be added to a bar that appears at the bottom of the screen.\n\nclass UIBarButtonItem\nA button specialized for placement on a tool bar or tab bar.\nclass UIBarButtonItemGroup\nA set of bar button items on the shortcuts bar above the keyboard on iPad.\n\nclass UINavigationBar\nA control that supports navigation of hierarchical content, most often used in navigation controllers.\nclass UISearchBar\nA text fieldâ€“like control that supports text-based searches.\nclass UIToolbar\nA control that displays one or more buttons along the bottom edge of your interface.\n\nclass UITabBar\nA control that displays one or more buttons in a tab bar for selecting between different subtasks, views, or modes in an app.\nclass UITabBarItem\nAn item in a tab bar.\n\nprotocol UIBarPositioning\nA set of methods for defining the ways that bars can be positioned in iOS apps.\nprotocol UIBarPositioningDelegate\nA set of methods that support the positioning of a bar that conforms to the UIBarPositioning protocol.\n\n7> Menus\nclass UIMenuController\nThe menu interface for the Cut, Copy, Paste, Select, Select All, and Delete commands.\nclass UIMenuItem\nA custom item in the editing menu managed by the UIMenuController object.\n\n\n8> Visual Adornments\nclass UIVisualEffect\nAn initializer for visual effect views and blur and vibrancy effect objects.\nclass UIVisualEffectView\nAn object that implements some complex visual effects.\nclass UIVibrancyEffect\nAn object that amplifies and adjusts the color of the content layered behind a visual effect view.\nclass UIBlurEffect\nAn object that applies a blurring effect to the content layered behind a visual effect view.\n\n\n9> Appearance Customization\nprotocol UIAppearance\nA collection of methods that gives you access to the appearance proxy for a class.\nprotocol UIAppearanceContainer\nA protocol that a class must adopt to allow appearance customization using the \nUIAppearance API.\n\n10> Related Types\nstruct UIEdgeInsets\nThe inset distances for views.\nstruct NSDirectionalEdgeInsets\nEdge insets that take language direction into account.\nstruct UIOffset\nDefines a structure that specifies an amount to offset a position.\n\n\n===================================================', '2017-11-06 22:48:01');

-- --------------------------------------------------------

--
-- Table structure for table `note_tag`
--

CREATE TABLE IF NOT EXISTS `note_tag` (
  `noteID` int(11) NOT NULL,
  `tagID` int(11) NOT NULL,
  `position` float DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `note_tag`
--

INSERT INTO `note_tag` (`noteID`, `tagID`, `position`) VALUES
(134, 317, 9),
(134, 318, 19),
(133, 318, 9),
(144, 318, 9),
(144, 317, 19),
(144, 260, 49),
(148, 313, 9),
(148, 318, 19),
(148, 301, 14),
(148, 317, 2.25),
(148, 259, 910),
(149, 314, 9),
(149, 317, 19),
(149, 318, 910),
(149, 287, 91010),
(149, 313, 9101010),
(146, 315, 9),
(146, 318, 19),
(146, 314, 4.5),
(146, 312, 4.5),
(146, 301, 11.75),
(145, 318, 9),
(145, 314, 19),
(145, 313, 29),
(145, 301, 39),
(154, 256, 9),
(154, 256, 9),
(154, 265, 9),
(154, 304, 19),
(154, 306, 9),
(154, 265, 19),
(154, 253, 9),
(154, 256, 9),
(154, 306, 9),
(154, 258, 19),
(154, 261, 9),
(154, 265, 19),
(154, 258, 29),
(154, 330, 39),
(154, 296, 49),
(154, 257, 59),
(154, 311, 69),
(154, 305, 79),
(154, 304, 89),
(154, 327, 9),
(154, 334, 19),
(154, 322, 29),
(155, 255, 91010),
(155, 323, 45524.8),
(155, 277, 9),
(155, 282, 9),
(146, 269, 2.295),
(122, 306, 9),
(122, 256, 19),
(122, 265, 14),
(122, 258, 29),
(122, 304, 14),
(122, 257, 21.5),
(122, 255, 14),
(122, 309, 21.5),
(122, 280, 707),
(122, 277, 707),
(143, 305, 9),
(143, 311, 19),
(143, 308, 29),
(143, 292, 964.5),
(143, 251, 964.5),
(143, 253, 974.5),
(144, 261, 1469.5),
(144, 306, 391010000000),
(145, 282, 3910),
(122, 301, 910),
(151, 310, 9),
(151, 306, 9),
(151, 256, 9),
(151, 306, 9),
(151, 280, 9),
(151, 256, 9),
(147, 254, 91010),
(144, 341, 391010000000),
(147, 341, 91020),
(149, 253, 9101020),
(147, 308, 91030),
(146, 308, 1),
(149, 308, 4596010),
(148, 337, 9),
(148, 333, 19),
(148, 291, 4.5),
(148, 323, 14),
(147, 337, 9),
(147, 323, 29),
(147, 291, 39),
(156, 290, 9),
(156, 307, 19),
(157, 341, 9),
(157, 338, 19),
(146, 341, 21),
(146, 338, 31),
(144, 338, 391010000000),
(158, 341, 9),
(164, 323, 4.5),
(164, 308, 4.5),
(163, 341, 9),
(164, 349, 4.5),
(164, 276, 4.5),
(160, 307, 9),
(160, 290, 19),
(160, 262, 29),
(162, 268, 9),
(162, 295, 19),
(162, 290, 4.5),
(162, 291, 11.75),
(162, 307, 29),
(162, 335, 4.5),
(165, 250, 9),
(165, 310, 4.5),
(159, 268, 9),
(159, 295, 19),
(159, 276, 29),
(159, 363, 4.5),
(35, 347, 9),
(35, 366, 19),
(36, 366, 9),
(36, 368, 19),
(166, 372, 9),
(166, 341, 19),
(166, 353, 29),
(167, 354, 19),
(167, 373, 29),
(168, 355, 9),
(168, 356, 19),
(165, 372, 2),
(165, 341, 2),
(169, 287, 9),
(169, 372, 4.5),
(171, 355, 9),
(171, 249, 29),
(172, 341, 9),
(172, 372, 29),
(173, 319, 19),
(173, 355, 29),
(174, 287, 19),
(174, 372, 9.5),
(174, 330, 39),
(176, 347, 9),
(176, 355, 29),
(176, 356, 39),
(176, 291, 4.5),
(176, 319, 49),
(177, 313, 9),
(177, 255, 19),
(178, 355, 9),
(178, 249, 19),
(178, 319, 29),
(179, 287, 9),
(179, 262, 19),
(180, 355, 9),
(180, 249, 19),
(181, 249, 19),
(181, 315, 29),
(169, 328, 4.5),
(172, 328, 39),
(182, 315, 9),
(182, 342, 19),
(182, 249, 29),
(186, 319, 19),
(186, 315, 9.5),
(185, 328, 9),
(185, 287, 19),
(185, 315, 29),
(185, 262, 39),
(184, 315, 9),
(184, 319, 19),
(187, 328, 13),
(187, 315, 46),
(187, 287, 29.5),
(187, 355, 56),
(187, 316, 66),
(188, 328, 9),
(188, 287, 19),
(189, 326, 9),
(189, 369, 19),
(184, 364, 29),
(189, 313, 29),
(189, 364, 39),
(191, 253, 9),
(191, 319, 19),
(191, 326, 29),
(191, 369, 39),
(194, 368, 39),
(195, 352, 9),
(194, 253, 49),
(195, 253, 19),
(192, 253, 9),
(192, 369, 19),
(192, 365, 29),
(192, 319, 39),
(192, 370, 49),
(197, 371, 9),
(202, 328, 9),
(200, 328, 9),
(203, 328, 9),
(201, 328, 9),
(196, 328, 9),
(193, 328, 9),
(192, 328, 59),
(190, 328, 9),
(204, 253, 9),
(206, 335, 19),
(206, 265, 29),
(208, 307, 9),
(208, 257, 19),
(208, 256, 29),
(210, 256, 9),
(210, 372, 19),
(210, 257, 29),
(209, 307, 29),
(208, 328, 39),
(211, 366, 9),
(211, 326, 19),
(212, 328, 9),
(212, 372, 19),
(212, 256, 29),
(212, 257, 39),
(212, 328, 9),
(208, 328, 9),
(215, 328, 9),
(215, 256, 19),
(215, 257, 29),
(216, 307, 9);

-- --------------------------------------------------------

--
-- Table structure for table `tag`
--

CREATE TABLE IF NOT EXISTS `tag` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `text` varchar(50) NOT NULL,
  `description` varchar(200) DEFAULT NULL,
  `position` float DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=373 ;

--
-- Dumping data for table `tag`
--

INSERT INTO `tag` (`id`, `text`, `description`, `position`) VALUES
(249, 'Summary', 'My Points in Summary', 0),
(251, 'Tag 251', 'tag4desc', 249.469),
(252, 'Tag 252', 'tag6descAAAAAAA', 252),
(253, 'Javascript', '', 62.2507),
(254, 'Tag 254', 'tag7desc', 254),
(255, 'jqGrid', '', 62.2511),
(256, 'ZiDian IOS', 'tag5desc', 0),
(257, 'ZiDian Android', '', 0),
(258, 'ZiDian Dictionary', '', 0),
(261, 'Tag 261', 'tag12desc', 252.875),
(262, 'Temporary Notes', 'Code backup for exchange on different computers', 0),
(265, 'DDBar', 'Draggable Divider Bar Javascript Package', 0),
(266, 'Tag 266', 'tag17desc', 250.25),
(268, 'Tag 268', 'tag19desc', 249.438),
(276, 'Memo Notes', '', 0),
(277, 'Tag 277', 'tag28desc', 252.75),
(280, 'Linux', '', 249.348),
(282, 'PHP', 'PHP', 249.25),
(287, 'DryDock', 'BA-Developer-Track', 0),
(290, 'Tag 290', '88888888', 249.375),
(291, 'Tech', 'Learning or Studying Technology', 62.2511),
(292, 'Tag 292', '9999999', 251.5),
(294, 'Tag 294', 'TTY', 252.5),
(295, 'Tag 295', 'QQQQQQ', 249.768),
(296, 'Tag 296', 'PPPPPP', 250.5),
(299, 'Linux', 'Linux', 62.2511),
(301, 'WNBJS', 'Web Note Book JS', 0),
(304, 'Tag 304', '', 250.047),
(305, 'Tag 305', '', 249.5),
(306, 'Tag 306', 'Realiaty', 249.594),
(307, 'IOS/Swift', '', 0),
(308, 'Tag 308', '', 249.844),
(311, 'Tag 311', '', 249.688),
(313, 'jQuery', '', 62.2511),
(315, 'WPF', '', 62.2511),
(316, 'DotNET', '.NET Framework', 62.2511),
(319, 'Code Samples', '', 0),
(326, 'Research Notes', 'qewrqewrq  ewrqwerewr', 0),
(328, 'Daily Notes', 'Daily Records', 0),
(330, 'Design Notes', 'Design Ideas', 0),
(335, 'Sell/Market', 'selling/marketing', 0),
(341, 'TTN', 'Tag/Tree/Note', 0),
(342, 'DataGrid', '', 62.2511),
(343, 'DataGrid', '', 93.3755),
(347, 'ASP MVC', 'ASP.NET MVC', 62.2511),
(350, 'Visa189NZ', '', 0),
(352, 'Node.js', '', 93.3755),
(355, 'EF', 'Entity Framework', 93.3755),
(356, 'Tutorial', 'Tutorial', 0),
(364, 'TreeView', '', 93.3755),
(365, 'CSS', '', 62.2509),
(366, 'Android/Java', '', 0),
(368, 'Drag/Drop', '', 93.3755),
(369, 'HTML5', '', 62.251),
(370, 'SVG', 'HTML 5 Element', 93.3755),
(371, 'M2ATreeView', '', 0),
(372, 'Project Notes', 'Process to produce a product', 0);

-- --------------------------------------------------------

--
-- Table structure for table `tree`
--

CREATE TABLE IF NOT EXISTS `tree` (
  `id` int(11) NOT NULL,
  `text` varchar(50) NOT NULL,
  `description` int(200) NOT NULL,
  `order` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `tree_node`
--

CREATE TABLE IF NOT EXISTS `tree_node` (
  `id` int(11) NOT NULL,
  `tag_id` int(11) NOT NULL,
  `tree_id` int(11) NOT NULL,
  `parent_id` int(11) NOT NULL,
  `order` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE IF NOT EXISTS `user` (
  `login` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`),
  UNIQUE KEY `login` (`login`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=8 ;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`login`, `password`, `id`) VALUES
('fwl', 'ttn', 1),
('user001', 'password001', 2),
('user002', 'password002', 3),
('user003', 'password003', 4),
('user004', 'password004', 5),
('user005', 'password005', 6),
('user006', 'password006', 7);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
